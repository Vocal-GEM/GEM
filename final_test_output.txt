
> vocal-gem@0.1.0 test
> vitest src/components/ui/CoachView.test.jsx src/utils/lpcAnalysis.test.js src/utils/cppAnalysis.test.js src/hooks/useTTS.test.js src/services/IndexedDBManager.test.js --run


[1m[46m RUN [49m[22m [36mv4.0.14 [39m[90mC:/Users/riley/Desktop/GEM[39m

 [32mÎ“Â£Ã´[39m src/utils/lpcAnalysis.test.js [2m([22m[2m3 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/utils/cppAnalysis.test.js [2m([22m[2m4 tests[22m[2m)[22m[32m 27[2mms[22m[39m
[90mstdout[2m | src/services/IndexedDBManager.test.js[2m > [22m[2mIndexedDBManager[2m > [22m[2mshould save and retrieve a journal entry
[22m[39m[IndexedDB] add journals took 1.67ms

 [32mÎ“Â£Ã´[39m src/services/IndexedDBManager.test.js [2m([22m[2m2 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/hooks/useTTS.test.js [2m([22m[2m5 tests[22m[2m)[22m[32m 52[2mms[22m[39m
stderr | src/components/ui/CoachView.test.jsx > CoachView Component > renders empty state when messages are cleared or initial
Warning: An update to CoachView inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at CoachView (C:/Users/riley/Desktop/GEM/src/components/ui/CoachView.jsx:33:69)

 [32mÎ“Â£Ã´[39m src/components/ui/CoachView.test.jsx [2m([22m[2m1 test[22m[2m)[22m[32m 89[2mms[22m[39m
Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Unhandled Errors Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Unhandled Rejection Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
TypeError: Cannot read properties of undefined (reading 'open')
 Î“Â¥Â» src/services/IndexedDBManager.js:31:46
     29|     async init() {
     30|         return new Promise((resolve, reject) => {
     31|             const request = window.indexedDB.open(DB_NAME, DB_VERSION);
       |                                              ^
     32| 
     33|             request.onerror = () => reject(request.error);
 Î“Â¥Â» IndexedDBManager.init src/services/IndexedDBManager.js:30:16
 Î“Â¥Â» new IndexedDBManager src/services/IndexedDBManager.js:26:33
 Î“Â¥Â» src/services/IndexedDBManager.js:327:26
 Î“Â¥Â» VitestModuleEvaluator._runInlinedModule node_modules/vitest/dist/module-evaluator.js:190:10
 Î“Â¥Â» node_modules/vitest/dist/module-evaluator.js:98:62
 Î“Â¥Â» Traces.$ node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27
 Î“Â¥Â» VitestModuleEvaluator.runInlinedModule node_modules/vitest/dist/module-evaluator.js:98:21
 Î“Â¥Â» VitestModuleRunner.directRequest node_modules/vitest/node_modules/vite/dist/node/module-runner.js:1146:80

This error originated in "src/services/IndexedDBManager.test.js" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»


[2m Test Files [22m [1m[32m5 passed[39m[22m[90m (5)[39m
[2m      Tests [22m [1m[32m15 passed[39m[22m[90m (15)[39m
[2m     Errors [22m [1m[31m1 error[39m[22m
[2m   Start at [22m 19:05:12
[2m   Duration [22m 5.28s[2m (transform 655ms, setup 2.07s, import 1.67s, tests 194ms, environment 11.70s)[22m


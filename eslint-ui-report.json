[{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\AnalysisReportView.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\AnalyticsDashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\AssessmentModule.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\AudioLibrary.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\AudioLibrary.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\BaselineComparisonBadge.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\BaselineRecorder.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\BigPictureAssessment.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\BottomNav.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\Breadcrumbs.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\Breadcrumbs.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\BreathPacer.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\BreathSupport.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\BreathVisualizer.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\CalibrationSummary.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\CalibrationWizard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\CardActivityModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\CardSetEditor.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\CelebrationModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\CelebrationModal.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ChatMessage.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ClientSelector.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ClipAnalysisModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ClipCapture.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ClipReviewModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\CoachPanel.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\CoachView.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\CoachView.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\CognitiveLoadGames.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\CommandPalette.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'X' is defined but never used.","line":3,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":28},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'closeModal' and 'handleSelect'. Either include them or remove the dependency array.","line":128,"column":8,"nodeType":"ArrayExpression","endLine":128,"endColumn":48,"suggestions":[{"desc":"Update the dependencies array to be: [isOpen, filteredActions, selectedIndex, handleSelect, closeModal]","fix":{"range":[4835,4875],"text":"[isOpen, filteredActions, selectedIndex, handleSelect, closeModal]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { Search, Command, X, ArrowRight, Mic, Activity, Book, Settings, LayoutGrid } from 'lucide-react';\r\nimport { useNavigation } from '../../context/NavigationContext';\r\nimport { useAudio } from '../../context/AudioContext';\r\n\r\nconst CommandPalette = () => {\r\n    const { modals, closeModal, navigate, switchPracticeTab, openModal, addToHistory } = useNavigation();\r\n    const { toggleAudio, isAudioActive } = useAudio();\r\n    const [query, setQuery] = useState('');\r\n    const [selectedIndex, setSelectedIndex] = useState(0);\r\n    const inputRef = useRef(null);\r\n\r\n    const isOpen = modals.commandPalette;\r\n\r\n    // Focus input when opened\r\n    useEffect(() => {\r\n        if (isOpen && inputRef.current) {\r\n            inputRef.current.focus();\r\n            setQuery('');\r\n            setSelectedIndex(0);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    // Define Actions\r\n    const actions = [\r\n        {\r\n            id: 'practice-mic',\r\n            label: isAudioActive ? 'Stop Microphone' : 'Start Microphone',\r\n            icon: Mic,\r\n            category: 'Quick Actions',\r\n            action: () => { toggleAudio(); navigate('practice'); }\r\n        },\r\n        {\r\n            id: 'nav-practice',\r\n            label: 'Go to Practice Mode',\r\n            icon: Activity,\r\n            category: 'Navigation',\r\n            action: () => { navigate('practice'); addToHistory('Practice', () => navigate('practice')); }\r\n        },\r\n        {\r\n            id: 'nav-history',\r\n            label: 'Go to History',\r\n            icon: Book,\r\n            category: 'Navigation',\r\n            action: () => { navigate('history'); addToHistory('History', () => navigate('history')); }\r\n        },\r\n        {\r\n            id: 'nav-settings',\r\n            label: 'Open Settings',\r\n            icon: Settings,\r\n            category: 'Navigation',\r\n            action: () => openModal('settings')\r\n        },\r\n        {\r\n            id: 'view-pitch',\r\n            label: 'View Pitch Visualizer',\r\n            icon: Activity,\r\n            category: 'Tools',\r\n            action: () => { navigate('practice'); switchPracticeTab('pitch'); addToHistory('Pitch Tool', () => { navigate('practice'); switchPracticeTab('pitch'); }); }\r\n        },\r\n        {\r\n            id: 'view-spectrogram',\r\n            label: 'View Spectrogram',\r\n            icon: Activity,\r\n            category: 'Tools',\r\n            action: () => { navigate('practice'); switchPracticeTab('spectrogram'); addToHistory('Spectrogram', () => { navigate('practice'); switchPracticeTab('spectrogram'); }); }\r\n        },\r\n        {\r\n            id: 'view-vowel',\r\n            label: 'View Vowel Space',\r\n            icon: LayoutGrid,\r\n            category: 'Tools',\r\n            action: () => { navigate('practice'); switchPracticeTab('vowel'); addToHistory('Vowel Space', () => { navigate('practice'); switchPracticeTab('vowel'); }); }\r\n        },\r\n        {\r\n            id: 'modal-warmup',\r\n            label: 'Start Warm-up',\r\n            icon: Command,\r\n            category: 'Exercises',\r\n            action: () => openModal('warmup')\r\n        },\r\n        {\r\n            id: 'modal-assessment',\r\n            label: 'Take Assessment',\r\n            icon: Command,\r\n            category: 'Exercises',\r\n            action: () => openModal('assessment')\r\n        },\r\n        {\r\n            id: 'modal-practice-cards',\r\n            label: 'Open Practice Cards',\r\n            icon: Book,\r\n            category: 'Exercises',\r\n            action: () => openModal('practiceCards')\r\n        }\r\n    ];\r\n\r\n    // Filter Actions\r\n    const filteredActions = actions.filter(action =>\r\n        action.label.toLowerCase().includes(query.toLowerCase()) ||\r\n        action.category.toLowerCase().includes(query.toLowerCase())\r\n    );\r\n\r\n    // Handle Keyboard Navigation\r\n    useEffect(() => {\r\n        const handleKeyDown = (e) => {\r\n            if (!isOpen) return;\r\n\r\n            if (e.key === 'ArrowDown') {\r\n                e.preventDefault();\r\n                setSelectedIndex(prev => (prev + 1) % filteredActions.length);\r\n            } else if (e.key === 'ArrowUp') {\r\n                e.preventDefault();\r\n                setSelectedIndex(prev => (prev - 1 + filteredActions.length) % filteredActions.length);\r\n            } else if (e.key === 'Enter') {\r\n                e.preventDefault();\r\n                if (filteredActions[selectedIndex]) {\r\n                    handleSelect(filteredActions[selectedIndex]);\r\n                }\r\n            } else if (e.key === 'Escape') {\r\n                closeModal('commandPalette');\r\n            }\r\n        };\r\n\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => window.removeEventListener('keydown', handleKeyDown);\r\n    }, [isOpen, filteredActions, selectedIndex]);\r\n\r\n    const handleSelect = (action) => {\r\n        action.action();\r\n        closeModal('commandPalette');\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return createPortal(\r\n        <div className=\"fixed inset-0 z-[1000] flex items-start justify-center pt-[20vh] px-4\">\r\n            {/* Backdrop */}\r\n            <div\r\n                className=\"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200\"\r\n                onClick={() => closeModal('commandPalette')}\r\n            />\r\n\r\n            {/* Palette */}\r\n            <div className=\"w-full max-w-2xl bg-slate-900 border border-slate-700 rounded-xl shadow-2xl overflow-hidden relative z-10 animate-in zoom-in-95 duration-200 flex flex-col max-h-[60vh]\">\r\n                {/* Search Input */}\r\n                <div className=\"flex items-center px-4 py-4 border-b border-slate-800 gap-3\">\r\n                    <Search className=\"text-slate-400 w-5 h-5\" />\r\n                    <input\r\n                        ref={inputRef}\r\n                        type=\"text\"\r\n                        placeholder=\"Type a command or search...\"\r\n                        className=\"flex-1 bg-transparent border-none outline-none text-white placeholder:text-slate-500 text-lg\"\r\n                        value={query}\r\n                        onChange={(e) => { setQuery(e.target.value); setSelectedIndex(0); }}\r\n                    />\r\n                    <div className=\"hidden sm:flex items-center gap-1\">\r\n                        <kbd className=\"px-2 py-1 bg-slate-800 rounded text-xs text-slate-400 font-mono\">ESC</kbd>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Results List */}\r\n                <div className=\"overflow-y-auto custom-scrollbar p-2\">\r\n                    {filteredActions.length === 0 ? (\r\n                        <div className=\"p-8 text-center text-slate-500\">\r\n                            No results found.\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"space-y-1\">\r\n                            {filteredActions.map((action, index) => (\r\n                                <button\r\n                                    key={action.id}\r\n                                    onClick={() => handleSelect(action)}\r\n                                    className={`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-colors text-left group ${index === selectedIndex ? 'bg-blue-600 text-white' : 'text-slate-300 hover:bg-slate-800'\r\n                                        }`}\r\n                                    onMouseEnter={() => setSelectedIndex(index)}\r\n                                >\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <div className={`p-2 rounded-lg ${index === selectedIndex ? 'bg-white/20' : 'bg-slate-800 group-hover:bg-slate-700'}`}>\r\n                                            <action.icon size={18} />\r\n                                        </div>\r\n                                        <div>\r\n                                            <div className={`font-medium ${index === selectedIndex ? 'text-white' : 'text-slate-200'}`}>\r\n                                                {action.label}\r\n                                            </div>\r\n                                            <div className={`text-xs ${index === selectedIndex ? 'text-blue-200' : 'text-slate-500'}`}>\r\n                                                {action.category}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    {index === selectedIndex && (\r\n                                        <ArrowRight size={16} className=\"animate-in slide-in-from-left-2 fade-in\" />\r\n                                    )}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <div className=\"px-4 py-2 bg-slate-950/50 border-t border-slate-800 text-xs text-slate-500 flex justify-between\">\r\n                    <span>Use <kbd className=\"font-mono\">Γåæ</kbd> to navigate</span>\r\n                    <span><kbd className=\"font-mono\">Γå╡</kbd> to select</span>\r\n                </div>\r\n            </div>\r\n        </div>,\r\n        document.body\r\n    );\r\n};\r\n\r\nexport default CommandPalette;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\CommandPalette.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ComparisonTool.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\CompassWizard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\CourseCard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\DAFMode.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'stopDAF'. Either include it or remove the dependency array.","line":36,"column":8,"nodeType":"ArrayExpression","endLine":36,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [stopDAF]","fix":{"range":[1367,1369],"text":"[stopDAF]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef, useEffect, useCallback } from 'react';\r\nimport { Headphones, Volume2, VolumeX, Play, Square, Settings } from 'lucide-react';\r\n\r\n/**\r\n * DAFMode - Delayed Auditory Feedback\r\n * Plays back the user's voice with a configurable delay\r\n * Used for fluency training and modifying speech patterns\r\n */\r\nconst DAFMode = ({ onClose }) => {\r\n    const [isActive, setIsActive] = useState(false);\r\n    const [delay, setDelay] = useState(150); // ms\r\n    const [volume, setVolume] = useState(0.8);\r\n    const [isMuted, setIsMuted] = useState(false);\r\n    const [showSettings, setShowSettings] = useState(false);\r\n\r\n    const audioContextRef = useRef(null);\r\n    const streamRef = useRef(null);\r\n    const delayNodeRef = useRef(null);\r\n    const gainNodeRef = useRef(null);\r\n    const sourceRef = useRef(null);\r\n\r\n    const delayPresets = [\r\n        { label: '50ms', value: 50, description: 'Subtle' },\r\n        { label: '100ms', value: 100, description: 'Light' },\r\n        { label: '150ms', value: 150, description: 'Standard' },\r\n        { label: '200ms', value: 200, description: 'Moderate' },\r\n        { label: '300ms', value: 300, description: 'Strong' },\r\n        { label: '500ms', value: 500, description: 'Maximum' }\r\n    ];\r\n\r\n    // Cleanup on unmount\r\n    useEffect(() => {\r\n        return () => {\r\n            stopDAF();\r\n        };\r\n    }, []);\r\n\r\n    // Update delay in real-time\r\n    useEffect(() => {\r\n        if (delayNodeRef.current && audioContextRef.current) {\r\n            delayNodeRef.current.delayTime.setValueAtTime(\r\n                delay / 1000,\r\n                audioContextRef.current.currentTime\r\n            );\r\n        }\r\n    }, [delay]);\r\n\r\n    // Update volume in real-time\r\n    useEffect(() => {\r\n        if (gainNodeRef.current && audioContextRef.current) {\r\n            const targetVolume = isMuted ? 0 : volume;\r\n            gainNodeRef.current.gain.setValueAtTime(\r\n                targetVolume,\r\n                audioContextRef.current.currentTime\r\n            );\r\n        }\r\n    }, [volume, isMuted]);\r\n\r\n    const startDAF = async () => {\r\n        try {\r\n            // Get microphone stream\r\n            const stream = await navigator.mediaDevices.getUserMedia({\r\n                audio: {\r\n                    echoCancellation: false, // Important: disable to hear the delay properly\r\n                    noiseSuppression: false,\r\n                    autoGainControl: true\r\n                }\r\n            });\r\n            streamRef.current = stream;\r\n\r\n            // Create audio context and nodes\r\n            const audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n            audioContextRef.current = audioContext;\r\n\r\n            // Create source from microphone\r\n            const source = audioContext.createMediaStreamSource(stream);\r\n            sourceRef.current = source;\r\n\r\n            // Create delay node\r\n            const delayNode = audioContext.createDelay(1.0); // Max 1 second delay\r\n            delayNode.delayTime.setValueAtTime(delay / 1000, audioContext.currentTime);\r\n            delayNodeRef.current = delayNode;\r\n\r\n            // Create gain node for volume control\r\n            const gainNode = audioContext.createGain();\r\n            gainNode.gain.setValueAtTime(isMuted ? 0 : volume, audioContext.currentTime);\r\n            gainNodeRef.current = gainNode;\r\n\r\n            // Connect: source -> delay -> gain -> destination (speakers)\r\n            source.connect(delayNode);\r\n            delayNode.connect(gainNode);\r\n            gainNode.connect(audioContext.destination);\r\n\r\n            setIsActive(true);\r\n        } catch (err) {\r\n            console.error('Failed to start DAF:', err);\r\n            alert('Could not access microphone. Please check permissions.');\r\n        }\r\n    };\r\n\r\n    const stopDAF = useCallback(() => {\r\n        // Stop microphone stream\r\n        if (streamRef.current) {\r\n            streamRef.current.getTracks().forEach(track => track.stop());\r\n            streamRef.current = null;\r\n        }\r\n\r\n        // Disconnect and close audio context\r\n        if (sourceRef.current) {\r\n            sourceRef.current.disconnect();\r\n            sourceRef.current = null;\r\n        }\r\n\r\n        if (audioContextRef.current) {\r\n            audioContextRef.current.close();\r\n            audioContextRef.current = null;\r\n        }\r\n\r\n        delayNodeRef.current = null;\r\n        gainNodeRef.current = null;\r\n        setIsActive(false);\r\n    }, []);\r\n\r\n    return (\r\n        <div id=\"daf-modal\" className=\"bg-slate-900 rounded-2xl border border-slate-700 p-6 max-w-md w-full\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"p-3 rounded-xl bg-gradient-to-br from-indigo-500/20 to-purple-500/20\">\r\n                        <Headphones className=\"w-6 h-6 text-indigo-400\" />\r\n                    </div>\r\n                    <div>\r\n                        <h2 className=\"text-lg font-bold text-white\">Delayed Auditory Feedback</h2>\r\n                        <p className=\"text-xs text-slate-400\">Hear yourself with a delay</p>\r\n                    </div>\r\n                </div>\r\n                <button\r\n                    onClick={() => setShowSettings(!showSettings)}\r\n                    className={`p-2 rounded-lg transition-colors ${showSettings ? 'bg-slate-700 text-white' : 'text-slate-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    <Settings className=\"w-5 h-5\" />\r\n                </button>\r\n            </div>\r\n\r\n            {/* Info Box */}\r\n            <div id=\"daf-info-box\" className=\"bg-indigo-500/10 border border-indigo-500/20 rounded-lg p-3 mb-6\">\r\n                <p className=\"text-sm text-indigo-200\">\r\n                    <strong>How it works:</strong> DAF plays your voice back through headphones with a slight delay.\r\n                    This can help with fluency training and modifying speech patterns.\r\n                </p>\r\n                <p className=\"text-xs text-indigo-300/70 mt-2\">\r\n                    ⚠️ Use headphones to prevent audio feedback loops\r\n                </p>\r\n            </div>\r\n\r\n            {/* Delay Selector */}\r\n            <div id=\"daf-delay-selector\" className=\"mb-6\">\r\n                <label className=\"text-sm font-bold text-slate-300 mb-2 block\">Delay Amount</label>\r\n                <div className=\"grid grid-cols-3 gap-2\">\r\n                    {delayPresets.map(preset => (\r\n                        <button\r\n                            key={preset.value}\r\n                            onClick={() => setDelay(preset.value)}\r\n                            disabled={isActive}\r\n                            className={`p-2 rounded-lg text-center transition-all ${delay === preset.value\r\n                                ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white'\r\n                                : 'bg-slate-800 text-slate-300 hover:bg-slate-700'\r\n                                } ${isActive ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                        >\r\n                            <div className=\"text-sm font-bold\">{preset.label}</div>\r\n                            <div className=\"text-xs opacity-70\">{preset.description}</div>\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Volume Control */}\r\n            {showSettings && (\r\n                <div className=\"mb-6 p-4 bg-slate-800/50 rounded-xl border border-slate-700/50\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                        <label className=\"text-sm font-bold text-slate-300\">Volume</label>\r\n                        <button\r\n                            onClick={() => setIsMuted(!isMuted)}\r\n                            className=\"p-1.5 rounded hover:bg-slate-700 transition-colors\"\r\n                        >\r\n                            {isMuted ? (\r\n                                <VolumeX className=\"w-4 h-4 text-slate-400\" />\r\n                            ) : (\r\n                                <Volume2 className=\"w-4 h-4 text-slate-300\" />\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                    <input\r\n                        type=\"range\"\r\n                        min=\"0\"\r\n                        max=\"1\"\r\n                        step=\"0.1\"\r\n                        value={volume}\r\n                        onChange={(e) => setVolume(parseFloat(e.target.value))}\r\n                        className=\"w-full accent-indigo-500\"\r\n                    />\r\n                    <div className=\"text-xs text-slate-500 text-center mt-1\">\r\n                        {Math.round(volume * 100)}%\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Status Display */}\r\n            {isActive && (\r\n                <div className=\"mb-6 p-4 rounded-xl bg-gradient-to-r from-indigo-500/20 to-purple-500/20 border border-indigo-500/30\">\r\n                    <div className=\"flex items-center justify-center gap-3\">\r\n                        <div className=\"w-3 h-3 rounded-full bg-indigo-400 animate-pulse\" />\r\n                        <span className=\"text-indigo-300 font-medium\">\r\n                            DAF Active • {delay}ms delay\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Control Buttons */}\r\n            <div className=\"flex gap-3\">\r\n                {!isActive ? (\r\n                    <button\r\n                        id=\"daf-start-button\"\r\n                        onClick={startDAF}\r\n                        className=\"flex-1 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold flex items-center justify-center gap-2 hover:shadow-lg hover:shadow-indigo-500/20 transition-all\"\r\n                    >\r\n                        <Play className=\"w-5 h-5\" fill=\"currentColor\" />\r\n                        Start DAF\r\n                    </button>\r\n                ) : (\r\n                    <button\r\n                        onClick={stopDAF}\r\n                        className=\"flex-1 py-3 rounded-xl bg-red-600 text-white font-bold flex items-center justify-center gap-2 hover:bg-red-500 transition-all\"\r\n                    >\r\n                        <Square className=\"w-5 h-5\" fill=\"currentColor\" />\r\n                        Stop DAF\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            {/* Close Button */}\r\n            {onClose && (\r\n                <button\r\n                    onClick={() => { stopDAF(); onClose(); }}\r\n                    className=\"w-full mt-3 py-2 text-sm text-slate-400 hover:text-white transition-colors\"\r\n                >\r\n                    Close\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DAFMode;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\DailyGoalsWidget.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\DailyPhrases.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\DebugOverlay.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\EmptyState.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\EmptyState.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\EnvironmentCheck.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ErrorBoundary.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ErrorRecovery.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\FeedbackControls.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\FeedbackModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\FeedbackSettings.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'onSetGoal' is defined but never used. Allowed unused args must match /^_/u.","line":9,"column":82,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":91},{"ruleId":"no-unused-vars","severity":1,"message":"'onUpdateRange' is defined but never used. Allowed unused args must match /^_/u.","line":9,"column":122,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":135},{"ruleId":"no-unused-vars","severity":1,"message":"'defaultGenderRanges' is assigned a value but never used.","line":10,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":30},{"ruleId":"no-unused-vars","severity":1,"message":"'customRanges' is assigned a value but never used.","line":15,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":24},{"ruleId":"no-unused-vars","severity":1,"message":"'setCustomRanges' is assigned a value but never used.","line":15,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { X, Mic2, Vibrate, Volume2, Eye, Target, Activity, Wifi, WifiOff, RefreshCw, Trash2, HelpCircle, Download, HeartPulse, ClipboardCheck, Flame, Book, Upload, FileText, Database, Brain } from 'lucide-react';\r\nimport { textToSpeechService } from '../../services/TextToSpeechService';\r\nimport { syncManager, STORES } from '../../services/SyncManager';\r\nimport MicrophoneCalibration from './MicrophoneCalibration';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport VoiceDataConsent from './VoiceDataConsent';\r\n\r\nconst FeedbackSettings = ({ settings, setSettings, isOpen, onClose, targetRange, onSetGoal, onOpenTutorial, calibration, onUpdateRange, onUpdateCalibration, filterSettings, onUpdateFilters, onExportData, audioEngine, user }) => {\r\n    const defaultGenderRanges = {\r\n        masc: { min: 85, max: 135 },\r\n        androg: { min: 135, max: 175 },\r\n        fem: { min: 165, max: 255 },\r\n    };\r\n    const [customRanges, setCustomRanges] = useState({\r\n        masc: { min: targetRange.min, max: targetRange.max },\r\n        androg: { min: targetRange.min, max: targetRange.max },\r\n        fem: { min: targetRange.min, max: targetRange.max },\r\n    });\r\n    const [availableVoices, setAvailableVoices] = useState([]);\r\n    const [isLoadingVoices, setIsLoadingVoices] = useState(false);\r\n    const [isUploading, setIsUploading] = useState(false);\r\n    const [uploadStatus, setUploadStatus] = useState(null); // { type: 'success' | 'error', message: '' }\r\n    const [knowledgeBaseData, setKnowledgeBaseData] = useState(null);\r\n    const [showDirectory, setShowDirectory] = useState(false);\r\n    const [isLoadingDirectory, setIsLoadingDirectory] = useState(false);\r\n    const [showVoiceDataConsent, setShowVoiceDataConsent] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (settings.ttsProvider === 'elevenlabs') {\r\n            setIsLoadingVoices(true);\r\n            textToSpeechService.getElevenLabsVoices()\r\n                .then(voices => {\r\n                    setAvailableVoices(voices);\r\n                    setIsLoadingVoices(false);\r\n                });\r\n        }\r\n    }, [settings.ttsProvider]);\r\n\r\n    const [error, setError] = useState(null);\r\n\r\n    const fetchKnowledgeBase = async () => {\r\n        setIsLoadingDirectory(true);\r\n        setError(null);\r\n        try {\r\n            const API_URL = import.meta.env.VITE_API_URL || 'https://vocalgem.onrender.com';\r\n            const response = await fetch(`${API_URL}/api/knowledge-base/list`, {\r\n                credentials: 'include'\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setKnowledgeBaseData(data);\r\n            } else {\r\n                console.error('Failed to fetch knowledge base');\r\n                setError('Failed to load documents. Backend might be offline.');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching knowledge base:', error);\r\n            setError('Network error. Check your connection.');\r\n        } finally {\r\n            setIsLoadingDirectory(false);\r\n        }\r\n    };\r\n\r\n    const handleFileUpload = async (event) => {\r\n        const file = event.target.files[0];\r\n        if (!file) return;\r\n\r\n        setIsUploading(true);\r\n        setUploadStatus(null);\r\n\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n\r\n        try {\r\n            // Determine API URL (use Render URL for easier local dev without running local backend)\r\n            const API_URL = import.meta.env.VITE_API_URL || 'https://vocalgem.onrender.com';\r\n\r\n            const response = await fetch(`${API_URL}/api/train`, {\r\n                method: 'POST',\r\n                body: formData,\r\n                credentials: 'include',\r\n                // Don't set Content-Type header, let browser set it with boundary for FormData\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (response.ok) {\r\n                setUploadStatus({ type: 'success', message: data.message || 'File uploaded and processed successfully!' });\r\n                // Refresh directory after successful upload\r\n                if (showDirectory) {\r\n                    fetchKnowledgeBase();\r\n                }\r\n            } else {\r\n                setUploadStatus({ type: 'error', message: data.error || 'Upload failed.' });\r\n            }\r\n        } catch (error) {\r\n            console.error('Upload error:', error);\r\n            setUploadStatus({ type: 'error', message: 'Network error. Is the backend running?' });\r\n        } finally {\r\n            setIsUploading(false);\r\n            // Clear input\r\n            event.target.value = null;\r\n        }\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <>\r\n            <div className={`fixed inset-x-0 bottom-0 z-50 bg-slate-900 rounded-t-3xl border-t border-white/10 shadow-2xl transition-transform duration-300 transform ${isOpen ? 'translate-y-0' : 'translate-y-full'} max-h-[85vh] overflow-y-auto`}>\r\n                <div className=\"sticky top-0 bg-slate-900/95 backdrop-blur-md p-4 border-b border-white/5 flex justify-between items-center z-10\">\r\n                    <h2 className=\"text-lg font-bold text-white\">Settings</h2>\r\n                    <button onClick={onClose} className=\"p-3 bg-slate-800 rounded-full text-slate-400 hover:text-white min-w-[44px] min-h-[44px] flex items-center justify-center\"><X className=\"w-5 h-5\" /></button>\r\n                </div>\r\n\r\n                <div className=\"p-6 space-y-8 pb-20\">\r\n\r\n\r\n\r\n\r\n                    {/* Voice Profiles */}\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">Voice Profiles</h3>\r\n                        <div className=\"bg-slate-800/50 p-4 rounded-xl border border-white/5\">\r\n                            <div className=\"text-xs text-slate-400 mb-3\">Quick switch between voice modes</div>\r\n                            <div className=\"grid grid-cols-3 gap-2\">\r\n                                <button\r\n                                    onClick={() => window.dispatchEvent(new CustomEvent('switchProfile', { detail: 'fem' }))}\r\n                                    className=\"p-4 rounded-xl bg-pink-900/20 border border-pink-500/30 hover:bg-pink-900/40 transition-colors text-center\"\r\n                                >\r\n                                    <div className=\"text-pink-400 font-bold text-sm\">Fem</div>\r\n                                    <div className=\"text-[10px] text-slate-400\">170-220 Hz</div>\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => window.dispatchEvent(new CustomEvent('switchProfile', { detail: 'neutral' }))}\r\n                                    className=\"p-4 rounded-xl bg-purple-900/20 border border-purple-500/30 hover:bg-purple-900/40 transition-colors text-center\"\r\n                                >\r\n                                    <div className=\"text-purple-400 font-bold text-sm\">Neutral</div>\r\n                                    <div className=\"text-[10px] text-slate-400\">135-175 Hz</div>\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => window.dispatchEvent(new CustomEvent('switchProfile', { detail: 'masc' }))}\r\n                                    className=\"p-4 rounded-xl bg-blue-900/20 border border-blue-500/30 hover:bg-blue-900/40 transition-colors text-center\"\r\n                                >\r\n                                    <div className=\"text-blue-400 font-bold text-sm\">Masc</div>\r\n                                    <div className=\"text-[10px] text-slate-400\">85-135 Hz</div>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Gender Feedback Settings */}\r\n                    <section>\r\n                        <div className=\"flex items-center justify-between mb-4\">\r\n                            <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider\">Gender Feedback Labels</h3>\r\n                        </div>\r\n                        <div className=\"bg-slate-800/50 p-4 rounded-xl border border-white/5 space-y-3\">\r\n                            <div className=\"text-xs text-slate-400 mb-2\">\r\n                                Customize how pitch ranges are labeled to match your comfort level.\r\n                            </div>\r\n                            <div className=\"grid grid-cols-3 gap-2\">\r\n                                <button\r\n                                    onClick={() => setSettings({ ...settings, genderFeedbackMode: 'neutral' })}\r\n                                    className={`p-3 rounded-lg text-xs font-bold transition-colors ${(settings.genderFeedbackMode || 'neutral') === 'neutral'\r\n                                        ? 'bg-emerald-600 text-white shadow-lg shadow-emerald-500/20'\r\n                                        : 'bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-white'\r\n                                        }`}\r\n                                >\r\n                                    Neutral\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setSettings({ ...settings, genderFeedbackMode: 'default' })}\r\n                                    className={`p-3 rounded-lg text-xs font-bold transition-colors ${settings.genderFeedbackMode === 'default'\r\n                                        ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/20'\r\n                                        : 'bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-white'\r\n                                        }`}\r\n                                >\r\n                                    Gendered\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setSettings({ ...settings, genderFeedbackMode: 'off' })}\r\n                                    className={`p-3 rounded-lg text-xs font-bold transition-colors ${settings.genderFeedbackMode === 'off'\r\n                                        ? 'bg-slate-500 text-white'\r\n                                        : 'bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-white'\r\n                                        }`}\r\n                                >\r\n                                    Hidden\r\n                                </button>\r\n                            </div>\r\n                            <p className=\"text-[10px] text-slate-500 italic\">\r\n                                &quot;Neutral&quot; uses terms like &quot;High/Low Range&quot; instead of &quot;Feminine/Masculine&quot;.\r\n                            </p>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Home Note Anchor */}\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">Home Note Anchor</h3>\r\n                        <div className=\"bg-slate-800/50 p-4 rounded-xl border border-white/5\">\r\n                            <div className=\"flex justify-between text-xs text-slate-400 mb-2\">\r\n                                <span>Your baseline pitch</span>\r\n                                <span className=\"text-yellow-400 font-bold\">{settings.homeNote} Hz</span>\r\n                            </div>\r\n                            <input\r\n                                type=\"range\"\r\n                                min=\"80\"\r\n                                max=\"300\"\r\n                                value={settings.homeNote}\r\n                                onChange={(e) => setSettings({ ...settings, homeNote: parseInt(e.target.value) })}\r\n                                className=\"w-full accent-yellow-500 h-4 bg-slate-700 rounded-lg appearance-none cursor-pointer\"\r\n                            />\r\n                            <div className=\"text-[10px] text-slate-500 mt-2\">\r\n                                A golden line will appear on your pitch graph at this frequency\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Voice Settings */}\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">Coach Voice</h3>\r\n                        <div className=\"bg-slate-800/50 p-4 rounded-xl border border-white/5 space-y-4\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className={`p-2 rounded-lg ${settings.ttsProvider === 'elevenlabs' ? 'bg-purple-500/20 text-purple-400' : 'bg-slate-700 text-slate-400'}`}>\r\n                                        <Mic2 className=\"w-5 h-5\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"text-sm font-bold text-white\">High Quality Voice</div>\r\n                                        <div className=\"text-[10px] text-slate-400\">Use ElevenLabs AI (Requires API Key)</div>\r\n                                    </div>\r\n                                </div>\r\n                                <label className=\"relative inline-flex items-center cursor-pointer p-2\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={settings.ttsProvider === 'elevenlabs'}\r\n                                        onChange={(e) => setSettings({ ...settings, ttsProvider: e.target.checked ? 'elevenlabs' : 'browser' })}\r\n                                        className=\"sr-only peer\"\r\n                                    />\r\n                                    <div className=\"w-11 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-500\"></div>\r\n                                </label>\r\n                            </div>\r\n\r\n                            {settings.ttsProvider === 'elevenlabs' && (\r\n                                <div className=\"space-y-3 animate-in fade-in slide-in-from-top-2 duration-300\">\r\n                                    <div className=\"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3\">\r\n                                        <div className=\"text-xs text-blue-200\">\r\n                                            ℹ️ ElevenLabs API key is configured on the server. If voices don&apos;t load, contact your administrator.\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"text-[10px] text-slate-500 uppercase font-bold mb-1 block\">Voice Model</label>\r\n                                        <select\r\n                                            value={settings.voiceId || ''}\r\n                                            onChange={(e) => setSettings({ ...settings, voiceId: e.target.value })}\r\n                                            className=\"w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-xs text-white focus:border-purple-500 focus:outline-none transition-colors appearance-none\"\r\n                                            disabled={isLoadingVoices}\r\n                                        >\r\n                                            {isLoadingVoices ? (\r\n                                                <option>Loading voices...</option>\r\n                                            ) : availableVoices.length > 0 ? (\r\n                                                availableVoices.map(voice => (\r\n                                                    <option key={voice.voice_id} value={voice.voice_id}>{voice.name}</option>\r\n                                                ))\r\n                                            ) : (\r\n                                                <option value=\"21m00Tcm4TlvDq8ikWAM\">Rachel (Default)</option>\r\n                                            )}\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Biofeedback Config */}\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">Biofeedback Triggers</h3>\r\n                        <div className=\"space-y-3\">\r\n                            <div className=\"flex items-center justify-between p-3 bg-slate-800 rounded-xl\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className={`p-2 rounded-lg ${settings.vibration ? 'bg-green-500/20 text-green-400' : 'bg-slate-700 text-slate-400'}`}><Vibrate className=\"w-5 h-5\" /></div>\r\n                                    <div>\r\n                                        <div className=\"text-sm font-bold text-white\">Haptic Vibration</div>\r\n                                        <div className=\"text-[10px] text-slate-400\">Vibrate when off-target</div>\r\n                                    </div>\r\n                                </div>\r\n                                <label className=\"relative inline-flex items-center cursor-pointer p-2\">\r\n                                    <input type=\"checkbox\" checked={settings.vibration} onChange={(e) => setSettings({ ...settings, vibration: e.target.checked })} className=\"sr-only peer\" />\r\n                                    <div className=\"w-11 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500\"></div>\r\n                                </label>\r\n                            </div>\r\n\r\n                            <div className=\"flex items-center justify-between p-3 bg-slate-800 rounded-xl\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className={`p-2 rounded-lg ${settings.tone ? 'bg-blue-500/20 text-blue-400' : 'bg-slate-700 text-slate-400'}`}><Volume2 className=\"w-5 h-5\" /></div>\r\n                                    <div>\r\n                                        <div className=\"text-sm font-bold text-white\">Audio Guide Tone</div>\r\n                                        <div className=\"text-[10px] text-slate-400\">Play tone when off-target</div>\r\n                                    </div>\r\n                                </div>\r\n                                <label className=\"relative inline-flex items-center cursor-pointer p-2\">\r\n                                    <input type=\"checkbox\" checked={settings.tone} onChange={(e) => setSettings({ ...settings, tone: e.target.checked })} className=\"sr-only peer\" />\r\n                                    <div className=\"w-11 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500\"></div>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Trigger Conditions */}\r\n                        <div className=\"mt-4 p-4 bg-slate-800/50 rounded-xl border border-white/5 space-y-3\">\r\n                            <div className=\"flex items-center gap-2 p-2\">\r\n                                <input type=\"checkbox\" checked={settings.triggerLowPitch} onChange={(e) => setSettings({ ...settings, triggerLowPitch: e.target.checked })} className=\"accent-blue-500 w-5 h-5 rounded\" />\r\n                                <span className=\"text-sm text-slate-300\">Trigger when Pitch is too LOW</span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2 p-2\">\r\n                                <input type=\"checkbox\" checked={settings.triggerDarkRes} onChange={(e) => setSettings({ ...settings, triggerDarkRes: e.target.checked })} className=\"accent-blue-500 w-5 h-5 rounded\" />\r\n                                <span className=\"text-sm text-slate-300\">Trigger when Resonance is too DARK</span>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Dashboard Configuration */}\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">Dashboard Configuration</h3>\r\n                        <div className=\"bg-slate-800/50 p-4 rounded-xl border border-white/5 space-y-3\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <span className=\"text-sm font-bold text-white\">Show Streak</span>\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={settings.dashboardConfig?.showStreak ?? true}\r\n                                    onChange={(e) => setSettings({ ...settings, dashboardConfig: { ...settings.dashboardConfig, showStreak: e.target.checked } })}\r\n                                    className=\"accent-blue-500 w-5 h-5 rounded\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <span className=\"text-sm font-bold text-white\">Show Total Practice</span>\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={settings.dashboardConfig?.showTotalPractice ?? true}\r\n                                    onChange={(e) => setSettings({ ...settings, dashboardConfig: { ...settings.dashboardConfig, showTotalPractice: e.target.checked } })}\r\n                                    className=\"accent-blue-500 w-5 h-5 rounded\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <span className=\"text-sm font-bold text-white\">Show Weekly Activity</span>\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={settings.dashboardConfig?.showWeeklyActivity ?? true}\r\n                                    onChange={(e) => setSettings({ ...settings, dashboardConfig: { ...settings.dashboardConfig, showWeeklyActivity: e.target.checked } })}\r\n                                    className=\"accent-blue-500 w-5 h-5 rounded\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <span className=\"text-sm font-bold text-white\">Show Progress Trends</span>\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    checked={settings.dashboardConfig?.showProgressTrends ?? true}\r\n                                    onChange={(e) => setSettings({ ...settings, dashboardConfig: { ...settings.dashboardConfig, showProgressTrends: e.target.checked } })}\r\n                                    className=\"accent-blue-500 w-5 h-5 rounded\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Accessibility */}\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">Accessibility</h3>\r\n                        <div className=\"bg-slate-800/50 p-4 rounded-xl border border-white/5 space-y-4\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className={`p-2 rounded-lg ${settings.colorBlindMode ? 'bg-purple-500/20 text-purple-400' : 'bg-slate-700 text-slate-400'}`}>\r\n                                        <Eye size={20} />\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"text-sm font-bold text-white\">Color Blind Mode</div>\r\n                                        <div className=\"text-[10px] text-slate-400\">High contrast colors (Purple/Teal)</div>\r\n                                    </div>\r\n                                </div>\r\n                                <label className=\"relative inline-flex items-center cursor-pointer p-2\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={settings.colorBlindMode || false}\r\n                                        onChange={(e) => setSettings({ ...settings, colorBlindMode: e.target.checked })}\r\n                                        className=\"sr-only peer\"\r\n                                    />\r\n                                    <div className=\"w-11 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-500\"></div>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Voice Data & ML */}\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">Voice Data & ML</h3>\r\n                        <div className=\"bg-slate-800/50 p-4 rounded-xl border border-white/5 space-y-4\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"p-2 rounded-lg bg-gradient-to-r from-purple-500/20 to-pink-500/20\">\r\n                                        <Brain className=\"w-5 h-5 text-purple-400\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"text-sm font-bold text-white\">ML Gender Classification</div>\r\n                                        <div className=\"text-[10px] text-slate-400\">Spectral analysis for gender perception</div>\r\n                                    </div>\r\n                                </div>\r\n                                <span className=\"text-xs text-green-400 bg-green-500/10 px-2 py-1 rounded-full\">Active</span>\r\n                            </div>\r\n\r\n                            <div className=\"flex items-center justify-between pt-3 border-t border-white/5\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"p-2 rounded-lg bg-purple-500/10\">\r\n                                        <Database className=\"w-5 h-5 text-purple-400\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"text-sm font-bold text-white\">Data Collection</div>\r\n                                        <div className=\"text-[10px] text-slate-400\">Help improve ML with anonymous samples</div>\r\n                                    </div>\r\n                                </div>\r\n                                <button\r\n                                    onClick={() => setShowVoiceDataConsent(true)}\r\n                                    className=\"text-xs text-purple-400 hover:text-purple-300 bg-purple-500/10 hover:bg-purple-500/20 px-3 py-1.5 rounded-lg transition-colors\"\r\n                                >\r\n                                    Configure\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Appearance */}\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">Appearance</h3>\r\n                        <div className=\"bg-slate-800/50 p-4 rounded-xl border border-white/5 space-y-4\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className={`p-2 rounded-lg ${settings.theme === 'light' ? 'bg-yellow-500/20 text-yellow-400' : 'bg-slate-700 text-slate-400'}`}>\r\n                                        {settings.theme === 'light' ? <span className=\"text-lg\">☀️</span> : <span className=\"text-lg\">🌙</span>}\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"text-sm font-bold text-white\">Light Mode</div>\r\n                                        <div className=\"text-[10px] text-slate-400\">Switch between dark and light themes</div>\r\n                                    </div>\r\n                                </div>\r\n                                <label className=\"relative inline-flex items-center cursor-pointer p-2\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={settings.theme === 'light'}\r\n                                        onChange={(e) => setSettings({ ...settings, theme: e.target.checked ? 'light' : 'dark' })}\r\n                                        className=\"sr-only peer\"\r\n                                    />\r\n                                    <div className=\"w-11 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-yellow-500\"></div>\r\n                                </label>\r\n                            </div>\r\n\r\n                            {/* Beginner Mode */}\r\n                            <div className=\"flex items-center justify-between pt-4 border-t border-white/5\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className={`p-2 rounded-lg ${settings.beginnerMode ? 'bg-emerald-500/20 text-emerald-400' : 'bg-slate-700 text-slate-400'}`}>\r\n                                        <Target className=\"w-5 h-5\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"text-sm font-bold text-white\">Beginner Mode</div>\r\n                                        <div className=\"text-[10px] text-slate-400\">Simplify UI and hide advanced metrics</div>\r\n                                    </div>\r\n                                </div>\r\n                                <label className=\"relative inline-flex items-center cursor-pointer p-2\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={settings.beginnerMode || false}\r\n                                        onChange={(e) => setSettings({ ...settings, beginnerMode: e.target.checked })}\r\n                                        className=\"sr-only peer\"\r\n                                    />\r\n                                    <div className=\"w-11 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500\"></div>\r\n                                </label>\r\n                            </div>\r\n\r\n                            {/* Lite Mode (Disable 3D & Heavy Viz) */}\r\n                            <div className=\"flex items-center justify-between pt-4 border-t border-white/5\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className={`p-2 rounded-lg ${settings.liteMode ? 'bg-emerald-500/20 text-emerald-400' : 'bg-slate-700 text-slate-400'}`}>\r\n                                        <Activity className=\"w-5 h-5\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"text-sm font-bold text-white\">Lite Mode</div>\r\n                                        <div className=\"text-[10px] text-slate-400\">Disable 3D & heavy effects for better performance</div>\r\n                                    </div>\r\n                                </div>\r\n                                <label className=\"relative inline-flex items-center cursor-pointer p-2\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={settings.liteMode || false}\r\n                                        onChange={(e) => setSettings({ ...settings, liteMode: e.target.checked, disable3D: e.target.checked })}\r\n                                        className=\"sr-only peer\"\r\n                                    />\r\n                                    <div className=\"w-11 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500\"></div>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n\r\n\r\n                    {/* Advanced Calibration */}\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">Advanced Calibration</h3>\r\n\r\n                        {/* Microphone Calibration */}\r\n                        {audioEngine && (\r\n                            <div className=\"mb-4\">\r\n                                <MicrophoneCalibration audioEngine={audioEngine} />\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"bg-slate-800 p-4 rounded-xl space-y-4\">\r\n                            <div>\r\n                                <div className=\"flex justify-between text-xs text-slate-400 mb-1\">\r\n                                    <div className=\"flex items-center gap-1\">\r\n                                        <span>Smoothing</span>\r\n                                        <InfoTooltip content=\"Higher values make the pitch line smoother but less responsive to quick changes.\" />\r\n                                    </div>\r\n                                    <span>{settings.smoothing || 5}</span>\r\n                                </div>\r\n                                <input type=\"range\" min=\"1\" max=\"20\" step=\"1\" value={settings.smoothing || 5} onChange={(e) => setSettings({ ...settings, smoothing: parseInt(e.target.value) })} className=\"w-full accent-slate-500 h-4 bg-slate-700 rounded-lg appearance-none cursor-pointer\" />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <div className=\"flex justify-between text-xs text-slate-400 mb-1\">\r\n                                    <div className=\"flex items-center gap-1\">\r\n                                        <span>Sensitivity</span>\r\n                                        <InfoTooltip content=\"Adjusts how easily the app detects your voice. Lower values are more sensitive.\" />\r\n                                    </div>\r\n                                    <span>{settings.sensitivity || 50}%</span>\r\n                                </div>\r\n                                <input type=\"range\" min=\"0\" max=\"100\" step=\"1\" value={settings.sensitivity || 50} onChange={(e) => setSettings({ ...settings, sensitivity: parseInt(e.target.value) })} className=\"w-full accent-slate-500 h-4 bg-slate-700 rounded-lg appearance-none cursor-pointer\" />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <div className=\"flex justify-between text-xs text-slate-400 mb-1\"><span>Noise Gate Threshold</span> <span>{Math.round(settings.noiseGate * 100)}%</span></div>\r\n                                <input type=\"range\" min=\"0\" max=\"30\" step=\"1\" value={settings.noiseGate * 100} onChange={(e) => setSettings({ ...settings, noiseGate: e.target.value / 100 })} className=\"w-full accent-slate-500 h-4 bg-slate-700 rounded-lg appearance-none cursor-pointer\" />\r\n                            </div>\r\n\r\n                            {calibration && (\r\n                                <div className=\"pt-2 border-t border-white/5\">\r\n                                    <div className=\"text-xs font-bold text-slate-400 mb-2\">Resonance Baselines</div>\r\n                                    <div className=\"grid grid-cols-2 gap-4\">\r\n                                        <div>\r\n                                            <label className=\"text-[10px] text-slate-500\">Dark (Chest)</label>\r\n                                            <input type=\"number\" value={Math.round(calibration.dark)} onChange={(e) => onUpdateCalibration(parseInt(e.target.value), calibration.bright)} className=\"w-full bg-slate-900 border border-slate-700 rounded px-2 py-3 text-xs text-white\" />\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"text-[10px] text-slate-500\">Bright (Head)</label>\r\n                                            <input type=\"number\" value={Math.round(calibration.bright)} onChange={(e) => onUpdateCalibration(calibration.dark, parseInt(e.target.value))} className=\"w-full bg-slate-900 border border-slate-700 rounded px-2 py-3 text-xs text-white\" />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        {filterSettings && (\r\n                            <div className=\"pt-2 border-t border-white/5 mt-4\">\r\n                                <div className=\"text-xs font-bold text-slate-400 mb-2\">Audio Filters</div>\r\n                                <div className=\"space-y-3\">\r\n                                    <div>\r\n                                        <div className=\"flex justify-between text-xs text-slate-400 mb-1\">\r\n                                            <span>Highpass (Low Cut)</span>\r\n                                            <span>{filterSettings.min} Hz</span>\r\n                                        </div>\r\n                                        <input\r\n                                            type=\"range\"\r\n                                            min=\"0\"\r\n                                            max=\"500\"\r\n                                            step=\"10\"\r\n                                            value={filterSettings.min}\r\n                                            onChange={(e) => onUpdateFilters(parseInt(e.target.value), filterSettings.max)}\r\n                                            className=\"w-full accent-slate-500 h-4 bg-slate-700 rounded-lg appearance-none cursor-pointer\"\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"flex justify-between text-xs text-slate-400 mb-1\">\r\n                                            <span>Lowpass (High Cut)</span>\r\n                                            <span>{filterSettings.max} Hz</span>\r\n                                        </div>\r\n                                        <input\r\n                                            type=\"range\"\r\n                                            min=\"1000\"\r\n                                            max=\"20000\"\r\n                                            step=\"100\"\r\n                                            value={filterSettings.max}\r\n                                            onChange={(e) => onUpdateFilters(filterSettings.min, parseInt(e.target.value))}\r\n                                            className=\"w-full accent-slate-500 h-4 bg-slate-700 rounded-lg appearance-none cursor-pointer\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </section>\r\n\r\n                    {/* Offline Data & Sync */}\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">Offline Data & Sync</h3>\r\n                        <div className=\"bg-slate-800/50 p-4 rounded-xl border border-white/5 space-y-4\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className={`p-2 rounded-lg ${navigator.onLine ? 'bg-emerald-500/20 text-emerald-400' : 'bg-red-500/20 text-red-400'}`}>\r\n                                        {navigator.onLine ? <Wifi className=\"w-5 h-5\" /> : <WifiOff className=\"w-5 h-5\" />}\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"text-sm font-bold text-white\">{navigator.onLine ? 'Online' : 'Offline Mode'}</div>\r\n                                        <div className=\"text-[10px] text-slate-400\">\r\n                                            {navigator.onLine ? 'Ready to sync' : 'Changes saved locally'}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                {navigator.onLine && (\r\n                                    <button\r\n                                        onClick={() => syncManager.forceSyncNow()}\r\n                                        className=\"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 min-h-[40px]\"\r\n                                    >\r\n                                        <RefreshCw className=\"w-3 h-3\" /> Sync Now\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-2 gap-3\">\r\n                                <div className=\"bg-slate-900 p-3 rounded-lg border border-slate-700\">\r\n                                    <div className=\"text-[10px] text-slate-500 uppercase\">Pending Items</div>\r\n                                    <div className=\"text-xl font-bold text-white\">{syncManager.getStatus().pendingCount}</div>\r\n                                </div>\r\n                                <div className=\"bg-slate-900 p-3 rounded-lg border border-slate-700\">\r\n                                    <div className=\"text-[10px] text-slate-500 uppercase\">Last Sync</div>\r\n                                    <div className=\"text-xs font-bold text-white mt-1\">\r\n                                        {syncManager.getStatus().lastSyncTime ? new Date(syncManager.getStatus().lastSyncTime).toLocaleTimeString() : 'Never'}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <button\r\n                                onClick={async () => {\r\n                                    if (window.confirm('Are you sure you want to clear all local data? This cannot be undone.')) {\r\n                                        await indexedDB.clear(STORES.JOURNALS);\r\n                                        await indexedDB.clear(STORES.STATS);\r\n                                        await indexedDB.clear(STORES.GOALS);\r\n                                        window.location.reload();\r\n                                    }\r\n                                }}\r\n                                className=\"w-full p-4 bg-red-900/20 hover:bg-red-900/40 border border-red-500/30 rounded-xl text-left flex items-center gap-3 transition-colors\"\r\n                            >\r\n                                <Trash2 className=\"w-5 h-5 text-red-400\" />\r\n                                <span className=\"text-sm font-bold text-red-200\">Clear Local Data</span>\r\n                            </button>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Data Management */}\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">Data & System</h3>\r\n                        <div className=\"space-y-3\">\r\n                            <div className=\"flex items-center justify-between p-3 bg-slate-800 rounded-xl\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className={`p-2 rounded-lg ${settings.analyticsEnabled ? 'bg-blue-500/20 text-blue-400' : 'bg-slate-700 text-slate-400'}`}>\r\n                                        <Activity className=\"w-5 h-5\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"text-sm font-bold text-white\">Share Anonymous Usage</div>\r\n                                        <div className=\"text-[10px] text-slate-400\">Help improve the app (Privacy First)</div>\r\n                                    </div>\r\n                                </div>\r\n                                <label className=\"relative inline-flex items-center cursor-pointer p-2\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={settings.analyticsEnabled || false}\r\n                                        onChange={(e) => setSettings({ ...settings, analyticsEnabled: e.target.checked })}\r\n                                        className=\"sr-only peer\"\r\n                                    />\r\n                                    <div className=\"w-11 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500\"></div>\r\n                                </label>\r\n                            </div>\r\n\r\n                            {settings.analyticsEnabled && (\r\n                                <button onClick={() => { onClose(); setTimeout(() => window.dispatchEvent(new CustomEvent('openAnalytics')), 100); }} className=\"w-full p-4 bg-slate-800 hover:bg-slate-700 rounded-xl text-left flex items-center gap-3 transition-colors\">\r\n                                    <Activity className=\"w-5 h-5 text-slate-400\" />\r\n                                    <span className=\"text-sm font-bold text-slate-200\">View Local Analytics</span>\r\n                                </button>\r\n                            )}\r\n\r\n                            <button onClick={onOpenTutorial} className=\"w-full p-4 bg-slate-800 hover:bg-slate-700 rounded-xl text-left flex items-center gap-3 transition-colors\">\r\n                                <HelpCircle className=\"w-5 h-5 text-slate-400\" />\r\n                                <span className=\"text-sm font-bold text-slate-200\">Replay Tutorial</span>\r\n                            </button>\r\n                            <button onClick={onExportData} className=\"w-full p-4 bg-slate-800 hover:bg-slate-700 rounded-xl text-left flex items-center gap-3 transition-colors\">\r\n                                <Download className=\"w-5 h-5 text-slate-400\" />\r\n                                <span className=\"text-sm font-bold text-slate-200\">Export My Data (JSON)</span>\r\n                            </button>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Health & Assessment */}\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">Health & Progress</h3>\r\n                        <div className=\"space-y-3\">\r\n                            <button onClick={() => { onClose(); setTimeout(() => window.dispatchEvent(new CustomEvent('openVocalHealth')), 100); }} className=\"w-full p-3 bg-emerald-800 hover:bg-emerald-700 rounded-xl text-left flex items-center gap-3 transition-colors\">\r\n                                <HeartPulse className=\"w-5 h-5 text-emerald-400\" />\r\n                                <span className=\"text-sm font-bold text-white\">Vocal Health Tips</span>\r\n                            </button>\r\n                            <button onClick={() => { onClose(); setTimeout(() => window.dispatchEvent(new CustomEvent('openAssessment')), 100); }} className=\"w-full p-3 bg-blue-800 hover:bg-blue-700 rounded-xl text-left flex items-center gap-3 transition-colors\">\r\n                                <ClipboardCheck className=\"w-5 h-5 text-blue-400\" />\r\n                                <span className=\"text-sm font-bold text-white\">Baseline Assessment</span>\r\n                            </button>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Exercises & Drills */}\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">Exercises & Drills</h3>\r\n                        <div className=\"space-y-3\">\r\n                            <button onClick={() => { onClose(); setTimeout(() => window.dispatchEvent(new CustomEvent('openWarmUp')), 100); }} className=\"w-full p-3 bg-orange-800 hover:bg-orange-700 rounded-xl text-left flex items-center gap-3 transition-colors\">\r\n                                <Flame className=\"w-5 h-5 text-orange-400\" />\r\n                                <span className=\"text-sm font-bold text-white\">Warm-Up Exercises</span>\r\n                            </button>\r\n                            <button onClick={() => { onClose(); setTimeout(() => window.dispatchEvent(new CustomEvent('openForwardFocus')), 100); }} className=\"w-full p-3 bg-purple-800 hover:bg-purple-700 rounded-xl text-left flex items-center gap-3 transition-colors\">\r\n                                <Target className=\"w-5 h-5 text-purple-400\" />\r\n                                <span className=\"text-sm font-bold text-white\">Forward Focus Resonance</span>\r\n                            </button>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Knowledge Base Upload - Admin Only */}\r\n                    {user?.username === 'riley' && (\r\n                        <section>\r\n                            <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">Knowledge Base (Admin)</h3>\r\n                            <div className=\"bg-slate-800/50 p-4 rounded-xl border border-white/5 space-y-4\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"p-2 rounded-lg bg-indigo-500/20 text-indigo-400\">\r\n                                        <Book className=\"w-5 h-5\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"text-sm font-bold text-white\">Train AI Coach</div>\r\n                                        <div className=\"text-[10px] text-slate-400\">Upload textbooks or articles (PDF, TXT)</div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"bg-slate-900/50 rounded-lg p-4 border border-dashed border-slate-700 hover:border-indigo-500/50 transition-colors text-center relative group\">\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        accept=\".pdf,.txt,.md\"\r\n                                        onChange={handleFileUpload}\r\n                                        disabled={isUploading}\r\n                                        className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer disabled:cursor-not-allowed\"\r\n                                    />\r\n                                    <div className=\"flex flex-col items-center gap-2\">\r\n                                        {isUploading ? (\r\n                                            <RefreshCw className=\"w-8 h-8 text-indigo-400 animate-spin\" />\r\n                                        ) : (\r\n                                            <Upload className=\"w-8 h-8 text-slate-500 group-hover:text-indigo-400 transition-colors\" />\r\n                                        )}\r\n                                        <div className=\"text-xs font-bold text-slate-300\">\r\n                                            {isUploading ? 'Processing...' : 'Click to Upload File'}\r\n                                        </div>\r\n                                        <div className=\"text-[10px] text-slate-500\">\r\n                                            Max 10MB. PDF or Text files.\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {uploadStatus && (\r\n                                    <div className={`p-3 rounded-lg text-xs flex items-center gap-2 ${uploadStatus.type === 'success' ? 'bg-green-500/10 text-green-400 border border-green-500/20' : 'bg-red-500/10 text-red-400 border border-red-500/20'}`}>\r\n                                        {uploadStatus.type === 'success' ? <ClipboardCheck className=\"w-4 h-4\" /> : <X className=\"w-4 h-4\" />}\r\n                                        {uploadStatus.message}\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Directory Viewer */}\r\n                                <div className=\"border-t border-white/5 pt-4\">\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            setShowDirectory(!showDirectory);\r\n                                            if (!showDirectory && !knowledgeBaseData) {\r\n                                                fetchKnowledgeBase();\r\n                                            }\r\n                                        }}\r\n                                        className=\"w-full p-3 bg-slate-700/50 hover:bg-slate-700 rounded-lg text-left flex items-center justify-between transition-colors\"\r\n                                    >\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <FileText className=\"w-4 h-4 text-indigo-400\" />\r\n                                            <span className=\"text-sm font-bold text-white\">View Uploaded Documents</span>\r\n                                        </div>\r\n                                        <span className=\"text-xs text-slate-400\">{showDirectory ? '▼' : '▶'}</span>\r\n                                    </button>\r\n\r\n                                    {showDirectory && (\r\n                                        <div className=\"mt-3 space-y-2\">\r\n                                            {isLoadingDirectory ? (\r\n                                                <div className=\"text-center py-4 text-slate-400 text-xs\">\r\n                                                    <RefreshCw className=\"w-4 h-4 animate-spin mx-auto mb-2\" />\r\n                                                    Loading...\r\n                                                </div>\r\n                                            ) : knowledgeBaseData ? (\r\n                                                <>\r\n                                                    <div className=\"bg-slate-900/50 rounded-lg p-3 border border-slate-700\">\r\n                                                        <div className=\"grid grid-cols-3 gap-2 text-xs\">\r\n                                                            <div>\r\n                                                                <div className=\"text-slate-500 uppercase\">Documents</div>\r\n                                                                <div className=\"text-white font-bold\">{knowledgeBaseData.total_documents}</div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <div className=\"text-slate-500 uppercase\">Total Size</div>\r\n                                                                <div className=\"text-white font-bold\">{knowledgeBaseData.total_storage_mb} MB</div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <div className=\"text-slate-500 uppercase\">Storage</div>\r\n                                                                <div className=\"text-white font-bold\">{knowledgeBaseData.total_storage_kb} KB</div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div className=\"max-h-60 overflow-y-auto space-y-2\">\r\n                                                        {knowledgeBaseData.documents.map((doc, idx) => (\r\n                                                            <div key={idx} className=\"bg-slate-900/30 rounded-lg p-3 border border-slate-700/50\">\r\n                                                                <div className=\"flex items-start justify-between gap-2\">\r\n                                                                    <div className=\"flex-1 min-w-0\">\r\n                                                                        <div className=\"text-xs font-bold text-white truncate\">{doc.source}</div>\r\n                                                                        <div className=\"text-[10px] text-slate-400 mt-1\">\r\n                                                                            {doc.chunks} chunks • {doc.size_kb} KB\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        ))}\r\n                                                    </div>\r\n\r\n                                                    <button\r\n                                                        onClick={fetchKnowledgeBase}\r\n                                                        className=\"w-full p-2 bg-indigo-600/20 hover:bg-indigo-600/30 rounded-lg text-xs font-bold text-indigo-400 flex items-center justify-center gap-2 transition-colors\"\r\n                                                    >\r\n                                                        <RefreshCw className=\"w-3 h-3\" />\r\n                                                        Refresh\r\n                                                    </button>\r\n                                                </>\r\n                                            ) : error ? (\r\n                                                <div className=\"text-center py-4 text-red-400 text-xs bg-red-900/20 rounded-lg border border-red-500/20\">\r\n                                                    <div className=\"font-bold mb-1\">Error</div>\r\n                                                    {error}\r\n                                                </div>\r\n                                            ) : (\r\n                                                <div className=\"text-center py-4 text-slate-400 text-xs\">\r\n                                                    No documents found\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </section>\r\n                    )}\r\n\r\n                    {/* About Section */}\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4\">About</h3>\r\n                        <div className=\"bg-slate-800/50 p-4 rounded-xl border border-white/5 space-y-2 text-center\">\r\n                            <div className=\"font-bold text-white\">Vocal GEM v0.9.2 (Beta)</div>\r\n                            <div className=\"text-xs text-slate-400\">Designed by Riley Reso</div>\r\n                            <div className=\"text-xs text-slate-400\">Founded on clinical research and techniques</div>\r\n                            <div className=\"text-xs text-slate-400\">A hobby project made with love ❤️</div>\r\n                            <div className=\"text-xs pt-2 border-t border-white/5 mt-2\">\r\n                                Contact: <a href=\"mailto:rreso@msudenver.edu\" className=\"text-blue-400 hover:underline\">rreso@msudenver.edu</a>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Voice Data Consent Modal */}\r\n            <VoiceDataConsent\r\n                isOpen={showVoiceDataConsent}\r\n                onClose={() => setShowVoiceDataConsent(false)}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default FeedbackSettings;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\FeminizationCourse.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'getLessonStatus' is assigned a value but never used.","line":33,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":33,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { ArrowLeft, BookOpen, PlayCircle, CheckCircle, Lock } from 'lucide-react';\r\nimport { COURSE_DATA } from '../../data/courseData';\r\nimport LessonView from './LessonView';\r\nimport FeedbackModal from './FeedbackModal';\r\n\r\nconst FeminizationCourse = ({ onClose }) => {\r\n    const [activeLesson, setActiveLesson] = useState(null);\r\n    const [completedLessons, setCompletedLessons] = useState([]);\r\n    const [showFeedback, setShowFeedback] = useState(false);\r\n\r\n    // Load progress from local storage\r\n    useEffect(() => {\r\n        const savedProgress = localStorage.getItem('gem_course_progress');\r\n        if (savedProgress) {\r\n            setCompletedLessons(JSON.parse(savedProgress));\r\n        }\r\n    }, []);\r\n\r\n    const handleLessonComplete = (lessonId) => {\r\n        if (!completedLessons.includes(lessonId)) {\r\n            const newProgress = [...completedLessons, lessonId];\r\n            setCompletedLessons(newProgress);\r\n            localStorage.setItem('gem_course_progress', JSON.stringify(newProgress));\r\n\r\n            // Trigger feedback for every 3rd lesson or just randomly for engagement\r\n            if (newProgress.length % 3 === 0) {\r\n                setShowFeedback(true);\r\n            }\r\n        }\r\n    };\r\n\r\n    const getLessonStatus = (lessonId) => {\r\n        return completedLessons.includes(lessonId) ? 'completed' : 'locked'; // Simplified logic\r\n    };\r\n\r\n    const isLessonLocked = (_lessonId, _moduleIndex, _lessonIndex) => {\r\n        return false; // All lessons unlocked\r\n    };\r\n\r\n    const handleStartLesson = (lesson) => {\r\n        setActiveLesson(lesson);\r\n    };\r\n\r\n    const handleNextLesson = () => {\r\n        // Find current lesson index\r\n        let currentModuleIndex = -1;\r\n        let currentLessonIndex = -1;\r\n\r\n        COURSE_DATA.forEach((module, mIdx) => {\r\n            module.lessons.forEach((lesson, lIdx) => {\r\n                if (lesson.id === activeLesson.id) {\r\n                    currentModuleIndex = mIdx;\r\n                    currentLessonIndex = lIdx;\r\n                }\r\n            });\r\n        });\r\n\r\n        // Check if there is a next lesson in the current module\r\n        if (currentLessonIndex < COURSE_DATA[currentModuleIndex].lessons.length - 1) {\r\n            setActiveLesson(COURSE_DATA[currentModuleIndex].lessons[currentLessonIndex + 1]);\r\n        }\r\n        // Or next module\r\n        else if (currentModuleIndex < COURSE_DATA.length - 1) {\r\n            setActiveLesson(COURSE_DATA[currentModuleIndex + 1].lessons[0]);\r\n        } else {\r\n            // Course complete!\r\n            setActiveLesson(null);\r\n        }\r\n    };\r\n\r\n    const handlePreviousLesson = () => {\r\n        // Find current lesson index\r\n        let currentModuleIndex = -1;\r\n        let currentLessonIndex = -1;\r\n\r\n        COURSE_DATA.forEach((module, mIdx) => {\r\n            module.lessons.forEach((lesson, lIdx) => {\r\n                if (lesson.id === activeLesson.id) {\r\n                    currentModuleIndex = mIdx;\r\n                    currentLessonIndex = lIdx;\r\n                }\r\n            });\r\n        });\r\n\r\n        if (currentLessonIndex > 0) {\r\n            setActiveLesson(COURSE_DATA[currentModuleIndex].lessons[currentLessonIndex - 1]);\r\n        } else if (currentModuleIndex > 0) {\r\n            const prevModule = COURSE_DATA[currentModuleIndex - 1];\r\n            setActiveLesson(prevModule.lessons[prevModule.lessons.length - 1]);\r\n        }\r\n    };\r\n\r\n    // Calculate progress\r\n    const totalLessons = COURSE_DATA.reduce((acc, module) => acc + module.lessons.length, 0);\r\n    const progressPercentage = Math.round((completedLessons.length / totalLessons) * 100);\r\n\r\n    if (activeLesson) {\r\n        // Determine if there are next/prev lessons\r\n        let currentModuleIndex = -1;\r\n        let currentLessonIndex = -1;\r\n        COURSE_DATA.forEach((module, mIdx) => {\r\n            module.lessons.forEach((lesson, lIdx) => {\r\n                if (lesson.id === activeLesson.id) {\r\n                    currentModuleIndex = mIdx;\r\n                    currentLessonIndex = lIdx;\r\n                }\r\n            });\r\n        });\r\n\r\n        const hasNext =\r\n            currentLessonIndex < COURSE_DATA[currentModuleIndex].lessons.length - 1 ||\r\n            currentModuleIndex < COURSE_DATA.length - 1;\r\n\r\n        const hasPrevious =\r\n            currentLessonIndex > 0 ||\r\n            currentModuleIndex > 0;\r\n\r\n        return (\r\n            <div className=\"fixed inset-0 z-[60] bg-slate-950 flex flex-col animate-in slide-in-from-right duration-300\">\r\n                <div className=\"p-4 border-b border-white/10 flex items-center gap-4 bg-slate-950/90 backdrop-blur-xl\">\r\n                    <button\r\n                        onClick={() => setActiveLesson(null)}\r\n                        className=\"p-2 hover:bg-white/10 rounded-full transition-colors\"\r\n                    >\r\n                        <ArrowLeft className=\"w-6 h-6 text-slate-400\" />\r\n                    </button>\r\n                    <div className=\"flex-1\">\r\n                        <h1 className=\"text-sm font-bold text-slate-400 uppercase tracking-wider\">Course Mode</h1>\r\n                        <p className=\"text-white font-bold\">{activeLesson.title}</p>\r\n                    </div>\r\n                    <div className=\"w-32 h-2 bg-slate-800 rounded-full overflow-hidden\">\r\n                        <div\r\n                            className=\"h-full bg-gradient-to-r from-pink-500 to-purple-600 transition-all duration-500\"\r\n                            style={{ width: `${progressPercentage}%` }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex-1 overflow-hidden p-6 max-w-5xl mx-auto w-full\">\r\n                    <LessonView\r\n                        lesson={activeLesson}\r\n                        onComplete={() => handleLessonComplete(activeLesson.id)}\r\n                        onNext={handleNextLesson}\r\n                        onPrevious={handlePreviousLesson}\r\n                        hasNext={hasNext}\r\n                        hasPrevious={hasPrevious}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 bg-slate-950 flex flex-col animate-in slide-in-from-bottom-10 duration-300\">\r\n            {/* Header */}\r\n            <div className=\"p-4 border-b border-white/10 flex items-center gap-4 bg-slate-950/90 backdrop-blur-xl\">\r\n                <button\r\n                    onClick={onClose}\r\n                    className=\"p-2 hover:bg-white/10 rounded-full transition-colors\"\r\n                >\r\n                    <ArrowLeft className=\"w-6 h-6 text-slate-400\" />\r\n                </button>\r\n                <div>\r\n                    <h1 className=\"text-xl font-bold text-white\">Feminization Course</h1>\r\n                    <p className=\"text-xs text-slate-400\">Comprehensive Guide to Voice Feminization</p>\r\n                </div>\r\n                <div className=\"ml-auto flex items-center gap-2 px-4 py-2 bg-slate-800 rounded-full border border-white/5\">\r\n                    <div className=\"w-24 h-2 bg-slate-700 rounded-full overflow-hidden\">\r\n                        <div\r\n                            className=\"h-full bg-gradient-to-r from-pink-500 to-purple-600 transition-all duration-500\"\r\n                            style={{ width: `${progressPercentage}%` }}\r\n                        />\r\n                    </div>\r\n                    <span className=\"text-xs font-bold text-white\">{progressPercentage}% Complete</span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"flex-1 overflow-y-auto p-6\">\r\n                <div className=\"max-w-4xl mx-auto space-y-8\">\r\n\r\n                    {/* Hero Section */}\r\n                    <div className=\"relative rounded-3xl overflow-hidden bg-gradient-to-br from-pink-600 to-purple-700 p-8 text-white shadow-2xl\">\r\n                        <div className=\"relative z-10\">\r\n                            <span className=\"inline-block px-3 py-1 bg-white/20 backdrop-blur-md rounded-full text-xs font-bold mb-4 border border-white/20\">\r\n                                MODULE 1: FOUNDATIONS\r\n                            </span>\r\n                            <h2 className=\"text-3xl font-bold mb-2\">Welcome to Your Journey</h2>\r\n                            <p className=\"text-pink-100 max-w-lg mb-6\">\r\n                                Start here to understand the core principles of voice feminization: Pitch, Resonance, and Weight.\r\n                            </p>\r\n                            <button\r\n                                onClick={() => handleStartLesson(COURSE_DATA[0].lessons[0])}\r\n                                className=\"px-6 py-3 bg-white text-pink-600 rounded-xl font-bold hover:bg-pink-50 transition-colors flex items-center gap-2 shadow-lg\"\r\n                            >\r\n                                <PlayCircle className=\"w-5 h-5\" />\r\n                                Start First Lesson\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Decorative Background Elements */}\r\n                        <div className=\"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/4\"></div>\r\n                        <div className=\"absolute bottom-0 left-0 w-48 h-48 bg-black/10 rounded-full blur-2xl translate-y-1/4 -translate-x-1/4\"></div>\r\n                    </div>\r\n\r\n                    {/* Course Curriculum */}\r\n                    <div>\r\n                        <h3 className=\"text-lg font-bold text-slate-300 mb-4 flex items-center gap-2\">\r\n                            <BookOpen className=\"w-5 h-5\" />\r\n                            Curriculum\r\n                        </h3>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            {COURSE_DATA.map((module, mIdx) => (\r\n                                <div key={module.id} className={`bg-slate-900/50 border border-white/5 rounded-2xl overflow-hidden ${mIdx > 0 && isLessonLocked(module.lessons[0].id, mIdx, 0) ? 'opacity-75' : ''}`}>\r\n                                    <div className=\"p-4 border-b border-white/5 bg-white/5 flex justify-between items-center\">\r\n                                        <h4 className=\"font-bold text-white\">{module.title}</h4>\r\n                                        <span className=\"text-xs text-slate-400\">\r\n                                            {module.lessons.filter(l => completedLessons.includes(l.id)).length}/{module.lessons.length} Completed\r\n                                        </span>\r\n                                    </div>\r\n                                    <div className=\"divide-y divide-white/5\">\r\n                                        {module.lessons.map((lesson, lIdx) => {\r\n                                            const isLocked = isLessonLocked(lesson.id, mIdx, lIdx);\r\n                                            const isCompleted = completedLessons.includes(lesson.id);\r\n\r\n                                            return (\r\n                                                <div\r\n                                                    key={lesson.id}\r\n                                                    onClick={() => !isLocked && handleStartLesson(lesson)}\r\n                                                    className={`p-4 flex items-center gap-4 transition-colors group ${isLocked ? 'cursor-not-allowed opacity-50' : 'cursor-pointer hover:bg-white/5'}`}\r\n                                                >\r\n                                                    <div className={`w-8 h-8 rounded-full flex items-center justify-center transition-colors ${isCompleted ? 'bg-green-500 text-white' :\r\n                                                        isLocked ? 'bg-slate-800 text-slate-500' :\r\n                                                            'bg-pink-500/20 text-pink-400 group-hover:bg-pink-500 group-hover:text-white'\r\n                                                        }`}>\r\n                                                        {isCompleted ? <CheckCircle className=\"w-4 h-4\" /> :\r\n                                                            isLocked ? <Lock className=\"w-4 h-4\" /> :\r\n                                                                <PlayCircle className=\"w-4 h-4\" />}\r\n                                                    </div>\r\n                                                    <div className=\"flex-1\">\r\n                                                        <h5 className={`text-sm font-bold ${isCompleted ? 'text-green-400' : 'text-slate-200'}`}>{lesson.title}</h5>\r\n                                                        <p className=\"text-xs text-slate-500\">{lesson.description}</p>\r\n                                                    </div>\r\n                                                    <span className=\"text-xs text-slate-500\">{lesson.duration}</span>\r\n                                                </div>\r\n                                            );\r\n                                        })}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <FeedbackModal\r\n                isOpen={showFeedback}\r\n                onClose={() => setShowFeedback(false)}\r\n                initialType=\"feedback\"\r\n            />\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default FeminizationCourse;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\FloatingCamera.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\FollowAlongWarmup.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ForwardFocusDrill.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\GabLibs.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'onClose' is defined but never used. Allowed unused args must match /^_/u.","line":5,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef } from 'react';\r\nimport { Mic, Play, BookOpen, Volume2, ChevronLeft } from 'lucide-react';\r\nimport { GAB_LIBS_STORIES } from '../../data/trainingData';\r\n\r\nconst GabLibs = ({ onClose }) => {\r\n    const [activeStory, setActiveStory] = useState(null);\r\n    const [recordings, setRecordings] = useState({}); // { [keyword]: blobUrl }\r\n    const [isRecording, setIsRecording] = useState(null); // keyword being recorded\r\n    const mediaRecorderRef = useRef(null);\r\n    const chunksRef = useRef([]);\r\n\r\n    // Temporary audio playback\r\n    const audioRef = useRef(new Audio());\r\n\r\n    const startRecording = async (keyword) => {\r\n        try {\r\n            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n            const mediaRecorder = new MediaRecorder(stream);\r\n            mediaRecorderRef.current = mediaRecorder;\r\n            chunksRef.current = [];\r\n\r\n            mediaRecorder.ondataavailable = (e) => {\r\n                if (e.data.size > 0) chunksRef.current.push(e.data);\r\n            };\r\n\r\n            mediaRecorder.onstop = () => {\r\n                const blob = new Blob(chunksRef.current, { type: 'audio/webm' });\r\n                const url = URL.createObjectURL(blob);\r\n                setRecordings(prev => ({ ...prev, [keyword]: url }));\r\n                stream.getTracks().forEach(track => track.stop());\r\n            };\r\n\r\n            mediaRecorder.start();\r\n            setIsRecording(keyword);\r\n        } catch (err) {\r\n            console.error(\"Error accessing microphone:\", err);\r\n        }\r\n    };\r\n\r\n    const stopRecording = () => {\r\n        if (mediaRecorderRef.current && isRecording) {\r\n            mediaRecorderRef.current.stop();\r\n            setIsRecording(null);\r\n        }\r\n    };\r\n\r\n    const playRecording = (keyword) => {\r\n        if (recordings[keyword]) {\r\n            audioRef.current.src = recordings[keyword];\r\n            audioRef.current.play();\r\n        }\r\n    };\r\n\r\n    // Parse text to find *bold* keywords and replace with interactive elements\r\n    const renderStoryText = (story) => {\r\n        const parts = story.text.split(/(\\*[^*]+\\*)/g);\r\n        return (\r\n            <div className=\"leading-loose text-lg text-slate-300\">\r\n                {parts.map((part, i) => {\r\n                    if (part.startsWith('*') && part.endsWith('*')) {\r\n                        const keyword = part.slice(1, -1);\r\n                        const hasRecording = !!recordings[keyword];\r\n                        return (\r\n                            <span key={i} className=\"inline-block mx-1\">\r\n                                <button\r\n                                    onClick={() => hasRecording ? playRecording(keyword) : null}\r\n                                    className={`px-3 py-1 rounded-full text-sm font-bold border transition-all flex items-center gap-2 ${hasRecording\r\n                                        ? 'bg-teal-500/20 text-teal-300 border-teal-500/50 hover:bg-teal-500/30'\r\n                                        : 'bg-slate-800 text-slate-500 border-dashed border-slate-600'\r\n                                        }`}\r\n                                >\r\n                                    {hasRecording ? <Volume2 size={14} /> : <div className=\"w-3 h-3 rounded-full bg-slate-600\" />}\r\n                                    {keyword}\r\n                                </button>\r\n                            </span>\r\n                        );\r\n                    }\r\n                    return <span key={i}>{part}</span>;\r\n                })}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if (activeStory) {\r\n        return (\r\n            <div className=\"h-full flex flex-col bg-slate-900/50 rounded-2xl p-6\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                    <button onClick={() => setActiveStory(null)} className=\"flex items-center gap-2 text-slate-400 hover:text-white\">\r\n                        <ChevronLeft size={20} /> Back to Library\r\n                    </button>\r\n                    <h2 className=\"text-xl font-bold text-white\">{activeStory.title}</h2>\r\n                    <div className=\"w-8\" />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden\">\r\n                    {/* Sound Board (Left) */}\r\n                    <div className=\"bg-slate-900 rounded-xl p-4 border border-slate-800 flex flex-col gap-3 overflow-y-auto\">\r\n                        <h3 className=\"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2\">Sound Board</h3>\r\n                        {activeStory.keywords.map(keyword => (\r\n                            <div key={keyword} className=\"flex items-center justify-between p-3 bg-slate-950 rounded-lg border border-slate-800\">\r\n                                <span className=\"text-sm font-medium text-slate-300 truncate max-w-[120px]\" title={keyword}>{keyword}</span>\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    {recordings[keyword] && (\r\n                                        <button\r\n                                            onClick={() => playRecording(keyword)}\r\n                                            className=\"p-2 rounded-full bg-teal-500/20 text-teal-400 hover:bg-teal-500/30\"\r\n                                        >\r\n                                            <Play size={16} />\r\n                                        </button>\r\n                                    )}\r\n                                    <button\r\n                                        onMouseDown={() => startRecording(keyword)}\r\n                                        onMouseUp={stopRecording}\r\n                                        onMouseLeave={stopRecording}\r\n                                        className={`p-2 rounded-full transition-colors ${isRecording === keyword\r\n                                            ? 'bg-red-500 text-white animate-pulse'\r\n                                            : 'bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white'\r\n                                            }`}\r\n                                        title=\"Hold to Record\"\r\n                                    >\r\n                                        <Mic size={16} />\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Story Reader (Right) */}\r\n                    <div className=\"lg:col-span-2 bg-slate-900 rounded-xl p-6 border border-slate-800 overflow-y-auto\">\r\n                        {renderStoryText(activeStory)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"h-full flex flex-col\">\r\n            <div className=\"flex items-center gap-3 mb-6\">\r\n                <div className=\"p-3 bg-purple-500/20 rounded-xl\">\r\n                    <BookOpen className=\"w-8 h-8 text-purple-400\" />\r\n                </div>\r\n                <div>\r\n                    <h2 className=\"text-2xl font-bold text-white\">Gab Libs</h2>\r\n                    <p className=\"text-slate-400\">Record sound effects, then read the story!</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                {GAB_LIBS_STORIES.map(story => (\r\n                    <button\r\n                        key={story.id}\r\n                        onClick={() => setActiveStory(story)}\r\n                        className=\"p-6 bg-slate-900 border border-slate-800 rounded-xl text-left hover:border-purple-500/50 hover:bg-slate-800/80 transition-all group\"\r\n                    >\r\n                        <h3 className=\"text-lg font-bold text-white group-hover:text-purple-400 transition-colors mb-2\">{story.title}</h3>\r\n                        <p className=\"text-sm text-slate-500 line-clamp-2\">{story.text.replace(/\\*/g, '')}</p>\r\n                    </button>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GabLibs;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\GenderPerceptionBadge.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\GenderPerceptionDashboard.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'hex' is assigned a value but never used.","line":72,"column":15,"nodeType":"Identifier","messageId":"unusedVar","endLine":72,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState } from 'react';\r\nimport { Activity, Target, Lightbulb } from 'lucide-react';\r\nimport { useSettings } from '../../context/SettingsContext';\r\nimport { useProfile } from '../../context/ProfileContext';\r\nimport { predictGenderPerception, getPerceptionLabel, getPerceptionColor } from '../../services/GenderPerceptionPredictor';\r\n\r\nconst GenderPerceptionDashboard = ({ dataRef, view }) => {\r\n    const { settings } = useSettings();\r\n    const { activeProfile, targetRange } = useProfile();\r\n    const { colorBlindMode, genderFeedbackMode = 'neutral' } = settings;\r\n\r\n    const [metrics, setMetrics] = useState({\r\n        perception: '--',\r\n        pitch: 0,\r\n        resonance: 0,\r\n        weight: 50,\r\n        f1: 0,\r\n        f2: 0,\r\n        jitter: 0,\r\n        shimmer: 0,\r\n        tilt: 0,\r\n        score: 0.5\r\n    });\r\n\r\n    useEffect(() => {\r\n        const loop = () => {\r\n            if (!dataRef.current) return;\r\n\r\n            const { pitch, resonance, weight, f1, f2, jitter, shimmer, tilt } = dataRef.current;\r\n\r\n            let perception = '--';\r\n            let score = 0.5;\r\n\r\n            if (pitch > 0) {\r\n                // Use shared logic for consistent scoring/labeling across the app\r\n                const prediction = predictGenderPerception(pitch, f1);\r\n                perception = getPerceptionLabel(prediction.score, genderFeedbackMode);\r\n                score = prediction.score;\r\n            }\r\n\r\n            setMetrics({\r\n                perception,\r\n                pitch: pitch || 0,\r\n                resonance: resonance || 0,\r\n                weight: weight || 50,\r\n                f1: f1 || 0,\r\n                f2: f2 || 0,\r\n                jitter: jitter || 0,\r\n                shimmer: shimmer || 0,\r\n                tilt: tilt || 0,\r\n                score\r\n            });\r\n        };\r\n\r\n        let unsubscribe;\r\n        import('../../services/RenderCoordinator').then(({ renderCoordinator }) => {\r\n            unsubscribe = renderCoordinator.subscribe(\r\n                'gender-perception-dashboard',\r\n                loop,\r\n                renderCoordinator.PRIORITY.HIGH\r\n            );\r\n        });\r\n\r\n        return () => {\r\n            if (unsubscribe) unsubscribe();\r\n        };\r\n    }, [dataRef, genderFeedbackMode]);\r\n\r\n    const getDashboardColor = () => {\r\n        if (metrics.perception === '--') return 'text-slate-400 bg-slate-500/10 border-slate-500/30';\r\n        // Reuse shared color logic but adapt for background styles\r\n        const hex = getPerceptionColor(metrics.score, colorBlindMode);\r\n\r\n        // We need to return tailwind classes, so this is a bit of a hybrid approach\r\n        // ideally we'd rewrite getPerceptionColor to return semantic names, but for now we'll match manually\r\n        // based on the score to keep visual consistency with the Badge\r\n\r\n        if (colorBlindMode) {\r\n            if (metrics.score < 0.3) return 'text-teal-400 bg-teal-500/10 border-teal-500/30';\r\n            if (metrics.score > 0.7) return 'text-purple-400 bg-purple-500/10 border-purple-500/30';\r\n            return 'text-indigo-400 bg-indigo-500/10 border-indigo-500/30';\r\n        }\r\n\r\n        if (metrics.score < 0.25) return 'text-blue-400 bg-blue-500/10 border-blue-500/30';\r\n        if (metrics.score > 0.75) return 'text-pink-400 bg-pink-500/10 border-pink-500/30';\r\n        if (metrics.score >= 0.45 && metrics.score <= 0.55) return 'text-purple-400 bg-purple-500/10 border-purple-500/30';\r\n\r\n        return 'text-indigo-400 bg-indigo-500/10 border-indigo-500/30';\r\n    };\r\n\r\n    const getResonanceLabel = () => {\r\n        if (metrics.resonance < 2000) return 'Dark';\r\n        if (metrics.resonance > 2800) return 'Bright';\r\n        return 'Balanced';\r\n    };\r\n\r\n    const getWeightLabel = () => {\r\n        if (metrics.weight < 30) return 'Breathy';\r\n        if (metrics.weight > 70) return 'Pressed';\r\n        return 'Balanced';\r\n    };\r\n\r\n    // --- New Logic for Targets and Advice ---\r\n\r\n    const getTargetInfo = () => {\r\n        if (!activeProfile) return null;\r\n        const isFem = activeProfile === 'fem';\r\n        const isMasc = activeProfile === 'masc';\r\n\r\n        switch (view) {\r\n            case 'pitch':\r\n                return { label: 'Target Pitch', value: `${targetRange.min}-${targetRange.max} Hz` };\r\n            case 'resonance':\r\n                return { label: 'Target Resonance', value: isFem ? 'Bright (High R1)' : isMasc ? 'Dark (Low R1)' : 'Balanced' };\r\n            case 'weight':\r\n                return { label: 'Target Weight', value: isFem ? 'Light / Soft' : isMasc ? 'Heavy / Full' : 'Balanced' };\r\n            case 'tilt':\r\n                return { label: 'Target Tilt', value: isFem ? '-6dB (Less Steep)' : isMasc ? '-12dB (Steeper)' : '-9dB' };\r\n            case 'vowel':\r\n                return { label: 'Target Vowel', value: 'Clear Formants' };\r\n            case 'quality':\r\n                return { label: 'Target Quality', value: 'High Stability' };\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    const getAdvice = () => {\r\n        if (!activeProfile) return null;\r\n        const isFem = activeProfile === 'fem';\r\n        const isMasc = activeProfile === 'masc';\r\n        const { pitch, resonance, weight, tilt } = metrics;\r\n\r\n        if (view === 'pitch') {\r\n            if (pitch === 0) return \"Speak to see your pitch.\";\r\n            if (pitch < targetRange.min) return \"Pitch is too low. Try sliding up.\";\r\n            if (pitch > targetRange.max) return \"Pitch is too high. Relax down.\";\r\n            return \"Perfect pitch! Hold it steady.\";\r\n        }\r\n\r\n        if (view === 'resonance') {\r\n            if (resonance === 0) return \"Speak to see resonance.\";\r\n            if (isFem) {\r\n                if (resonance < 2500) return \"Resonance is dark. Raise your larynx (smile/swallow).\";\r\n                return \"Great brightness! Keep it forward.\";\r\n            }\r\n            if (isMasc) {\r\n                if (resonance > 2000) return \"Resonance is bright. Lower your larynx (yawn).\";\r\n                return \"Nice dark resonance.\";\r\n            }\r\n        }\r\n\r\n        if (view === 'weight') {\r\n            if (isFem) {\r\n                if (weight > 60) return \"Voice is heavy. Add breathiness, soften the onset.\";\r\n                return \"Good light weight.\";\r\n            }\r\n            if (isMasc) {\r\n                if (weight < 40) return \"Voice is too light. Add vocal fold closure.\";\r\n                return \"Good heavy weight.\";\r\n            }\r\n        }\r\n\r\n        if (view === 'tilt') {\r\n            if (isFem) {\r\n                if (tilt < -10) return \"Sound is too breathy/steep. Project more.\";\r\n                return \"Good projection.\";\r\n            }\r\n        }\r\n\r\n        return \"Practice consistently to build muscle memory.\";\r\n    };\r\n\r\n    const targetInfo = getTargetInfo();\r\n    const advice = getAdvice();\r\n\r\n    return (\r\n        <div className=\"bg-slate-900/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-4 h-full flex flex-col\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center gap-2 mb-2 shrink-0\">\r\n                <Activity className=\"w-4 h-4 text-slate-400\" />\r\n                <h3 className=\"text-xs font-bold text-slate-400 uppercase tracking-wider\">\r\n                    {genderFeedbackMode === 'neutral' ? 'Range Analysis' : 'Gender Perception'}\r\n                </h3>\r\n            </div>\r\n\r\n            {/* Perception Badge - Hidden in 'off' mode */}\r\n            {genderFeedbackMode !== 'off' && (\r\n                <div className={`mb-2 px-4 py-3 rounded-lg border ${getDashboardColor()} text-center shrink-0`}>\r\n                    <div className=\"text-xs font-bold uppercase tracking-wider opacity-60 mb-1\">\r\n                        {genderFeedbackMode === 'neutral' ? 'Current Range' : 'Current Perception'}\r\n                    </div>\r\n                    <div className=\"text-2xl font-bold\">{metrics.perception}</div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Target & Advice Section (New) */}\r\n            {(targetInfo || advice) && (\r\n                <div className=\"mb-2 space-y-1 shrink-0\">\r\n                    {targetInfo && (\r\n                        <div className=\"bg-slate-800/80 rounded-lg p-3 border border-slate-700/50 flex items-center justify-between\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <Target className=\"w-4 h-4 text-emerald-400\" />\r\n                                <span className=\"text-xs font-bold text-slate-300\">{targetInfo.label}</span>\r\n                            </div>\r\n                            <span className=\"text-xs font-mono text-emerald-400\">{targetInfo.value}</span>\r\n                        </div>\r\n                    )}\r\n                    {advice && (\r\n                        <div className=\"bg-blue-500/10 rounded-lg p-3 border border-blue-500/20\">\r\n                            <div className=\"flex items-start gap-2\">\r\n                                <Lightbulb className=\"w-4 h-4 text-blue-400 mt-0.5 shrink-0\" />\r\n                                <p className=\"text-xs text-blue-200 leading-relaxed\">{advice}</p>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Scrollable Content Area */}\r\n            <div className=\"flex-1 overflow-y-auto pr-1 custom-scrollbar\">\r\n                {/* Primary Metrics Grid */}\r\n                <div className=\"grid grid-cols-2 gap-2 text-xs mb-2\">\r\n                    {/* Pitch */}\r\n                    {/* Pitch */}\r\n                    <div className={`bg-slate-800/50 rounded-lg p-3 border ${view === 'pitch' ? 'border-teal-500/50 shadow-[0_0_10px_rgba(20,184,166,0.1)]' : 'border-slate-700/30'}`}>\r\n                        <div className=\"text-slate-400 uppercase tracking-wider mb-1 text-[10px]\">Pitch (F0)</div>\r\n                        <div className=\"text-lg font-bold text-white font-mono\">{Math.round(metrics.pitch)} Hz</div>\r\n                    </div>\r\n\r\n                    {/* Resonance */}\r\n                    <div className={`bg-slate-800/50 rounded-lg p-3 border ${view === 'resonance' ? 'border-teal-500/50 shadow-[0_0_10px_rgba(20,184,166,0.1)]' : 'border-slate-700/30'}`}>\r\n                        <div className=\"text-slate-400 uppercase tracking-wider mb-1 text-[10px]\">Resonance</div>\r\n                        <div className=\"text-lg font-bold text-cyan-400 font-mono\">{Math.round(metrics.resonance)} Hz</div>\r\n                        <div className=\"text-[9px] text-slate-500 mt-0.5\">{getResonanceLabel()}</div>\r\n                    </div>\r\n\r\n                    {/* F1 */}\r\n                    <div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/30\">\r\n                        <div className=\"text-slate-400 uppercase tracking-wider mb-1 text-[10px]\">F1 (Openness)</div>\r\n                        <div className=\"text-lg font-bold text-green-400 font-mono\">{Math.round(metrics.f1)} Hz</div>\r\n                    </div>\r\n\r\n                    {/* F2 */}\r\n                    <div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/30\">\r\n                        <div className=\"text-slate-400 uppercase tracking-wider mb-1 text-[10px]\">F2 (Brightness)</div>\r\n                        <div className=\"text-lg font-bold text-green-400 font-mono\">{Math.round(metrics.f2)} Hz</div>\r\n                    </div>\r\n\r\n                    {/* Weight */}\r\n                    <div className={`bg-slate-800/50 rounded-lg p-3 border ${view === 'weight' ? 'border-teal-500/50 shadow-[0_0_10px_rgba(20,184,166,0.1)]' : 'border-slate-700/30'} col-span-2`}>\r\n                        <div className=\"text-slate-400 uppercase tracking-wider mb-1 text-[10px]\">Weight</div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <div className=\"text-lg font-bold text-yellow-400 font-mono\">{Math.round(metrics.weight)}</div>\r\n                            <div className=\"text-[9px] text-slate-500\">{getWeightLabel()}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Quality Metrics */}\r\n                <div className=\"border-t border-slate-700/30 pt-2 mb-2\">\r\n                    <div className=\"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-2\">Voice Quality</div>\r\n                    <div className=\"grid grid-cols-3 gap-2 text-xs\">\r\n                        {/* Jitter */}\r\n                        <div className=\"bg-slate-800/30 rounded p-2 border border-slate-700/20\">\r\n                            <div className=\"text-slate-400 text-[9px] mb-0.5\">Jitter</div>\r\n                            <div className=\"text-sm font-mono text-orange-400\">{(metrics.jitter * 100).toFixed(2)}%</div>\r\n                        </div>\r\n\r\n                        {/* Shimmer */}\r\n                        <div className=\"bg-slate-800/30 rounded p-2 border border-slate-700/20\">\r\n                            <div className=\"text-slate-400 text-[9px] mb-0.5\">Shimmer</div>\r\n                            <div className=\"text-sm font-mono text-orange-400\">{(metrics.shimmer * 100).toFixed(2)}%</div>\r\n                        </div>\r\n\r\n                        {/* Spectral Tilt */}\r\n                        <div className={`bg-slate-800/30 rounded p-2 border ${view === 'tilt' ? 'border-teal-500/50' : 'border-slate-700/20'}`}>\r\n                            <div className=\"text-slate-400 text-[9px] mb-0.5\">Tilt</div>\r\n                            <div className=\"text-sm font-mono text-purple-400\">{metrics.tilt.toFixed(1)} dB</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Info Footer */}\r\n            <div className=\"mt-2 pt-2 border-t border-slate-700/30 shrink-0\">\r\n                <div className=\"text-[9px] text-slate-500 text-center\">\r\n                    Comprehensive voice analysis metrics\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GenderPerceptionDashboard;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\GlobalErrorBoundary.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\GraduationReflection.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'showConfetti' is assigned a value but never used.","line":9,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Book, Heart, Map, CheckCircle } from 'lucide-react';\r\nimport confetti from 'canvas-confetti';\r\n\r\nconst GraduationReflection = ({ onComplete }) => {\r\n    const [step, setStep] = useState(0);\r\n    const [glossary, setGlossary] = useState({});\r\n    const [reflection, setReflection] = useState({});\r\n    const [showConfetti, setShowConfetti] = useState(false);\r\n\r\n    // 1. Readiness\r\n    const readinessChecks = [\r\n        \"I can make a consistent, healthy sound for a few sentences.\",\r\n        \"I can catch myself when my voice dips.\",\r\n        \"I know how to reset (Recovery Strategy).\",\r\n        \"I am ready to coach myself.\"\r\n    ];\r\n    const [readiness, setReadiness] = useState({});\r\n\r\n    // 2. Glossary\r\n    const concepts = [\r\n        \"Breath Support vs Management\", \"Open Quotient\", \"Resonance / R1\",\r\n        \"Vocal Mass / Thickness\", \"Twang / Aryepiglottic Sphincter\",\r\n        \"Prosody (Bounce/Tempo/Elongation)\", \"Recovery (Anchor Words)\"\r\n    ];\r\n\r\n    const handleSubmit = () => {\r\n        setShowConfetti(true);\r\n        confetti({\r\n            particleCount: 150,\r\n            spread: 70,\r\n            origin: { y: 0.6 }\r\n        });\r\n        setTimeout(() => {\r\n            onComplete?.();\r\n        }, 5000);\r\n    };\r\n\r\n    const renderStep = () => {\r\n        switch (step) {\r\n            case 0: // Readiness\r\n                return (\r\n                    <div className=\"space-y-6 animate-in fade-in\">\r\n                        <div className=\"text-center mb-8\">\r\n                            <div className=\"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-4 text-blue-400\">\r\n                                <CheckCircle size={32} />\r\n                            </div>\r\n                            <h2 className=\"text-2xl font-bold text-white\">Are You Ready?</h2>\r\n                            <p className=\"text-slate-400\">Honesty is the most important tool you have.</p>\r\n                        </div>\r\n                        <div className=\"space-y-4\">\r\n                            {readinessChecks.map((item, i) => (\r\n                                <label key={i} className=\"flex items-center gap-4 p-4 bg-slate-900 rounded-xl border border-slate-800 cursor-pointer hover:border-blue-500/50 transition-colors\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={readiness[i] || false}\r\n                                        onChange={() => setReadiness(prev => ({ ...prev, [i]: !prev[i] }))}\r\n                                        className=\"w-5 h-5 rounded border-slate-600 bg-slate-800 text-blue-500 focus:ring-blue-500/50\"\r\n                                    />\r\n                                    <span className=\"text-slate-200\">{item}</span>\r\n                                </label>\r\n                            ))}\r\n                        </div>\r\n                        <button\r\n                            disabled={Object.keys(readiness).length < readinessChecks.length}\r\n                            onClick={() => setStep(1)}\r\n                            className=\"w-full py-4 bg-blue-600 disabled:bg-slate-800 disabled:text-slate-500 text-white font-bold rounded-xl mt-8 transition-colors\"\r\n                        >\r\n                            I Am Ready\r\n                        </button>\r\n                    </div>\r\n                );\r\n\r\n            case 1: // Glossary\r\n                return (\r\n                    <div className=\"space-y-6 animate-in fade-in\">\r\n                        <div className=\"text-center mb-8\">\r\n                            <div className=\"w-16 h-16 bg-indigo-500/20 rounded-full flex items-center justify-center mx-auto mb-4 text-indigo-400\">\r\n                                <Book size={32} />\r\n                            </div>\r\n                            <h2 className=\"text-2xl font-bold text-white\">The Toolkit</h2>\r\n                            <p className=\"text-slate-400\">Confirm you can define AND demonstrate these concepts.</p>\r\n                        </div>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                            {concepts.map((concept, i) => (\r\n                                <label key={i} className=\"flex items-center gap-3 p-3 bg-slate-900 rounded-lg border border-slate-800 cursor-pointer hover:border-indigo-500/50\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={glossary[concept] || false}\r\n                                        onChange={() => setGlossary(prev => ({ ...prev, [concept]: !prev[concept] }))}\r\n                                        className=\"w-4 h-4 rounded border-slate-600 bg-slate-800 text-indigo-500 focus:ring-indigo-500/50\"\r\n                                    />\r\n                                    <span className=\"text-sm text-slate-300 font-medium\">{concept}</span>\r\n                                </label>\r\n                            ))}\r\n                        </div>\r\n                        <button\r\n                            disabled={Object.keys(glossary).length < concepts.length}\r\n                            onClick={() => setStep(2)}\r\n                            className=\"w-full py-4 bg-indigo-600 disabled:bg-slate-800 disabled:text-slate-500 text-white font-bold rounded-xl mt-8 transition-colors\"\r\n                        >\r\n                            My Toolbox is Full\r\n                        </button>\r\n                    </div>\r\n                );\r\n\r\n            case 2: // Emotional\r\n                return (\r\n                    <div className=\"space-y-6 animate-in fade-in\">\r\n                        <div className=\"text-center mb-8\">\r\n                            <div className=\"w-16 h-16 bg-pink-500/20 rounded-full flex items-center justify-center mx-auto mb-4 text-pink-400\">\r\n                                <Heart size={32} />\r\n                            </div>\r\n                            <h2 className=\"text-2xl font-bold text-white\">Heart check</h2>\r\n                            <p className=\"text-slate-400\">Voice is emotional. Let&apos;s honor that.</p>\r\n                        </div>\r\n                        <div className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"block text-sm font-bold text-pink-300 mb-2\">My Vocal Affirmation</label>\r\n                                <textarea\r\n                                    className=\"w-full bg-slate-900 border border-slate-800 rounded-xl p-3 text-white focus:border-pink-500 outline-none\"\r\n                                    placeholder=\"e.g., My voice deserves to be heard...\"\r\n                                    rows={2}\r\n                                    value={reflection.affirmation || ''}\r\n                                    onChange={e => setReflection({ ...reflection, affirmation: e.target.value })}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-sm font-bold text-pink-300 mb-2\">Advice to Future Students</label>\r\n                                <textarea\r\n                                    className=\"w-full bg-slate-900 border border-slate-800 rounded-xl p-3 text-white focus:border-pink-500 outline-none\"\r\n                                    placeholder=\"What do you wish you knew on Day 1?\"\r\n                                    rows={3}\r\n                                    value={reflection.advice || ''}\r\n                                    onChange={e => setReflection({ ...reflection, advice: e.target.value })}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            disabled={!reflection.affirmation}\r\n                            onClick={() => setStep(3)}\r\n                            className=\"w-full py-4 bg-pink-600 disabled:bg-slate-800 disabled:text-slate-500 text-white font-bold rounded-xl mt-8 transition-colors\"\r\n                        >\r\n                            Continue\r\n                        </button>\r\n                    </div>\r\n                );\r\n\r\n            case 3: // Future Plan\r\n                return (\r\n                    <div className=\"space-y-6 animate-in fade-in\">\r\n                        <div className=\"text-center mb-8\">\r\n                            <div className=\"w-16 h-16 bg-teal-500/20 rounded-full flex items-center justify-center mx-auto mb-4 text-teal-400\">\r\n                                <Map size={32} />\r\n                            </div>\r\n                            <h2 className=\"text-2xl font-bold text-white\">The Road Ahead</h2>\r\n                            <p className=\"text-slate-400\">You are your own coach now. What&apos;s the plan?</p>\r\n                        </div>\r\n                        <div className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"block text-sm font-bold text-teal-300 mb-2\">My &quot;Go-To&quot; Warmup</label>\r\n                                <textarea\r\n                                    className=\"w-full bg-slate-900 border border-slate-800 rounded-xl p-3 text-white focus:border-teal-500 outline-none\"\r\n                                    placeholder=\"e.g., Lip trills -> Sirens -> Reading\"\r\n                                    rows={2}\r\n                                    value={reflection.warmup || ''}\r\n                                    onChange={e => setReflection({ ...reflection, warmup: e.target.value })}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-sm font-bold text-teal-300 mb-2\">My Recovery Move</label>\r\n                                <textarea\r\n                                    className=\"w-full bg-slate-900 border border-slate-800 rounded-xl p-3 text-white focus:border-teal-500 outline-none\"\r\n                                    placeholder=\"What do you do when you dip?\"\r\n                                    rows={2}\r\n                                    value={reflection.recovery || ''}\r\n                                    onChange={e => setReflection({ ...reflection, recovery: e.target.value })}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            disabled={!reflection.warmup}\r\n                            onClick={handleSubmit}\r\n                            className=\"w-full py-4 bg-teal-600 disabled:bg-slate-800 disabled:text-slate-500 text-white font-bold rounded-xl mt-8 transition-colors shadow-lg shadow-teal-900/20\"\r\n                        >\r\n                            GRADUATE\r\n                        </button>\r\n                    </div>\r\n                );\r\n\r\n            default: return null;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-2xl mx-auto py-8\">\r\n            <div className=\"mb-6 flex justify-center gap-2\">\r\n                {[0, 1, 2, 3].map(i => (\r\n                    <div key={i} className={`h-1 flex-1 rounded-full transition-colors ${i <= step ? 'bg-white' : 'bg-slate-800'}`} />\r\n                ))}\r\n            </div>\r\n            {renderStep()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GraduationReflection;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\GuidedJourney.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'getProgressPercentage' is assigned a value but never used.","line":19,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":19,"endColumn":30},{"ruleId":"no-unused-vars","severity":1,"message":"'handleStepClick' is assigned a value but never used.","line":72,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":72,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react';\r\nimport { ArrowLeft, ArrowRight, X, Home, RotateCcw, CheckCircle } from 'lucide-react';\r\nimport { useGuidedJourney } from '../../context/GuidedJourneyContext';\r\nimport JourneyStep from './JourneyStep';\r\nimport JourneyProgressBar from './JourneyProgressBar';\r\n\r\n/**\r\n * GuidedJourney - Main container for the guided voice training experience\r\n * A full-screen, immersive coaching journey that takes users step-by-step\r\n */\r\nconst GuidedJourney = ({ onClose }) => {\r\n    const {\r\n        currentJourneyId,\r\n        currentStepIndex,\r\n        completedSteps,\r\n        isJourneyComplete,\r\n        getCurrentStep,\r\n        getJourneyData,\r\n        getProgressPercentage,\r\n        startJourney,\r\n        advanceStep,\r\n        goToPreviousStep,\r\n        goToStep,\r\n        completeStep,\r\n        exitJourney,\r\n        resetJourney\r\n    } = useGuidedJourney();\r\n\r\n    const [showExitConfirm, setShowExitConfirm] = useState(false);\r\n    const [showCompletionScreen, setShowCompletionScreen] = useState(false);\r\n    const [isTransitioning, setIsTransitioning] = useState(false);\r\n\r\n    const journeyData = getJourneyData(currentJourneyId || 'fem-journey');\r\n    const currentStep = getCurrentStep();\r\n\r\n    // Start journey if not already started\r\n    useEffect(() => {\r\n        if (!currentJourneyId) {\r\n            startJourney('fem-journey');\r\n        }\r\n    }, [currentJourneyId, startJourney]);\r\n\r\n    // Handle step completion and advancement\r\n    const handleNext = useCallback(() => {\r\n        if (!currentStep) return;\r\n\r\n        setIsTransitioning(true);\r\n\r\n        // Mark current step as complete\r\n        completeStep(currentStep.id);\r\n\r\n        // Advance to next step\r\n        const result = advanceStep();\r\n\r\n        if (result === 'complete') {\r\n            // Journey complete!\r\n            setShowCompletionScreen(true);\r\n        }\r\n\r\n        // Reset transition after animation\r\n        setTimeout(() => setIsTransitioning(false), 300);\r\n    }, [currentStep, completeStep, advanceStep]);\r\n\r\n    // Handle going back\r\n    const handlePrevious = useCallback(() => {\r\n        setIsTransitioning(true);\r\n        goToPreviousStep();\r\n        setTimeout(() => setIsTransitioning(false), 300);\r\n    }, [goToPreviousStep]);\r\n\r\n    // Handle step navigation from progress bar\r\n    const handleStepClick = useCallback((stepId) => {\r\n        setIsTransitioning(true);\r\n        goToStep(stepId);\r\n        setTimeout(() => setIsTransitioning(false), 300);\r\n    }, [goToStep]);\r\n\r\n    // Handle exit\r\n    const handleExit = useCallback(() => {\r\n        exitJourney();\r\n        onClose();\r\n    }, [exitJourney, onClose]);\r\n\r\n    // Handle restart\r\n    const handleRestart = useCallback(() => {\r\n        resetJourney();\r\n        startJourney('fem-journey');\r\n        setShowCompletionScreen(false);\r\n    }, [resetJourney, startJourney]);\r\n\r\n    // Determine navigation state\r\n    const canGoBack = currentStepIndex > 0;\r\n    const isLastStep = currentStep?.final === true;\r\n\r\n    // Completion screen\r\n    if (showCompletionScreen || isJourneyComplete) {\r\n        return (\r\n            <div className=\"fixed inset-0 z-[100] bg-black flex flex-col animate-in fade-in duration-500\">\r\n                {/* Celebration background */}\r\n                <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\r\n                    <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-pink-500/10 rounded-full blur-[100px] animate-pulse\" />\r\n                    <div className=\"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-[100px] animate-pulse\" style={{ animationDelay: '1s' }} />\r\n                </div>\r\n\r\n                <div className=\"flex-1 flex items-center justify-center p-8\">\r\n                    <div className=\"max-w-lg text-center relative z-10\">\r\n                        {/* Celebration emoji */}\r\n                        <div className=\"text-8xl mb-6 animate-bounce\">🎉</div>\r\n\r\n                        <h1 className=\"text-4xl font-bold text-white mb-4\">\r\n                            Journey Complete!\r\n                        </h1>\r\n\r\n                        <p className=\"text-xl text-slate-300 mb-8\">\r\n                            You&apos;ve completed all 12 steps of the Voice Feminization Journey.\r\n                            This is just the beginning of your transformation!\r\n                        </p>\r\n\r\n                        {/* Stats */}\r\n                        <div className=\"grid grid-cols-2 gap-4 mb-8\">\r\n                            <div className=\"bg-slate-800/50 rounded-xl p-4 border border-white/5\">\r\n                                <div className=\"text-3xl font-bold text-pink-400\">12</div>\r\n                                <div className=\"text-sm text-slate-400\">Steps Completed</div>\r\n                            </div>\r\n                            <div className=\"bg-slate-800/50 rounded-xl p-4 border border-white/5\">\r\n                                <div className=\"text-3xl font-bold text-purple-400\">100%</div>\r\n                                <div className=\"text-sm text-slate-400\">Progress</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Next steps */}\r\n                        <div className=\"bg-slate-900/50 rounded-xl p-6 border border-white/10 mb-8 text-left\">\r\n                            <h3 className=\"font-bold text-white mb-3 flex items-center gap-2\">\r\n                                <CheckCircle className=\"w-5 h-5 text-green-400\" />\r\n                                What&apos;s Next?\r\n                            </h3>\r\n                            <ul className=\"space-y-2 text-sm text-slate-300\">\r\n                                <li>• Practice daily with the Voice Analysis tools</li>\r\n                                <li>• Use Training Gym for targeted exercises</li>\r\n                                <li>• Track your progress over time</li>\r\n                                <li>• Revisit the journey anytime to refresh</li>\r\n                            </ul>\r\n                        </div>\r\n\r\n                        {/* Actions */}\r\n                        <div className=\"flex gap-4 justify-center\">\r\n                            <button\r\n                                onClick={handleRestart}\r\n                                className=\"flex items-center gap-2 px-6 py-3 bg-slate-800 hover:bg-slate-700 rounded-xl text-slate-300 font-bold transition-colors\"\r\n                            >\r\n                                <RotateCcw size={18} />\r\n                                Start Over\r\n                            </button>\r\n                            <button\r\n                                onClick={handleExit}\r\n                                className=\"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 rounded-xl text-white font-bold shadow-lg shadow-pink-500/20 transition-all\"\r\n                            >\r\n                                <Home size={18} />\r\n                                Go to Dashboard\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Exit confirmation overlay\r\n    const renderExitConfirm = () => (\r\n        <div className=\"fixed inset-0 z-[110] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200\">\r\n            <div className=\"bg-slate-900 rounded-2xl border border-white/10 p-6 max-w-sm w-full shadow-2xl animate-in zoom-in-95 duration-200\">\r\n                <h3 className=\"text-xl font-bold text-white mb-2\">Exit Journey?</h3>\r\n                <p className=\"text-slate-400 text-sm mb-6\">\r\n                    Your progress will be saved. You can continue where you left off anytime.\r\n                </p>\r\n                <div className=\"flex gap-3\">\r\n                    <button\r\n                        onClick={() => setShowExitConfirm(false)}\r\n                        className=\"flex-1 px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-xl text-slate-300 font-bold transition-colors\"\r\n                    >\r\n                        Stay\r\n                    </button>\r\n                    <button\r\n                        onClick={handleExit}\r\n                        className=\"flex-1 px-4 py-2 bg-red-500/20 hover:bg-red-500/30 rounded-xl text-red-400 font-bold transition-colors\"\r\n                    >\r\n                        Exit\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    if (!journeyData || !currentStep) {\r\n        return (\r\n            <div className=\"fixed inset-0 z-[100] bg-black flex items-center justify-center\">\r\n                <div className=\"text-center\">\r\n                    <div className=\"animate-spin w-8 h-8 border-2 border-pink-500 border-t-transparent rounded-full mx-auto mb-4\" />\r\n                    <p className=\"text-slate-400\">Loading journey...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-[100] bg-black flex flex-col animate-in fade-in duration-300\">\r\n            {/* Header */}\r\n            <header className=\"flex-shrink-0 p-4 border-b border-white/10 bg-slate-950/90 backdrop-blur-xl\">\r\n                <div className=\"max-w-5xl mx-auto flex items-center gap-4\">\r\n                    {/* Exit button */}\r\n                    <button\r\n                        onClick={() => setShowExitConfirm(true)}\r\n                        className=\"p-2 hover:bg-white/10 rounded-full transition-colors text-slate-400 hover:text-white\"\r\n                        title=\"Exit Journey\"\r\n                    >\r\n                        <X size={20} />\r\n                    </button>\r\n\r\n                    {/* Journey title */}\r\n                    <div className=\"flex-1 min-w-0\">\r\n                        <h1 className=\"text-sm font-bold text-pink-400 uppercase tracking-wider truncate\">\r\n                            {journeyData.title}\r\n                        </h1>\r\n                        <p className=\"text-white font-bold truncate\">{currentStep.title}</p>\r\n                    </div>\r\n\r\n                    {/* Progress indicator */}\r\n                    <JourneyProgressBar\r\n                        steps={journeyData.steps}\r\n                        currentStepIndex={currentStepIndex}\r\n                        completedSteps={completedSteps}\r\n                        compact={true}\r\n                    />\r\n                </div>\r\n            </header>\r\n\r\n            {/* Main content area */}\r\n            <main className=\"flex-1 overflow-hidden\">\r\n                <div className=\"h-full max-w-4xl mx-auto p-6 lg:p-8\">\r\n                    <div\r\n                        className={`h-full transition-all duration-300 ${isTransitioning ? 'opacity-50 translate-x-4' : 'opacity-100 translate-x-0'\r\n                            }`}\r\n                    >\r\n                        <JourneyStep\r\n                            step={currentStep}\r\n                            onComplete={() => completeStep(currentStep.id)}\r\n                            isCompleted={completedSteps.includes(currentStep.id)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </main>\r\n\r\n            {/* Footer navigation */}\r\n            <footer className=\"flex-shrink-0 p-4 border-t border-white/10 bg-slate-950/90 backdrop-blur-xl\">\r\n                <div className=\"max-w-4xl mx-auto flex items-center justify-between\">\r\n                    {/* Back button */}\r\n                    <button\r\n                        onClick={handlePrevious}\r\n                        disabled={!canGoBack}\r\n                        className={`flex items-center gap-2 px-4 py-2 rounded-xl font-bold transition-all ${canGoBack\r\n                            ? 'text-slate-300 hover:text-white hover:bg-white/10'\r\n                            : 'text-slate-600 cursor-not-allowed'\r\n                            }`}\r\n                    >\r\n                        <ArrowLeft size={18} />\r\n                        <span className=\"hidden sm:inline\">Previous</span>\r\n                    </button>\r\n\r\n                    {/* Step counter */}\r\n                    <div className=\"text-center\">\r\n                        <span className=\"text-slate-400 text-sm\">\r\n                            Step <span className=\"text-white font-bold\">{currentStepIndex + 1}</span> of{' '}\r\n                            <span className=\"text-white\">{journeyData.steps.length}</span>\r\n                        </span>\r\n                    </div>\r\n\r\n                    {/* Next button */}\r\n                    <button\r\n                        onClick={handleNext}\r\n                        className={`flex items-center gap-2 px-6 py-3 rounded-xl font-bold shadow-lg transition-all transform active:scale-95 ${isLastStep\r\n                            ? 'bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white shadow-green-500/20'\r\n                            : 'bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 text-white shadow-pink-500/20'\r\n                            }`}\r\n                    >\r\n                        <span>{isLastStep ? 'Complete Journey' : 'Continue'}</span>\r\n                        {isLastStep ? (\r\n                            <CheckCircle size={18} />\r\n                        ) : (\r\n                            <ArrowRight size={18} />\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </footer>\r\n\r\n            {/* Exit confirmation modal */}\r\n            {showExitConfirm && renderExitConfirm()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GuidedJourney;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\HabitBuilder.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Plus' is defined but never used.","line":2,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Repeat, Plus, Star, Calendar, Smartphone, Layout } from 'lucide-react';\r\n\r\nconst HabitBuilder = ({ onComplete }) => {\r\n    const [existingHabit, setExistingHabit] = useState('');\r\n    const [newAction, setNewAction] = useState('practice voice for 1 min');\r\n\r\n    const strategies = [\r\n        { icon: Star, title: \"Gamify\", desc: \"Use apps like Habitica to get 'gold' for practicing.\" },\r\n        { icon: Layout, title: \"Environment\", desc: \"Put blue dot stickers on your water bottle as a trigger.\" },\r\n        { icon: Calendar, title: \"Schedule\", desc: \"Treat it like a dentist appointment. Same time daily.\" },\r\n        { icon: Smartphone, title: \"Reminders\", desc: \"Sticky notes on the mirror. Alarms on phone.\" }\r\n    ];\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            {/* The Theory */}\r\n            <div className=\"bg-slate-900 border border-slate-800 p-6 rounded-2xl relative overflow-hidden\">\r\n                <div className=\"relative z-10\">\r\n                    <h2 className=\"text-2xl font-bold text-white mb-4\">The Habit Loop</h2>\r\n                    <div className=\"flex flex-col md:flex-row items-center justify-between gap-4 text-center\">\r\n                        <div className=\"p-4 bg-slate-800 rounded-xl w-full\">\r\n                            <div className=\"text-indigo-400 font-bold mb-1\">1. Cue</div>\r\n                            <div className=\"text-xs text-slate-400\">Trigger (Toothbrush)</div>\r\n                        </div>\r\n                        <div className=\"text-slate-500\">→</div>\r\n                        <div className=\"p-4 bg-slate-800 rounded-xl w-full\">\r\n                            <div className=\"text-white font-bold mb-1\">2. Action</div>\r\n                            <div className=\"text-xs text-slate-400\">Behavior (Brush Teeth)</div>\r\n                        </div>\r\n                        <div className=\"text-slate-500\">→</div>\r\n                        <div className=\"p-4 bg-slate-800 rounded-xl w-full\">\r\n                            <div className=\"text-pink-400 font-bold mb-1\">3. Reward</div>\r\n                            <div className=\"text-xs text-slate-400\">Dopamine (Minty Fresh)</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Habit Stacker Tool */}\r\n            <div className=\"bg-gradient-to-br from-indigo-900 via-slate-900 to-slate-900 border border-indigo-500/30 p-8 rounded-2xl\">\r\n                <div className=\"flex items-center gap-3 mb-6\">\r\n                    <div className=\"bg-indigo-500 p-2 rounded-lg text-white\"><Repeat size={24} /></div>\r\n                    <div>\r\n                        <h3 className=\"text-xl font-bold text-white\">Habit Stacker</h3>\r\n                        <p className=\"text-slate-400 text-sm\">Attach a new habit to an old one.</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n                    <div className=\"space-y-2\">\r\n                        <label className=\"text-xs font-bold text-slate-400 uppercase\">After I...</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"e.g. Brush my teeth\"\r\n                            className=\"w-full bg-slate-950 border border-slate-700 p-3 rounded-xl text-white focus:border-indigo-500 outline-none\"\r\n                            value={existingHabit}\r\n                            onChange={(e) => setExistingHabit(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                        <label className=\"text-xs font-bold text-slate-400 uppercase\">I will...</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"w-full bg-slate-950 border border-slate-700 p-3 rounded-xl text-white focus:border-indigo-500 outline-none\"\r\n                            value={newAction}\r\n                            onChange={(e) => setNewAction(e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {existingHabit && (\r\n                    <div className=\"p-6 bg-slate-950 rounded-xl border border-dashed border-slate-700 text-center animate-in zoom-in-95\">\r\n                        <div className=\"text-slate-500 text-sm mb-2\">Your implementation intention:</div>\r\n                        <div className=\"text-xl md:text-2xl font-bold text-white leading-relaxed\">\r\n                            &quot;After I <span className=\"text-indigo-400 border-b-2 border-indigo-500/50\">{existingHabit}</span>,<br />\r\n                            I will <span className=\"text-pink-400 border-b-2 border-pink-500/50\">{newAction}</span>!&quot;\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Strategies Grid */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                {strategies.map((s, i) => (\r\n                    <div key={i} className=\"flex gap-4 p-4 bg-slate-900 border border-slate-800 rounded-xl hover:border-slate-600 transition-colors\">\r\n                        <div className=\"text-slate-400 shrink-0 mt-1\">\r\n                            <s.icon size={20} />\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"font-bold text-white mb-1\">{s.title}</div>\r\n                            <div className=\"text-sm text-slate-400\">{s.desc}</div>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            <div className=\"flex justify-center pt-4\">\r\n                <button\r\n                    onClick={onComplete}\r\n                    className=\"px-8 py-3 bg-white text-slate-900 font-bold rounded-xl hover:bg-slate-200 transition-colors shadow-lg\"\r\n                >\r\n                    I Have a Plan\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HabitBuilder;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\HelpTooltip.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\HistoryView.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'startTour'. Either include it or remove the dependency array.","line":61,"column":8,"nodeType":"ArrayExpression","endLine":61,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [startTour]","fix":{"range":[2112,2114],"text":"[startTour]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useMemo } from 'react';\r\nimport { Book, FileText, TrendingUp, Calendar, Clock, Activity, BarChart2, Mic, Settings, X, Share2 } from 'lucide-react';\r\nimport EmptyState from './EmptyState';\r\nimport SkeletonLoader from './SkeletonLoader';\r\nimport ProgressCard from './ProgressCard';\r\nimport RecordingsList from './RecordingsList';\r\nimport { useProfile } from '../../context/ProfileContext';\r\nimport { useLanguage } from '../../context/LanguageContext';\r\nimport { useSettings } from '../../context/SettingsContext';\r\nimport { useTour } from '../../context/TourContext';\r\nimport { usePracticeCards } from '../../context/PracticeCardsContext';\r\nimport { pdfReportGenerator } from '../../utils/pdfReportGenerator';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n    BarElement,\r\n} from 'chart.js';\r\nimport { Line, Bar } from 'react-chartjs-2';\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n    BarElement\r\n);\r\n\r\nconst HistoryView = ({ stats, journals, onLogClick, userMode }) => {\r\n    const { getSessions } = useProfile();\r\n    const { t } = useLanguage();\r\n    const { settings } = useSettings();\r\n    const { startTour } = useTour();\r\n    const { cardSets } = usePracticeCards();\r\n    const [sessions, setSessions] = useState([]);\r\n    const [isGenerating, setIsGenerating] = useState(false);\r\n    const [activeTab, setActiveTab] = useState('overview'); // overview, sessions, journals, recordings\r\n    const [cardFilter, setCardFilter] = useState(null); // Filter sessions by card set\r\n    const [showProgressCard, setShowProgressCard] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const loadSessions = async () => {\r\n            if (getSessions) {\r\n                const loaded = await getSessions(50);\r\n                setSessions(loaded);\r\n            }\r\n        };\r\n        loadSessions();\r\n    }, [getSessions]);\r\n\r\n    useEffect(() => {\r\n        startTour('history_view');\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (activeTab === 'recordings') {\r\n            // Slight delay for list render\r\n            setTimeout(() => startTour('recordings_view'), 200);\r\n        }\r\n    }, [activeTab, startTour]);\r\n\r\n    // Calculate Streak Dynamically\r\n    const streak = useMemo(() => {\r\n        if (sessions.length === 0) return 0;\r\n        const dates = [...new Set(sessions.map(s => new Date(s.timestamp).toDateString()))];\r\n        // Sort descending\r\n        dates.sort((a, b) => new Date(b) - new Date(a));\r\n\r\n        let currentStreak = 0;\r\n        const today = new Date().toDateString();\r\n        const yesterday = new Date(Date.now() - 86400000).toDateString();\r\n\r\n        // Check if practiced today or yesterday to keep streak alive\r\n        if (dates[0] !== today && dates[0] !== yesterday) return 0;\r\n\r\n        let lastDate = new Date(dates[0]);\r\n        currentStreak = 1;\r\n\r\n        for (let i = 1; i < dates.length; i++) {\r\n            const d = new Date(dates[i]);\r\n            const diffTime = Math.abs(lastDate - d);\r\n            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n            if (diffDays === 1) {\r\n                currentStreak++;\r\n                lastDate = d;\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n        return currentStreak;\r\n    }, [sessions]);\r\n\r\n    // Weekly Activity Data\r\n    const weeklyData = useMemo(() => {\r\n        const last7Days = [...Array(7)].map((_, i) => {\r\n            const d = new Date();\r\n            d.setDate(d.getDate() - (6 - i));\r\n            return d.toLocaleDateString('en-US', { weekday: 'short' });\r\n        });\r\n\r\n        const practiceTimeData = last7Days.map(day => {\r\n            const daySessions = sessions.filter(s =>\r\n                new Date(s.timestamp).toLocaleDateString('en-US', { weekday: 'short' }) === day &&\r\n                (Date.now() - s.timestamp) < 7 * 24 * 60 * 60 * 1000\r\n            );\r\n            const seconds = daySessions.reduce((acc, s) => acc + (s.duration || 0), 0);\r\n            return Math.round(seconds / 60);\r\n        });\r\n\r\n        return {\r\n            labels: last7Days,\r\n            datasets: [{\r\n                label: t('history.minutes'),\r\n                data: practiceTimeData,\r\n                backgroundColor: 'rgba(96, 165, 250, 0.5)',\r\n                borderColor: 'rgba(96, 165, 250, 1)',\r\n                borderWidth: 1,\r\n                borderRadius: 4\r\n            }]\r\n        };\r\n    }, [sessions, t]);\r\n\r\n    const handleGenerateReport = async () => {\r\n        setIsGenerating(true);\r\n        try {\r\n            const thirtyDaysAgo = Date.now() - (30 * 24 * 60 * 60 * 1000);\r\n            const recentSessions = journals\r\n                .filter(j => j.timestamp > thirtyDaysAgo)\r\n                .map(j => ({\r\n                    timestamp: j.timestamp,\r\n                    duration: j.duration || 0,\r\n                    pitch: j.pitch,\r\n                    f1: j.f1,\r\n                    f2: j.f2,\r\n                    cpp: j.cpp,\r\n                    jitter: j.jitter,\r\n                    notes: j.notes\r\n                }));\r\n\r\n            const doc = await pdfReportGenerator.generateProgressReport({\r\n                clientName: 'Client',\r\n                dateRange: { start: new Date(thirtyDaysAgo), end: new Date() },\r\n                sessions: recentSessions,\r\n                currentMetrics: recentSessions[0] || {},\r\n                targetMetrics: { pitchMin: 170, pitchMax: 220, f1Target: '>450', f2Target: '>1800' },\r\n                coachNotes: ['Continue practicing pitch control exercises', 'Focus on resonance shaping']\r\n            });\r\n\r\n            doc.save(`voice-therapy-report-${new Date().toISOString().split('T')[0]}.pdf`);\r\n        } catch (error) {\r\n            console.error('Error generating report:', error);\r\n            alert('Failed to generate report.');\r\n        } finally {\r\n            setIsGenerating(false);\r\n        }\r\n    };\r\n\r\n    // Chart Data Preparation\r\n    const chartData = {\r\n        labels: sessions.slice().reverse().map(s => new Date(s.timestamp).toLocaleDateString(undefined, { month: 'short', day: 'numeric' })),\r\n        datasets: [\r\n            {\r\n                label: t('history.avgPitch'),\r\n                data: sessions.slice().reverse().map(s => s.pitch),\r\n                borderColor: 'rgb(99, 102, 241)',\r\n                backgroundColor: 'rgba(99, 102, 241, 0.5)',\r\n                yAxisID: 'y',\r\n            },\r\n            {\r\n                label: t('history.resonance'),\r\n                data: sessions.slice().reverse().map(s => s.resonance),\r\n                borderColor: 'rgb(236, 72, 153)',\r\n                backgroundColor: 'rgba(236, 72, 153, 0.5)',\r\n                yAxisID: 'y1',\r\n            },\r\n        ],\r\n    };\r\n\r\n    const chartOptions = {\r\n        responsive: true,\r\n        interaction: { mode: 'index', intersect: false },\r\n        stacked: false,\r\n        plugins: {\r\n            legend: { position: 'top', labels: { color: '#94a3b8' } },\r\n            title: { display: false },\r\n        },\r\n        scales: {\r\n            x: { ticks: { color: '#94a3b8' }, grid: { color: '#334155' } },\r\n            y: {\r\n                type: 'linear',\r\n                display: true,\r\n                position: 'left',\r\n                ticks: { color: '#94a3b8' },\r\n                grid: { color: '#334155' },\r\n                title: { display: true, text: t('history.avgPitch'), color: '#6366f1' }\r\n            },\r\n            y1: {\r\n                type: 'linear',\r\n                display: true,\r\n                position: 'right',\r\n                grid: { drawOnChartArea: false },\r\n                ticks: { color: '#94a3b8' },\r\n                title: { display: true, text: t('history.resonance'), color: '#ec4899' }\r\n            },\r\n        },\r\n    };\r\n\r\n    return (\r\n        <div className=\"animate-in fade-in slide-in-from-bottom-4 duration-500 pb-24\">\r\n            {/* Header / Tabs */}\r\n            <div id=\"history-tabs\" className=\"flex gap-2 mb-6 overflow-x-auto pb-2\" role=\"tablist\" aria-label=\"History Views\">\r\n                <button\r\n                    onClick={() => setActiveTab('overview')}\r\n                    className={`px-4 py-2 rounded-full text-sm font-bold flex items-center gap-2 whitespace-nowrap transition-all ${activeTab === 'overview' ? 'bg-blue-600 text-white shadow-lg shadow-blue-500/20' : 'bg-slate-800 text-slate-400 hover:text-white'}`}\r\n                    role=\"tab\"\r\n                    aria-selected={activeTab === 'overview'}\r\n                    aria-controls=\"overview-panel\"\r\n                >\r\n                    <TrendingUp size={16} aria-hidden=\"true\" /> {t('history.overview')}\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('sessions')}\r\n                    className={`px-4 py-2 rounded-full text-sm font-bold flex items-center gap-2 whitespace-nowrap transition-all ${activeTab === 'sessions' ? 'bg-purple-600 text-white shadow-lg shadow-purple-500/20' : 'bg-slate-800 text-slate-400 hover:text-white'}`}\r\n                    role=\"tab\"\r\n                    aria-selected={activeTab === 'sessions'}\r\n                    aria-controls=\"sessions-panel\"\r\n                >\r\n                    <Activity size={16} aria-hidden=\"true\" /> {t('history.sessions')}\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('recordings')}\r\n                    className={`px-4 py-2 rounded-full text-sm font-bold flex items-center gap-2 whitespace-nowrap transition-all ${activeTab === 'recordings' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/20' : 'bg-slate-800 text-slate-400 hover:text-white'}`}\r\n                    role=\"tab\"\r\n                    aria-selected={activeTab === 'recordings'}\r\n                    aria-controls=\"recordings-panel\"\r\n                >\r\n                    <Mic size={16} aria-hidden=\"true\" /> {t('history.recordings', 'Recordings')}\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('journals')}\r\n                    className={`px-4 py-2 rounded-full text-sm font-bold flex items-center gap-2 whitespace-nowrap transition-all ${activeTab === 'journals' ? 'bg-emerald-600 text-white shadow-lg shadow-emerald-500/20' : 'bg-slate-800 text-slate-400 hover:text-white'}`}\r\n                    role=\"tab\"\r\n                    aria-selected={activeTab === 'journals'}\r\n                    aria-controls=\"journals-panel\"\r\n                >\r\n                    <Book size={16} aria-hidden=\"true\" /> {t('history.journals')}\r\n                </button>\r\n            </div>\r\n\r\n            {/* Overview Tab */}\r\n            {activeTab === 'overview' && (\r\n                <div className=\"space-y-6\" role=\"tabpanel\" id=\"overview-panel\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                        <button\r\n                            onClick={() => setShowProgressCard(true)}\r\n                            className=\"px-3 py-1.5 bg-gradient-to-r from-pink-500/20 to-purple-500/20 hover:from-pink-500/30 hover:to-purple-500/30 border border-pink-500/30 text-pink-300 rounded-lg text-xs font-bold flex items-center gap-1.5 transition-all\"\r\n                        >\r\n                            <Share2 size={12} /> Share Progress\r\n                        </button>\r\n                        <button\r\n                            onClick={() => window.dispatchEvent(new CustomEvent('openDashboardConfig'))}\r\n                            className=\"text-xs text-slate-400 hover:text-white flex items-center gap-1 transition-colors\"\r\n                        >\r\n                            <Settings size={12} /> Customize Dashboard\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Stats Cards */}\r\n                    <div id=\"history-stats\" className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                        {(settings.dashboardConfig?.showStreak ?? true) && (\r\n                            <div className=\"bg-slate-800 p-4 rounded-2xl border border-slate-700\">\r\n                                <div className=\"text-slate-400 text-xs font-bold uppercase tracking-wider mb-1\">{t('history.streak')}</div>\r\n                                <div className=\"text-3xl font-bold text-white flex items-baseline gap-1\">\r\n                                    {streak} <span className=\"text-sm text-slate-500 font-normal\">{t('history.days')}</span>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        {(settings.dashboardConfig?.showTotalPractice ?? true) && (\r\n                            <div className=\"bg-slate-800 p-4 rounded-2xl border border-slate-700\">\r\n                                <div className=\"text-slate-400 text-xs font-bold uppercase tracking-wider mb-1\">{t('history.totalPractice')}</div>\r\n                                <div className=\"text-3xl font-bold text-white flex items-baseline gap-1\">\r\n                                    {Math.floor(stats.totalSeconds / 60)} <span className=\"text-sm text-slate-500 font-normal\">{t('history.mins')}</span>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Weekly Activity Chart */}\r\n                    {(settings.dashboardConfig?.showWeeklyActivity ?? true) && (\r\n                        <div className=\"bg-slate-900/50 border border-slate-800 p-4 rounded-2xl\">\r\n                            <h3 className=\"text-sm font-bold text-slate-300 mb-4 flex items-center gap-2\"><Calendar size={16} aria-hidden=\"true\" /> {t('history.weeklyActivity')}</h3>\r\n                            <div className=\"h-48\">\r\n                                <Bar\r\n                                    data={weeklyData}\r\n                                    options={{\r\n                                        responsive: true,\r\n                                        maintainAspectRatio: false,\r\n                                        plugins: { legend: { display: false } },\r\n                                        scales: {\r\n                                            y: { grid: { color: 'rgba(255, 255, 255, 0.05)' }, ticks: { color: '#94a3b8' } },\r\n                                            x: { grid: { display: false }, ticks: { color: '#94a3b8' } }\r\n                                        }\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Progress Trends Chart */}\r\n                    {(settings.dashboardConfig?.showProgressTrends ?? true) && (\r\n                        <div id=\"history-charts\" className=\"bg-slate-900/50 border border-slate-800 p-4 rounded-2xl\">\r\n                            <h3 className=\"text-sm font-bold text-slate-300 mb-4 flex items-center gap-2\"><BarChart2 size={16} aria-hidden=\"true\" /> {t('history.progressTrends')}</h3>\r\n                            <div className=\"h-64\">\r\n                                {sessions.length > 0 ? (\r\n                                    <Line options={chartOptions} data={chartData} />\r\n                                ) : (\r\n                                    <div className=\"h-full flex items-center justify-center text-slate-500 text-sm\">\r\n                                        {t('history.noSessions')}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Sessions Tab */}\r\n            {activeTab === 'sessions' && (\r\n                <div className=\"space-y-4\" role=\"tabpanel\" id=\"sessions-panel\">\r\n                    <div className=\"flex justify-between items-center mb-2\">\r\n                        <h3 className=\"text-lg font-bold px-1\">{t('history.recentSessions')}</h3>\r\n                        {/* Card Set Filter */}\r\n                        <div className=\"flex items-center gap-2\">\r\n                            {cardFilter && (\r\n                                <button\r\n                                    onClick={() => setCardFilter(null)}\r\n                                    className=\"flex items-center gap-1 px-2 py-1 bg-violet-500/20 text-violet-400 rounded-full text-xs font-bold hover:bg-violet-500/30 transition-colors\"\r\n                                >\r\n                                    <X size={12} />\r\n                                    Clear\r\n                                </button>\r\n                            )}\r\n                            <select\r\n                                value={cardFilter || ''}\r\n                                onChange={(e) => setCardFilter(e.target.value || null)}\r\n                                className=\"bg-slate-800 border border-slate-700 rounded-lg px-3 py-1.5 text-xs text-slate-300 focus:outline-none focus:border-violet-500/50\"\r\n                            >\r\n                                <option value=\"\">All Sessions</option>\r\n                                <optgroup label=\"Practice Card Sets\">\r\n                                    {cardSets.map(set => (\r\n                                        <option key={set.id} value={set.id}>{set.name}</option>\r\n                                    ))}\r\n                                </optgroup>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    {sessions.length === 0 ? (\r\n                        <EmptyState\r\n                            icon={Activity}\r\n                            title={t('history.noSessions')}\r\n                            description={t('history.noSessionsDesc')}\r\n                            actionLabel={t('history.startPracticing')}\r\n                            onAction={() => window.location.reload()} // Simple reload to go back to default view for now, or use navigation context if available\r\n                        />\r\n                    ) : (\r\n                        sessions.map((session, i) => (\r\n                            <div key={i} className=\"bg-slate-900/50 border border-slate-800 p-4 rounded-2xl flex justify-between items-center\">\r\n                                <div>\r\n                                    <div className=\"flex items-center gap-2 mb-1\">\r\n                                        <span className=\"text-sm font-bold text-white\">{new Date(session.timestamp).toLocaleDateString()}</span>\r\n                                        <span className=\"text-xs text-slate-500\">{new Date(session.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>\r\n                                    </div>\r\n                                    <div className=\"flex gap-3 text-xs text-slate-400\">\r\n                                        <span className=\"flex items-center gap-1\"><Clock size={12} aria-hidden=\"true\" /> {Math.round(session.duration)}s</span>\r\n                                        <span className=\"flex items-center gap-1\"><Mic size={12} aria-hidden=\"true\" /> {Math.round(session.pitch)} Hz</span>\r\n                                        <span className=\"flex items-center gap-1\"><Activity size={12} aria-hidden=\"true\" /> {Math.round(session.stability)}%</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-slate-400\">\r\n                                    <Activity size={20} aria-hidden=\"true\" />\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Recordings Tab */}\r\n            {activeTab === 'recordings' && (\r\n                <div role=\"tabpanel\" id=\"recordings-panel\">\r\n                    <div className=\"flex justify-between items-center mb-4\">\r\n                        <h3 className=\"text-lg font-bold px-1\">{t('history.recordings', 'Saved Recordings')}</h3>\r\n                    </div>\r\n                    <RecordingsList />\r\n                </div>\r\n            )}\r\n\r\n            {/* Journals Tab */}\r\n            {activeTab === 'journals' && (\r\n                <div className=\"space-y-4\" role=\"tabpanel\" id=\"journals-panel\">\r\n                    <div className=\"flex justify-between items-center mb-2\">\r\n                        <h3 className=\"text-lg font-bold px-1\">{t('history.journalEntries')}</h3>\r\n                        <button\r\n                            onClick={onLogClick}\r\n                            className=\"px-3 py-1.5 bg-blue-600 hover:bg-blue-500 rounded-lg text-xs font-bold text-white transition-colors\"\r\n                        >\r\n                            + {t('history.newEntry')}\r\n                        </button>\r\n                    </div>\r\n\r\n                    {userMode === 'slp' && (\r\n                        <button\r\n                            onClick={handleGenerateReport}\r\n                            disabled={isGenerating || journals.length === 0}\r\n                            className=\"w-full mb-4 p-3 bg-indigo-600/20 hover:bg-indigo-600/30 border border-indigo-500/30 text-indigo-300 rounded-xl flex items-center justify-center gap-2 transition-colors text-sm font-bold\"\r\n                        >\r\n                            <FileText size={16} aria-hidden=\"true\" />\r\n                            {isGenerating ? t('history.generating') : t('history.generateReport')}\r\n                        </button>\r\n                    )}\r\n\r\n                    {/* Journals List */}\r\n                    <div className=\"space-y-3\">\r\n                        {isGenerating ? (\r\n                            // Skeleton for Journals List\r\n                            Array(5).fill(0).map((_, i) => (\r\n                                <div key={i} className=\"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50\">\r\n                                    <div className=\"flex justify-between items-start mb-2\">\r\n                                        <SkeletonLoader variant=\"text\" className=\"w-32\" />\r\n                                        <SkeletonLoader variant=\"text\" className=\"w-20\" />\r\n                                    </div>\r\n                                    <SkeletonLoader variant=\"text\" count={2} className=\"w-full mb-1\" />\r\n                                </div>\r\n                            ))\r\n                        ) : journals.length === 0 ? (\r\n                            <EmptyState\r\n                                icon={Book}\r\n                                title={t('history.noJournals')}\r\n                                description={t('history.noJournalsDesc')}\r\n                                actionLabel={t('history.createFirstEntry')}\r\n                                onAction={() => onLogClick()}\r\n                            />\r\n                        ) : (\r\n                            journals.slice().reverse().map((entry, i) => (\r\n                                <div key={i} className=\"bg-slate-900/50 border border-slate-800 p-4 rounded-2xl\">\r\n                                    <div className=\"flex justify-between items-start mb-2\">\r\n                                        <span className=\"text-xs text-slate-400 font-mono\">{new Date(entry.timestamp).toLocaleDateString()}</span>\r\n                                        <div className=\"flex gap-2\">\r\n                                            <span className={`text-[10px] px-2 py-0.5 rounded-full font-bold ${entry.effort > 7 ? 'bg-red-500/20 text-red-400' : 'bg-blue-500/20 text-blue-400'}`}>\r\n                                                {t('history.effort')}: {entry.effort}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                    {entry.notes && <p className=\"text-sm text-slate-300 leading-relaxed\">{entry.notes}</p>}\r\n                                </div>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Progress Card Modal */}\r\n            {showProgressCard && (\r\n                <ProgressCard\r\n                    stats={{\r\n                        totalSeconds: stats?.totalSeconds || 0,\r\n                        currentStreak: streak,\r\n                        totalSessions: sessions.length,\r\n                        firstSessionDate: sessions.length > 0 ? sessions[sessions.length - 1]?.timestamp : null\r\n                    }}\r\n                    onClose={() => setShowProgressCard(false)}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HistoryView;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\HistoryView.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\IncognitoScreen.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\InflectionExercises.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\InflectionLesson.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\InflectionMap.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\InfoTooltip.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\InspirationBoard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\InstantPlayback.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'stopRecording'. Either include it or remove the dependency array.","line":36,"column":8,"nodeType":"ArrayExpression","endLine":36,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [stopRecording]","fix":{"range":[1359,1361],"text":"[stopRecording]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'isRecording', 'startRecording', and 'stopRecording'. Either include them or remove the dependency array.","line":45,"column":8,"nodeType":"ArrayExpression","endLine":45,"endColumn":23,"suggestions":[{"desc":"Update the dependencies array to be: [isAudioActive, isRecording, startRecording, stopRecording]","fix":{"range":[1623,1638],"text":"[isAudioActive, isRecording, startRecording, stopRecording]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef, useEffect, useCallback } from 'react';\r\nimport { RotateCcw, Square, Volume2 } from 'lucide-react';\r\nimport { useAudio } from '../../context/AudioContext';\r\n\r\n/**\r\n * InstantPlayback - Records the last N seconds of audio for instant replay\r\n * Helps users hear their actual voice, bypassing \"inner ear\" distortion\r\n */\r\nconst InstantPlayback = ({ bufferDuration = 5 }) => {\r\n    const { isAudioActive, audioEngineRef } = useAudio();\r\n\r\n    const [isRecording, setIsRecording] = useState(false);\r\n    const [hasRecording, setHasRecording] = useState(false);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [recordingDuration, setRecordingDuration] = useState(0);\r\n\r\n    const mediaRecorderRef = useRef(null);\r\n    const audioChunksRef = useRef([]);\r\n    const streamRef = useRef(null);\r\n    const audioRef = useRef(null);\r\n    const audioUrlRef = useRef(null);\r\n    const recordingIntervalRef = useRef(null);\r\n    const startTimeRef = useRef(null);\r\n\r\n    // Cleanup on unmount\r\n    useEffect(() => {\r\n        return () => {\r\n            stopRecording();\r\n            if (audioUrlRef.current) {\r\n                URL.revokeObjectURL(audioUrlRef.current);\r\n            }\r\n            if (recordingIntervalRef.current) {\r\n                clearInterval(recordingIntervalRef.current);\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    // Auto-start recording when audio becomes active\r\n    useEffect(() => {\r\n        if (isAudioActive && !isRecording) {\r\n            startRecording();\r\n        } else if (!isAudioActive && isRecording) {\r\n            stopRecording();\r\n        }\r\n    }, [isAudioActive]);\r\n\r\n    const startRecording = async () => {\r\n        try {\r\n            // Get or create audio stream\r\n            let stream;\r\n            if (audioEngineRef?.current?.stream) {\r\n                stream = audioEngineRef.current.stream;\r\n            } else {\r\n                stream = await navigator.mediaDevices.getUserMedia({\r\n                    audio: {\r\n                        echoCancellation: true,\r\n                        noiseSuppression: true,\r\n                        autoGainControl: true\r\n                    }\r\n                });\r\n            }\r\n            streamRef.current = stream;\r\n\r\n            // Clear previous recording\r\n            audioChunksRef.current = [];\r\n            if (audioUrlRef.current) {\r\n                URL.revokeObjectURL(audioUrlRef.current);\r\n                audioUrlRef.current = null;\r\n            }\r\n            setHasRecording(false);\r\n\r\n            // Determine supported mime type\r\n            const mimeType = MediaRecorder.isTypeSupported('audio/webm;codecs=opus')\r\n                ? 'audio/webm;codecs=opus'\r\n                : MediaRecorder.isTypeSupported('audio/webm')\r\n                    ? 'audio/webm'\r\n                    : 'audio/mp4';\r\n\r\n            const recorder = new MediaRecorder(stream, { mimeType });\r\n            mediaRecorderRef.current = recorder;\r\n\r\n            recorder.ondataavailable = (e) => {\r\n                if (e.data.size > 0) {\r\n                    audioChunksRef.current.push({\r\n                        data: e.data,\r\n                        timestamp: Date.now()\r\n                    });\r\n\r\n                    // Keep only chunks within buffer duration\r\n                    const cutoffTime = Date.now() - (bufferDuration * 1000);\r\n                    audioChunksRef.current = audioChunksRef.current.filter(\r\n                        chunk => chunk.timestamp > cutoffTime\r\n                    );\r\n                }\r\n            };\r\n\r\n            recorder.start(500); // Collect data every 500ms\r\n            startTimeRef.current = Date.now();\r\n            setIsRecording(true);\r\n\r\n            // Update duration display\r\n            recordingIntervalRef.current = setInterval(() => {\r\n                const elapsed = Math.min(\r\n                    (Date.now() - startTimeRef.current) / 1000,\r\n                    bufferDuration\r\n                );\r\n                setRecordingDuration(elapsed);\r\n            }, 100);\r\n\r\n        } catch (err) {\r\n            console.error('Failed to start instant playback recording:', err);\r\n        }\r\n    };\r\n\r\n    const stopRecording = useCallback(() => {\r\n        if (recordingIntervalRef.current) {\r\n            clearInterval(recordingIntervalRef.current);\r\n            recordingIntervalRef.current = null;\r\n        }\r\n\r\n        if (mediaRecorderRef.current && mediaRecorderRef.current.state === 'recording') {\r\n            mediaRecorderRef.current.stop();\r\n\r\n            // Create audio blob from chunks\r\n            const audioBlobs = audioChunksRef.current.map(chunk => chunk.data);\r\n            if (audioBlobs.length > 0) {\r\n                const audioBlob = new Blob(audioBlobs, {\r\n                    type: audioBlobs[0].type\r\n                });\r\n                audioUrlRef.current = URL.createObjectURL(audioBlob);\r\n                setHasRecording(true);\r\n            }\r\n        }\r\n\r\n        setIsRecording(false);\r\n    }, []);\r\n\r\n    const playRecording = () => {\r\n        if (!audioUrlRef.current || !audioRef.current) return;\r\n\r\n        audioRef.current.src = audioUrlRef.current;\r\n        audioRef.current.play();\r\n        setIsPlaying(true);\r\n    };\r\n\r\n    const stopPlayback = () => {\r\n        if (audioRef.current) {\r\n            audioRef.current.pause();\r\n            audioRef.current.currentTime = 0;\r\n        }\r\n        setIsPlaying(false);\r\n    };\r\n\r\n    const handleAudioEnded = () => {\r\n        setIsPlaying(false);\r\n    };\r\n\r\n    const formatTime = (seconds) => {\r\n        return seconds.toFixed(1) + 's';\r\n    };\r\n\r\n    // Calculate buffer fill percentage\r\n    const bufferFill = Math.min((recordingDuration / bufferDuration) * 100, 100);\r\n\r\n    return (\r\n        <div className=\"flex items-center gap-2\">\r\n            <audio\r\n                ref={audioRef}\r\n                onEnded={handleAudioEnded}\r\n                className=\"hidden\"\r\n            />\r\n\r\n            {/* Recording indicator with buffer progress */}\r\n            <div className=\"relative flex items-center gap-2 px-3 py-1.5 rounded-lg bg-slate-800/50 border border-slate-700/50\">\r\n                {/* Buffer fill indicator */}\r\n                <div\r\n                    className=\"absolute inset-0 bg-gradient-to-r from-pink-500/20 to-purple-500/20 rounded-lg transition-all duration-300\"\r\n                    style={{ width: `${bufferFill}%` }}\r\n                />\r\n\r\n                <div className=\"relative flex items-center gap-2\">\r\n                    {isRecording ? (\r\n                        <>\r\n                            <div className=\"w-2 h-2 rounded-full bg-red-500 animate-pulse\" />\r\n                            <span className=\"text-xs text-slate-300 font-mono\">\r\n                                {formatTime(recordingDuration)}\r\n                            </span>\r\n                        </>\r\n                    ) : (\r\n                        <Volume2 className=\"w-4 h-4 text-slate-400\" />\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Play/Stop button */}\r\n            <button\r\n                onClick={isPlaying ? stopPlayback : playRecording}\r\n                disabled={!hasRecording && !isRecording}\r\n                className={`p-2 rounded-lg transition-all ${hasRecording || isRecording\r\n                    ? 'bg-gradient-to-r from-pink-600 to-purple-600 text-white hover:shadow-lg hover:shadow-pink-500/20'\r\n                    : 'bg-slate-700 text-slate-500 cursor-not-allowed'\r\n                    }`}\r\n                title={isPlaying ? 'Stop playback' : 'Play last recording'}\r\n            >\r\n                {isPlaying ? (\r\n                    <Square className=\"w-4 h-4\" fill=\"currentColor\" />\r\n                ) : (\r\n                    <RotateCcw className=\"w-4 h-4\" />\r\n                )}\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InstantPlayback;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\IntonationCurveModule.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'draw'. Either include it or remove the dependency array.","line":170,"column":8,"nodeType":"ArrayExpression","endLine":170,"endColumn":25,"suggestions":[{"desc":"Update the dependencies array to be: [draw, selectedPattern]","fix":{"range":[6261,6278],"text":"[draw, selectedPattern]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { Play, Activity, HelpCircle, RefreshCw } from 'lucide-react';\r\nimport { INTONATION_PATTERNS } from '../../data/IntonationPatterns';\r\nimport { BiofeedbackService } from '../../services/BiofeedbackService';\r\n\r\nconst IntonationCurveModule = ({ audioEngine }) => {\r\n    const [selectedPattern, setSelectedPattern] = useState(INTONATION_PATTERNS[0]);\r\n    const [isRecording, setIsRecording] = useState(false);\r\n    const [status, setStatus] = useState('idle'); // idle, recording, analyzing, complete\r\n    const [userTrace, setUserTrace] = useState([]); // Array of {t, v}\r\n    const [score, setScore] = useState(null); // 0-100\r\n\r\n    const canvasRef = useRef(null);\r\n    const requestRef = useRef(null);\r\n    const startTimeRef = useRef(0);\r\n\r\n    const startRecording = () => {\r\n        setIsRecording(true);\r\n        setStatus('recording');\r\n        setUserTrace([]);\r\n        setScore(null);\r\n        startTimeRef.current = Date.now();\r\n\r\n        requestRef.current = requestAnimationFrame(animateLoop);\r\n\r\n        // Auto stop after duration\r\n        setTimeout(() => {\r\n            if (isRecording) stopRecording();\r\n        }, selectedPattern.duration);\r\n    };\r\n\r\n    const stopRecording = () => {\r\n        setIsRecording(false);\r\n        if (requestRef.current) cancelAnimationFrame(requestRef.current);\r\n\r\n        setStatus('analyzing');\r\n\r\n        // Calculate Score\r\n        // We need to pass the full arrays. Re-use userTrace state if updated or pull from ref if needed.\r\n        // Actually state updates might lag, let's assume valid data in userTrace by next render or use a Ref for trace data.\r\n        // For simplicity, we'll wait for the state update or just trust the animation loop pushed enough data.\r\n\r\n        // Wait a tick for state to settle? Or just calculate now with valid data.\r\n        // Let's use a temp variable in animation loop for robust calculation or use a Ref for the trace.\r\n    };\r\n\r\n    // Use a ref for trace to avoid closure staleness in animation loop\r\n    const traceRef = useRef([]);\r\n\r\n    useEffect(() => {\r\n        traceRef.current = userTrace;\r\n    }, [userTrace]);\r\n\r\n    // Handle Stop logic properly\r\n    useEffect(() => {\r\n        if (status === 'analyzing') {\r\n            const finalTrace = traceRef.current;\r\n            if (finalTrace.length > 5) {\r\n                // Normalize target for scoring? \r\n                // BiofeedbackService.calculateCurveScore expects normalized arrays.\r\n                // Our target points are already normalized {t:0..1, v:0..1}\r\n                // Our user points are {t:0..1, v:0..1} (calculated in animateLoop)\r\n                const calculatedScore = BiofeedbackService.calculateCurveScore(finalTrace, selectedPattern.points);\r\n                setScore(calculatedScore);\r\n                setStatus('complete');\r\n            } else {\r\n                setScore(0);\r\n                setStatus('complete');\r\n            }\r\n            setIsRecording(false);\r\n        }\r\n    }, [status, selectedPattern.points]);\r\n\r\n\r\n    const animateLoop = () => {\r\n        if (!audioEngine || !canvasRef.current) return;\r\n\r\n        const now = Date.now();\r\n        const elapsed = now - startTimeRef.current;\r\n        const progress = Math.min(1, elapsed / selectedPattern.duration);\r\n\r\n        if (progress >= 1) {\r\n            stopRecording();\r\n            return;\r\n        }\r\n\r\n        const data = audioEngine.getAnalysisData();\r\n        const pitch = data?.pitch || audioEngine.dataRef?.current?.pitch || 0;\r\n\r\n        // Normalize pitch: assume range 100Hz - 300Hz for visualization (can be adjusted per gender profile)\r\n        // 0 = 100Hz, 1 = 300Hz\r\n        let normalizedPitch = (pitch - 100) / 200;\r\n        normalizedPitch = Math.max(0, Math.min(1, normalizedPitch));\r\n\r\n        if (pitch > 50) {\r\n            // Add to trace\r\n            traceRef.current.push({ t: progress, v: normalizedPitch });\r\n            // Sync with state for basic reactivity if needed, but throttle it?\r\n            // Actually, setting state every frame is bad. Let's only set state at end or rely on Ref for drawing?\r\n            // We need to draw every frame.\r\n        }\r\n\r\n        draw(progress, traceRef.current);\r\n\r\n        requestRef.current = requestAnimationFrame(animateLoop);\r\n    };\r\n\r\n    const draw = (progress, currentTrace) => {\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext('2d');\r\n        const width = canvas.width;\r\n        const height = canvas.height;\r\n\r\n        ctx.clearRect(0, 0, width, height);\r\n\r\n        // Background Grid\r\n        ctx.strokeStyle = '#1e293b'; // Slate-800\r\n        ctx.lineWidth = 1;\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, height * 0.5); ctx.lineTo(width, height * 0.5); // Center line\r\n        ctx.stroke();\r\n\r\n        // Draw Target Curve\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = '#64748b'; // Slate-500\r\n        ctx.lineWidth = 4;\r\n        ctx.setLineDash([5, 5]);\r\n\r\n        selectedPattern.points.forEach((pt, i) => {\r\n            const x = pt.t * width;\r\n            const y = height - (pt.v * height); // Invert Y because canvas 0 is top\r\n            if (i === 0) ctx.moveTo(x, y);\r\n            else ctx.lineTo(x, y);\r\n        });\r\n        ctx.stroke();\r\n        ctx.setLineDash([]);\r\n\r\n        // Draw User Trace\r\n        if (currentTrace && currentTrace.length > 0) {\r\n            ctx.beginPath();\r\n            ctx.strokeStyle = '#3b82f6'; // Blue-500\r\n            ctx.lineWidth = 3;\r\n            ctx.lineCap = 'round';\r\n\r\n            currentTrace.forEach((pt, i) => {\r\n                const x = pt.t * width;\r\n                const y = height - (pt.v * height);\r\n                if (i === 0) ctx.moveTo(x, y);\r\n                else ctx.lineTo(x, y);\r\n            });\r\n            ctx.stroke();\r\n        }\r\n\r\n        // Draw Playhead\r\n        const playheadX = progress * width;\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = '#ef4444'; // Red-500\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(playheadX, 0);\r\n        ctx.lineTo(playheadX, height);\r\n        ctx.stroke();\r\n    };\r\n\r\n    // Initial draw\r\n    useEffect(() => {\r\n        if (canvasRef.current) {\r\n            draw(0, []);\r\n        }\r\n    }, [selectedPattern]);\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between p-4 bg-slate-800/50 rounded-xl border border-white/5\">\r\n                <div>\r\n                    <h3 className=\"text-lg font-bold text-white flex items-center gap-2\">\r\n                        <Activity className=\"text-purple-400\" /> Intonation Tracing\r\n                    </h3>\r\n                    <p className=\"text-sm text-slate-400\">Mimic the speech pattern displayed.</p>\r\n                </div>\r\n                {(status === 'complete' || score !== null) && (\r\n                    <div className=\"text-right animate-in fade-in zoom-in\">\r\n                        <div className={`text-2xl font-bold font-mono ${score >= 80 ? 'text-emerald-400' : score >= 50 ? 'text-yellow-400' : 'text-slate-400'}`}>\r\n                            {score !== null ? `${score}%` : '--'}\r\n                        </div>\r\n                        <div className=\"text-xs text-slate-500 uppercase tracking-wider\">Accuracy</div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                <div className=\"space-y-3\">\r\n                    <label className=\"text-xs font-bold text-slate-500 uppercase\">Select Pattern</label>\r\n                    <div className=\"space-y-2\">\r\n                        {INTONATION_PATTERNS.map(p => (\r\n                            <button\r\n                                key={p.id}\r\n                                onClick={() => {\r\n                                    if (!isRecording) {\r\n                                        setSelectedPattern(p);\r\n                                        setScore(null);\r\n                                        setStatus('idle');\r\n                                    }\r\n                                }}\r\n                                disabled={isRecording}\r\n                                className={`w-full text-left p-3 rounded-xl border transition-all ${selectedPattern.id === p.id ? 'bg-purple-900/20 border-purple-500/50 ring-1 ring-purple-500/30' : 'bg-slate-800 border-slate-700 hover:border-slate-600'} ${isRecording ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                            >\r\n                                <div className=\"flex justify-between items-center mb-1\">\r\n                                    <span className={`font-bold text-sm ${selectedPattern.id === p.id ? 'text-purple-300' : 'text-slate-300'}`}>{p.name}</span>\r\n                                    <span className={`text-[10px] px-2 py-0.5 rounded-full ${p.difficulty === 'Easy' ? 'bg-emerald-500/10 text-emerald-400' : p.difficulty === 'Medium' ? 'bg-yellow-500/10 text-yellow-400' : 'bg-red-500/10 text-red-400'}`}>\r\n                                        {p.difficulty}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"text-xs text-slate-500 line-clamp-2\">{p.description}</div>\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"md:col-span-2 flex flex-col\">\r\n                    <div className=\"bg-slate-900 rounded-xl border border-slate-800 p-4 relative flex-1 min-h-[300px]\">\r\n                        <canvas\r\n                            ref={canvasRef}\r\n                            width={600}\r\n                            height={300}\r\n                            className=\"w-full h-full bg-slate-900 rounded-lg\"\r\n                        />\r\n\r\n                        {/* Overlay Controls */}\r\n                        {!isRecording && status !== 'recording' && (\r\n                            <div className=\"absolute inset-0 flex items-center justify-center bg-black/20 backdrop-blur-[1px] rounded-xl\">\r\n                                <button\r\n                                    onClick={startRecording}\r\n                                    className=\"px-8 py-4 bg-purple-600 hover:bg-purple-500 text-white rounded-full font-bold text-lg shadow-xl shadow-purple-900/30 flex items-center gap-3 transition-transform hover:scale-105 active:scale-95\"\r\n                                >\r\n                                    {status === 'complete' ? <RefreshCw size={20} /> : <Play size={20} fill=\"currentColor\" />}\r\n                                    {status === 'complete' ? 'Try Again' : 'Start Recording'}\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Recording Indicator */}\r\n                        {isRecording && (\r\n                            <div className=\"absolute top-4 right-4 flex items-center gap-2 px-3 py-1 bg-red-500/10 border border-red-500/20 rounded-full text-red-400 text-xs font-bold animate-pulse\">\r\n                                <div className=\"w-2 h-2 bg-red-400 rounded-full\" />\r\n                                Recording...\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"mt-4 p-4 bg-blue-900/10 border border-blue-500/10 rounded-xl flex items-start gap-3\">\r\n                        <HelpCircle className=\"w-5 h-5 text-blue-400 shrink-0 mt-0.5\" />\r\n                        <div className=\"text-sm text-blue-200/80\">\r\n                            <strong>Tip:</strong> {selectedPattern.description} Try to match the dotted line closely.\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default IntonationCurveModule;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\JournalForm.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\JourneyEntryCard.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { ArrowRight, Play, RotateCcw, Clock, Sparkles } from 'lucide-react';\r\n\r\n/**\r\n * JourneyEntryCard - Entry point card for the guided journey on the dashboard\r\n */\r\nconst JourneyEntryCard = ({\r\n    onStart,\r\n    onResume,\r\n    hasInProgress = false,\r\n    progressPercentage = 0,\r\n    currentStepTitle = '',\r\n    isComplete = false\r\n}) => {\r\n    if (isComplete) {\r\n        // Completed journey card\r\n        return (\r\n            <div className=\"relative overflow-hidden rounded-2xl bg-gradient-to-br from-green-600/20 to-emerald-600/20 border border-green-500/30 p-6\">\r\n                {/* Background glow */}\r\n                <div className=\"absolute top-0 right-0 w-40 h-40 bg-green-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/4\" />\r\n\r\n                <div className=\"relative z-10\">\r\n                    <div className=\"flex items-start justify-between mb-4\">\r\n                        <div>\r\n                            <span className=\"inline-flex items-center gap-1.5 px-2 py-1 bg-green-500/20 rounded-full text-xs font-bold text-green-400 mb-2\">\r\n                                <Sparkles size={12} />\r\n                                COMPLETED\r\n                            </span>\r\n                            <h3 className=\"text-xl font-bold !text-white\">Voice Feminization Journey</h3>\r\n                            <p className=\"text-sm !text-slate-200 mt-1\">You&apos;ve completed all 12 steps!</p>\r\n                        </div>\r\n                        <div className=\"text-4xl\">🎉</div>\r\n                    </div>\r\n\r\n                    <button\r\n                        onClick={onStart}\r\n                        className=\"flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-xl !text-slate-200 text-sm font-medium transition-colors\"\r\n                    >\r\n                        <RotateCcw size={16} />\r\n                        Start Over\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (hasInProgress) {\r\n        // In-progress journey card\r\n        return (\r\n            <div className=\"relative overflow-hidden rounded-2xl bg-gradient-to-br from-pink-600/20 to-purple-600/20 border border-pink-500/30 p-6\">\r\n                {/* Background glow */}\r\n                <div className=\"absolute top-0 right-0 w-40 h-40 bg-pink-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/4\" />\r\n\r\n                <div className=\"relative z-10\">\r\n                    <div className=\"flex items-start justify-between mb-4\">\r\n                        <div>\r\n                            <span className=\"inline-flex items-center gap-1.5 px-2 py-1 bg-pink-500/20 rounded-full text-xs font-bold text-pink-400 mb-2\">\r\n                                <Clock size={12} />\r\n                                IN PROGRESS\r\n                            </span>\r\n                            <h3 className=\"text-xl font-bold !text-white\">Voice Feminization Journey</h3>\r\n                            <p className=\"text-sm !text-slate-200 mt-1\">\r\n                                Continue: <span className=\"!text-pink-300\">{currentStepTitle}</span>\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"text-4xl\">🌸</div>\r\n                    </div>\r\n\r\n                    {/* Progress bar */}\r\n                    <div className=\"mb-4\">\r\n                        <div className=\"flex items-center justify-between text-xs !text-slate-200 mb-1\">\r\n                            <span>Progress</span>\r\n                            <span className=\"font-bold text-pink-400\">{progressPercentage}%</span>\r\n                        </div>\r\n                        <div className=\"w-full h-2 bg-slate-800 rounded-full overflow-hidden\">\r\n                            <div\r\n                                className=\"h-full bg-gradient-to-r from-pink-500 to-purple-600 transition-all duration-500\"\r\n                                style={{ width: `${progressPercentage}%` }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button\r\n                        onClick={onResume}\r\n                        className=\"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 rounded-xl !text-white font-bold shadow-lg shadow-pink-500/20 transition-all transform active:scale-95\"\r\n                    >\r\n                        <Play size={18} fill=\"currentColor\" />\r\n                        Continue Journey\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // New journey card\r\n    return (\r\n        <div className=\"relative overflow-hidden rounded-2xl bg-gradient-to-br from-pink-600 to-purple-700 p-6 shadow-2xl\">\r\n            {/* Background decorations */}\r\n            <div className=\"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/4\" />\r\n            <div className=\"absolute bottom-0 left-0 w-48 h-48 bg-black/10 rounded-full blur-2xl translate-y-1/4 -translate-x-1/4\" />\r\n\r\n            <div className=\"relative z-10\">\r\n                <div className=\"flex items-start justify-between mb-4\">\r\n                    <div>\r\n                        <span className=\"inline-block px-3 py-1 bg-white/20 backdrop-blur-md rounded-full text-xs font-bold !text-white mb-3 border border-white/20\">\r\n                            ✨ GUIDED EXPERIENCE\r\n                        </span>\r\n                        <h3 className=\"text-2xl font-bold !text-white mb-2\">Voice Feminization Journey</h3>\r\n                        <p className=\"!text-pink-100 max-w-md text-sm leading-relaxed\">\r\n                            New to voice training? Start here! This guided journey will teach you\r\n                            step-by-step, one concept at a time – no overwhelm.\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"text-5xl\">🌸</div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-4 mt-6\">\r\n                    <button\r\n                        onClick={onStart}\r\n                        className=\"flex items-center gap-2 px-6 py-3 bg-white text-pink-600 rounded-xl font-bold hover:bg-pink-50 transition-colors shadow-lg\"\r\n                    >\r\n                        <Play size={18} fill=\"currentColor\" />\r\n                        Begin Journey\r\n                    </button>\r\n                    <span className=\"text-pink-200 text-xs\">\r\n                        ~45 minutes • 12 steps\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default JourneyEntryCard;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\JourneyProgressBar.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\JourneyStep.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'ChevronRight' is defined but never used.","line":3,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":40},{"ruleId":"no-unused-vars","severity":1,"message":"'isCompleted' is assigned a value but never used.","line":76,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":76,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, lazy, Suspense } from 'react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport { Lightbulb, Clock, ChevronRight, CheckCircle, Play, Pause, RotateCcw } from 'lucide-react';\r\nimport { useAudio } from '../../context/AudioContext';\r\nimport { useProfile } from '../../context/ProfileContext';\r\nimport { useSettings } from '../../context/SettingsContext';\r\nimport LoadingSpinner from './LoadingSpinner';\r\n\r\n// Lazy load visualization components\r\nconst PitchVisualizer = lazy(() => import('../viz/PitchVisualizer'));\r\nconst ResonanceOrb = lazy(() => import('../viz/ResonanceOrb'));\r\nconst VoiceQualityMeter = lazy(() => import('../viz/VoiceQualityMeter'));\r\nconst VowelSpacePlot = lazy(() => import('../viz/VowelSpacePlot'));\r\nconst ContourVisualizer = lazy(() => import('../viz/ContourVisualizer'));\r\nconst SelfCareOnboarding = lazy(() => import('./SelfCareOnboarding'));\r\nconst VoiceAudit = lazy(() => import('./VoiceAudit'));\r\nconst SoundJournal = lazy(() => import('./SoundJournal'));\r\nconst InspirationBoard = lazy(() => import('./InspirationBoard'));\r\nconst TranscriptionPractice = lazy(() => import('./TranscriptionPractice'));\r\nconst NameVisualizer = lazy(() => import('./NameVisualizer'));\r\nconst ModuleWrapUp = lazy(() => import('./ModuleWrapUp'));\r\nconst WarmUpRoutine = lazy(() => import('./WarmupRoutine'));\r\nconst QuickWarmUp = lazy(() => import('./QuickWarmUp'));\r\nconst FollowAlongWarmup = lazy(() => import('./FollowAlongWarmup'));\r\nconst VocalAnatomyLesson = lazy(() => import('./VocalAnatomyLesson'));\r\nconst VoiceAlterationLesson = lazy(() => import('./VoiceAlterationLesson'));\r\nconst BigPictureAssessment = lazy(() => import('./BigPictureAssessment'));\r\nconst Module2WrapUp = lazy(() => import('./Module2WrapUp'));\r\nconst LarynxControl = lazy(() => import('./LarynxControl'));\r\nconst ResonanceApplication = lazy(() => import('./ResonanceApplication'));\r\nconst MWordChallenge = lazy(() => import('./MWordChallenge'));\r\nconst DailyPhrases = lazy(() => import('./DailyPhrases'));\r\nconst Module3WrapUp = lazy(() => import('./Module3WrapUp'));\r\nconst PianoLesson = lazy(() => import('./PianoLesson'));\r\nconst PitchExploration = lazy(() => import('./PitchExploration'));\r\nconst PitchExercises = lazy(() => import('./PitchExercises'));\r\nconst PitchMemorizer = lazy(() => import('./PitchMemorizer'));\r\nconst Module4WrapUp = lazy(() => import('./Module4WrapUp'));\r\nconst VocalWeightTheory = lazy(() => import('./VocalWeightTheory'));\r\nconst WeightToolbox = lazy(() => import('./WeightToolbox'));\r\nconst TwangTechnique = lazy(() => import('./TwangTechnique'));\r\nconst Module5WrapUp = lazy(() => import('./Module5WrapUp'));\r\nconst InflectionLesson = lazy(() => import('./InflectionLesson'));\r\nconst InflectionExercises = lazy(() => import('./InflectionExercises'));\r\nconst HabitBuilder = lazy(() => import('./HabitBuilder'));\r\nconst CognitiveLoadGames = lazy(() => import('./CognitiveLoadGames'));\r\nconst Module6WrapUp = lazy(() => import('./Module6WrapUp'));\r\nconst BaselineRecorder = lazy(() => import('./BaselineRecorder'));\r\nconst PracticePhilosophy = lazy(() => import('./PracticePhilosophy'));\r\nconst BreathSupport = lazy(() => import('./BreathSupport'));\r\nconst StudentSelfEvaluation = lazy(() => import('./StudentSelfEvaluation'));\r\nconst VocalHygiene = lazy(() => import('./VocalHygiene'));\r\nconst RelaxationRoutine = lazy(() => import('./RelaxationRoutine'));\r\nconst TonalConsistency = lazy(() => import('./TonalConsistency'));\r\nconst VowelGlides = lazy(() => import('./VowelGlides'));\r\nconst ResonanceBreathBalance = lazy(() => import('./ResonanceBreathBalance'));\r\nconst ReadingPractice = lazy(() => import('./ReadingPractice'));\r\nconst TwangDojo = lazy(() => import('./TwangDojo'));\r\nconst RegisterBlend = lazy(() => import('./RegisterBlend'));\r\nconst ProjectionPractice = lazy(() => import('./ProjectionPractice'));\r\nconst ProsodyTheory = lazy(() => import('./ProsodyTheory'));\r\nconst SyllableStacker = lazy(() => import('./SyllableStacker'));\r\nconst InflectionMap = lazy(() => import('./InflectionMap'));\r\nconst RecoveryStrategy = lazy(() => import('./RecoveryStrategy'));\r\nconst TexturePlay = lazy(() => import('./TexturePlay'));\r\nconst StyleMixer = lazy(() => import('./StyleMixer'));\r\nconst VoiceNeutrality = lazy(() => import('./VoiceNeutrality'));\r\nconst GraduationReflection = lazy(() => import('./GraduationReflection'));\r\n\r\n/**\r\n * JourneyStep - Renders individual journey steps based on their type\r\n */\r\nconst JourneyStep = ({\r\n    step,\r\n    onComplete,\r\n    isCompleted = false\r\n}) => {\r\n    const { dataRef, isAudioActive, toggleAudio } = useAudio();\r\n    const { calibration, targetRange } = useProfile();\r\n    const { settings } = useSettings();\r\n    const [exerciseTimer, setExerciseTimer] = useState(0);\r\n    const [isExerciseActive, setIsExerciseActive] = useState(false);\r\n    const [showCoachTip, setShowCoachTip] = useState(true);\r\n\r\n    // Timer for exercises\r\n    useEffect(() => {\r\n        let interval;\r\n        if (isExerciseActive && step.exercise?.duration) {\r\n            interval = setInterval(() => {\r\n                setExerciseTimer(prev => {\r\n                    if (prev >= step.exercise.duration) {\r\n                        setIsExerciseActive(false);\r\n                        return prev;\r\n                    }\r\n                    return prev + 1;\r\n                });\r\n            }, 1000);\r\n        }\r\n        return () => clearInterval(interval);\r\n    }, [isExerciseActive, step.exercise?.duration]);\r\n\r\n    // Reset timer when step changes\r\n    useEffect(() => {\r\n        setExerciseTimer(0);\r\n        setIsExerciseActive(false);\r\n    }, [step.id]);\r\n\r\n    // Format time as MM:SS\r\n    const formatTime = (seconds) => {\r\n        const mins = Math.floor(seconds / 60);\r\n        const secs = seconds % 60;\r\n        return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n    };\r\n\r\n    // Render the tool/visualizer based on step.tool\r\n    const renderTool = () => {\r\n        if (!step.tool) return null;\r\n\r\n        // Ensure audio is active for interactive steps\r\n        if (!isAudioActive) {\r\n            return (\r\n                <div className=\"bg-slate-900/50 rounded-2xl border border-white/10 p-8 text-center\">\r\n                    <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-pink-500/20 flex items-center justify-center\">\r\n                        <Play className=\"w-8 h-8 text-pink-400\" />\r\n                    </div>\r\n                    <h4 className=\"text-lg font-bold text-white mb-2\">Microphone Required</h4>\r\n                    <p className=\"text-slate-400 text-sm mb-4\">\r\n                        This exercise needs access to your microphone to provide real-time feedback.\r\n                    </p>\r\n                    <button\r\n                        onClick={toggleAudio}\r\n                        className=\"px-6 py-3 bg-gradient-to-r from-pink-600 to-purple-600 rounded-xl text-white font-bold shadow-lg shadow-pink-500/20 hover:shadow-pink-500/40 transition-all\"\r\n                    >\r\n                        Enable Microphone\r\n                    </button>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        const toolComponents = {\r\n            'pitch-visualizer': (\r\n                <div className=\"h-64 bg-slate-900/50 rounded-2xl border border-white/10 overflow-hidden relative\">\r\n                    <PitchVisualizer\r\n                        dataRef={dataRef}\r\n                        targetRange={targetRange}\r\n                        userMode=\"user\"\r\n                        settings={settings}\r\n                    />\r\n                </div>\r\n            ),\r\n            'resonance-orb': (\r\n                <div className=\"h-80 bg-slate-900/50 rounded-2xl border border-white/10 overflow-hidden relative flex items-center justify-center\">\r\n                    <ResonanceOrb\r\n                        dataRef={dataRef}\r\n                        calibration={calibration}\r\n                        showDebug={false}\r\n                    />\r\n                </div>\r\n            ),\r\n            'voice-quality': (\r\n                <div className=\"bg-slate-900/50 rounded-2xl border border-white/10 p-4\">\r\n                    <VoiceQualityMeter\r\n                        dataRef={dataRef}\r\n                        userMode=\"user\"\r\n                    />\r\n                </div>\r\n            ),\r\n            'vowel-plot': (\r\n                <div className=\"h-80 bg-slate-900/50 rounded-2xl border border-white/10 p-4\">\r\n                    <VowelSpacePlot\r\n                        dataRef={dataRef}\r\n                        userMode=\"user\"\r\n                    />\r\n                </div>\r\n            ),\r\n            'contour-visualizer': (\r\n                <div className=\"h-64 bg-slate-900/50 rounded-2xl border border-white/10 overflow-hidden relative\">\r\n                    <ContourVisualizer dataRef={dataRef} />\r\n                </div>\r\n            )\r\n        };\r\n\r\n        return (\r\n            <Suspense fallback={<LoadingSpinner />}>\r\n                {toolComponents[step.tool] || null}\r\n            </Suspense>\r\n        );\r\n    };\r\n\r\n    // Render exercise instructions and timer\r\n    const renderExercise = () => {\r\n        if (!step.exercise) return null;\r\n\r\n        return (\r\n            <div className=\"bg-slate-800/50 rounded-xl border border-white/5 p-4 space-y-4\">\r\n                {/* Exercise goals */}\r\n                {step.exercise.goals && (\r\n                    <div className=\"space-y-2\">\r\n                        <h5 className=\"text-xs font-bold text-slate-400 uppercase tracking-wider\">Goals</h5>\r\n                        <ul className=\"space-y-2\">\r\n                            {step.exercise.goals.map((goal, i) => (\r\n                                <li key={i} className=\"flex items-start gap-2 text-sm text-slate-300\">\r\n                                    <CheckCircle className=\"w-4 h-4 text-pink-400 mt-0.5 flex-shrink-0\" />\r\n                                    {goal}\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Practice timer */}\r\n                {step.exercise.duration && (\r\n                    <div className=\"flex items-center justify-between pt-2 border-t border-white/5\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <Clock className=\"w-4 h-4 text-slate-400\" />\r\n                            <span className=\"text-sm text-slate-400\">\r\n                                Practice time: <span className=\"font-mono text-white\">{formatTime(exerciseTimer)}</span>\r\n                                <span className=\"text-slate-500\"> / {formatTime(step.exercise.duration)}</span>\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"flex gap-2\">\r\n                            <button\r\n                                onClick={() => setIsExerciseActive(!isExerciseActive)}\r\n                                className={`px-3 py-1.5 rounded-lg text-xs font-bold transition-colors ${isExerciseActive\r\n                                    ? 'bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30'\r\n                                    : 'bg-green-500/20 text-green-400 hover:bg-green-500/30'\r\n                                    }`}\r\n                            >\r\n                                {isExerciseActive ? <Pause size={12} /> : <Play size={12} />}\r\n                            </button>\r\n                            <button\r\n                                onClick={() => { setExerciseTimer(0); setIsExerciseActive(false); }}\r\n                                className=\"px-3 py-1.5 rounded-lg text-xs font-bold bg-slate-700 text-slate-300 hover:bg-slate-600 transition-colors\"\r\n                            >\r\n                                <RotateCcw size={12} />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // Render coach tip\r\n    const renderCoachTip = () => {\r\n        if (!step.coachTip || !showCoachTip) return null;\r\n\r\n        return (\r\n            <div className=\"relative bg-gradient-to-r from-pink-500/10 to-purple-500/10 rounded-xl border border-pink-500/20 p-4\">\r\n                <button\r\n                    onClick={() => setShowCoachTip(false)}\r\n                    className=\"absolute top-2 right-2 text-slate-500 hover:text-slate-300 text-xs\"\r\n                >\r\n                    ×\r\n                </button>\r\n                <div className=\"flex gap-3\">\r\n                    <div className=\"w-8 h-8 rounded-full bg-pink-500/20 flex items-center justify-center flex-shrink-0\">\r\n                        <Lightbulb className=\"w-4 h-4 text-pink-400\" />\r\n                    </div>\r\n                    <div>\r\n                        <h5 className=\"text-xs font-bold text-pink-400 uppercase tracking-wider mb-1\">Coach Tip</h5>\r\n                        <p className=\"text-sm text-slate-300\">{step.coachTip}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // Render based on step type\r\n    const renderIntroStep = () => (\r\n        <div className=\"flex flex-col h-full\">\r\n            <div className=\"flex-1 overflow-y-auto space-y-6 pr-2\">\r\n                {/* Main content */}\r\n                <div className=\"prose prose-invert prose-p:text-slate-300 prose-headings:text-white prose-strong:text-pink-300 max-w-none\">\r\n                    <ReactMarkdown>{step.content}</ReactMarkdown>\r\n                </div>\r\n\r\n                {/* Special intro exercise (baseline recording prompt) */}\r\n                {step.exercise?.type === 'baseline-recording' && (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <BaselineRecorder\r\n                            instruction={step.exercise.instruction}\r\n                            promptText={step.exercise.prompt}\r\n                            onRecordingComplete={() => { }}\r\n                        />\r\n                    </Suspense>\r\n                )}\r\n\r\n                {renderCoachTip()}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderTheoryStep = () => (\r\n        <div className=\"flex flex-col h-full\">\r\n            <div className=\"flex-1 overflow-y-auto space-y-6 pr-2\">\r\n                {/* Main content with markdown */}\r\n                <div className=\"prose prose-invert prose-p:text-slate-300 prose-headings:text-white prose-strong:text-pink-300 prose-table:text-slate-300 max-w-none\">\r\n                    <ReactMarkdown>{step.content}</ReactMarkdown>\r\n                </div>\r\n\r\n                {renderCoachTip()}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderInteractiveStep = () => (\r\n        <div className=\"flex flex-col h-full\">\r\n            <div className=\"flex-1 overflow-y-auto space-y-6 pr-2\">\r\n                {/* Instruction content */}\r\n                <div className=\"prose prose-invert prose-p:text-slate-300 prose-headings:text-white prose-strong:text-pink-300 max-w-none prose-sm\">\r\n                    <ReactMarkdown>{step.content}</ReactMarkdown>\r\n                </div>\r\n\r\n                {/* Live indicator */}\r\n                {isAudioActive && (\r\n                    <div className=\"flex items-center gap-2 px-3 py-1.5 bg-red-500/10 rounded-full w-fit border border-red-500/20\">\r\n                        <div className=\"w-2 h-2 rounded-full bg-red-500 animate-pulse\" />\r\n                        <span className=\"text-xs font-bold text-red-400 uppercase tracking-wider\">Live Microphone</span>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Tool/visualizer */}\r\n                {renderTool()}\r\n\r\n                {/* Exercise instructions */}\r\n                {renderExercise()}\r\n\r\n                {renderCoachTip()}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderExerciseStep = () => (\r\n        <div className=\"flex flex-col h-full\">\r\n            <div className=\"flex-1 overflow-y-auto space-y-6 pr-2\">\r\n                {/* Main content */}\r\n                <div className=\"prose prose-invert prose-p:text-slate-300 prose-headings:text-white prose-strong:text-pink-300 max-w-none\">\r\n                    <ReactMarkdown>{step.content}</ReactMarkdown>\r\n                </div>\r\n\r\n                {/* Practice phrases */}\r\n                {step.exercise?.phrases && (\r\n                    <div className=\"space-y-3\">\r\n                        <h5 className=\"text-xs font-bold text-slate-400 uppercase tracking-wider\">Practice Phrases</h5>\r\n                        {step.exercise.phrases.map((phrase, i) => (\r\n                            <div key={i} className=\"bg-slate-800/50 rounded-xl border border-white/5 p-4\">\r\n                                <span className=\"text-pink-400 font-bold mr-2\">{i + 1}.</span>\r\n                                <span className=\"text-slate-200 text-lg font-serif italic\">&ldquo;{phrase}&rdquo;</span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Tool */}\r\n                {renderTool()}\r\n\r\n                {renderCoachTip()}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderCustomExercise = () => {\r\n        if (!step.exercise) return null;\r\n\r\n        const type = step.exercise.type;\r\n\r\n        switch (type) {\r\n            case 'self-care-checklist':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <SelfCareOnboarding\r\n                            onComplete={() => onComplete?.()}\r\n                            embedded={true} // specific prop to make it fit in the flow if needed\r\n                        />\r\n                    </Suspense>\r\n                );\r\n            case 'voice-audit':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <VoiceAudit onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'sound-journal':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <SoundJournal onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'name-visualizer':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <NameVisualizer onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'inspiration-board':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <InspirationBoard onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'transcription-practice':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <TranscriptionPractice onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'module-wrap-up':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <ModuleWrapUp onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'warm-up-routine':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <WarmUpRoutine onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'quick-warm-up':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <QuickWarmUp onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'follow-along-warmup':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <FollowAlongWarmup onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'vocal-anatomy':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <VocalAnatomyLesson onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'voice-alteration':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <VoiceAlterationLesson onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'big-picture':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <BigPictureAssessment onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'module-2-wrap-up':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <Module2WrapUp onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'larynx-control':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <LarynxControl onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'resonance-app':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <ResonanceApplication onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'm-words':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <MWordChallenge onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'daily-phrases':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <DailyPhrases onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'module-3-wrap-up':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <Module3WrapUp onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'piano-theory':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <PianoLesson onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'pitch-exploration':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <PitchExploration onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'target-pitch':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <PitchExercises onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'pitch-memorizer':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <PitchMemorizer onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'module-4-wrap-up':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <Module4WrapUp onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'weight-theory':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <VocalWeightTheory onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'weight-toolbox':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <WeightToolbox onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'twang-technique':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <TwangTechnique onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'module-5-wrap-up':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <Module5WrapUp onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'inflection-lesson':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <InflectionLesson onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'inflection-exercises':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <InflectionExercises onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'habit-builder':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <HabitBuilder onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'cognitive-load':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <CognitiveLoadGames onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'module-6-wrap-up':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <Module6WrapUp onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'practice-philosophy':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <PracticePhilosophy onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'breath-support':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <BreathSupport onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'student-self-eval':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <StudentSelfEvaluation onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'vocal-hygiene':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <VocalHygiene onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'relaxation-routine':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <RelaxationRoutine onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'tonal-consistency':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <TonalConsistency onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'vowel-glides':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <VowelGlides onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'resonance-breath-balance':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <ResonanceBreathBalance onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'reading-practice':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <ReadingPractice onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'twang-dojo':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <TwangDojo onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'register-blend':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <RegisterBlend onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'projection-practice':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <ProjectionPractice onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'prosody-theory':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <ProsodyTheory onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'syllable-stacker':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <SyllableStacker onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'inflection-map':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <InflectionMap onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'recovery-strategy':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <RecoveryStrategy onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'texture-play':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <TexturePlay onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'style-mixer':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <StyleMixer onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'voice-neutrality':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <VoiceNeutrality onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            case 'graduation-reflection':\r\n                return (\r\n                    <Suspense fallback={<LoadingSpinner />}>\r\n                        <GraduationReflection onComplete={() => onComplete?.()} />\r\n                    </Suspense>\r\n                );\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    const renderCheckpointStep = () => (\r\n        <div className=\"flex flex-col h-full\">\r\n            <div className=\"flex-1 overflow-y-auto space-y-6 pr-2\">\r\n                {/* Celebration header for checkpoints */}\r\n                {step.celebration && (\r\n                    <div className=\"text-center py-4\">\r\n                        <div className=\"text-6xl mb-4 animate-bounce\">🎉</div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Main content */}\r\n                <div className=\"prose prose-invert prose-p:text-slate-300 prose-headings:text-white prose-strong:text-pink-300 max-w-none\">\r\n                    <ReactMarkdown>{step.content}</ReactMarkdown>\r\n                </div>\r\n\r\n                {/* Custom Exercises (Self-Care, Voice Audit, etc) */}\r\n                {renderCustomExercise()}\r\n\r\n                {/* Progress recording prompt */}\r\n                {step.exercise?.type === 'progress-recording' && (\r\n                    <div className=\"bg-gradient-to-br from-green-500/10 to-emerald-500/10 rounded-xl border border-green-500/20 p-6 text-center\">\r\n                        <div className=\"text-4xl mb-4\">✨</div>\r\n                        <p className=\"text-slate-300 mb-2\">{step.exercise.instruction}</p>\r\n                        <p className=\"text-xs text-slate-500\">\r\n                            (Recording comparison feature coming soon)\r\n                        </p>\r\n                    </div>\r\n                )}\r\n\r\n                {renderCoachTip()}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    // Main render switch\r\n    const renderContent = () => {\r\n        switch (step.type) {\r\n            case 'intro':\r\n                return renderIntroStep();\r\n            case 'theory':\r\n                return renderTheoryStep();\r\n            case 'interactive':\r\n                return renderInteractiveStep();\r\n            case 'exercise':\r\n                return renderExerciseStep();\r\n            case 'checkpoint':\r\n            case 'self-care':\r\n            case 'discovery':\r\n                return renderCheckpointStep();\r\n            default:\r\n                return renderTheoryStep();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-full\">\r\n            {/* Step header */}\r\n            <div className=\"mb-6 flex-shrink-0\">\r\n                <span className={`inline-block px-2 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider mb-2 ${step.type === 'theory' ? 'bg-blue-500/20 text-blue-400' :\r\n                    step.type === 'interactive' ? 'bg-pink-500/20 text-pink-400' :\r\n                        step.type === 'exercise' ? 'bg-orange-500/20 text-orange-400' :\r\n                            step.type === 'checkpoint' ? 'bg-green-500/20 text-green-400' :\r\n                                'bg-purple-500/20 text-purple-400'\r\n                    }`}>\r\n                    {step.type}\r\n                </span>\r\n                <h2 className=\"text-2xl font-bold text-white\">{step.title}</h2>\r\n                {step.subtitle && (\r\n                    <p className=\"text-slate-400 text-sm mt-1\">{step.subtitle}</p>\r\n                )}\r\n            </div>\r\n\r\n            {/* Step content */}\r\n            <div className=\"flex-1 min-h-0\">\r\n                {renderContent()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default JourneyStep;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\LarynxControl.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\LayoutControls.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\LessonView.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'audioEngineRef' is assigned a value but never used.","line":25,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":25,"endColumn":36}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { ArrowLeft, CheckCircle, ChevronRight, PlayCircle } from 'lucide-react';\r\nimport ReactMarkdown from 'react-markdown';\r\n\r\n// Tools\r\nimport PitchVisualizer from '../viz/PitchVisualizer';\r\nimport ResonanceOrb from '../viz/ResonanceOrb';\r\nimport VoiceQualityMeter from '../viz/VoiceQualityMeter';\r\nimport VowelSpacePlot from '../viz/VowelSpacePlot';\r\nimport ArticulationView from '../views/ArticulationView';\r\nimport ContourVisualizer from '../viz/ContourVisualizer';\r\nimport QualityVisualizer from '../viz/QualityVisualizer';\r\nimport HighResSpectrogram from '../viz/HighResSpectrogram';\r\nimport VocalFoldsView from '../views/VocalFoldsView';\r\nimport ComparisonTool from './ComparisonTool';\r\nimport BreathPacer from './BreathPacer';\r\nimport TargetVoicePlayer from './TargetVoicePlayer';\r\nimport IntonationTrainer from '../viz/IntonationTrainer';\r\n\r\nimport { useAudio } from '../../context/AudioContext';\r\nimport { useProfile } from '../../context/ProfileContext';\r\nimport { useSettings } from '../../context/SettingsContext';\r\n\r\nconst LessonView = ({ lesson, onComplete, onNext, onPrevious, hasNext, hasPrevious }) => {\r\n    const { dataRef, audioEngineRef } = useAudio();\r\n    const { targetRange, calibration, activeProfile } = useProfile();\r\n    const { settings } = useSettings();\r\n    const [isLowConfidence, setIsLowConfidence] = useState(false);\r\n\r\n    // Monitor confidence\r\n    useEffect(() => {\r\n        if (lesson.type !== 'interactive') return;\r\n\r\n        const checkConfidence = () => {\r\n            if (dataRef.current) {\r\n                const { clarity, isSilent } = dataRef.current;\r\n                // If speaking (not silent) and clarity is low (< 0.5)\r\n                if (!isSilent && clarity !== undefined && clarity < 0.5) {\r\n                    setIsLowConfidence(true);\r\n                } else {\r\n                    setIsLowConfidence(false);\r\n                }\r\n            }\r\n        };\r\n\r\n        const interval = setInterval(checkConfidence, 500); // Check every 500ms\r\n        return () => clearInterval(interval);\r\n    }, [lesson.type, dataRef]);\r\n\r\n    const renderTool = () => {\r\n        switch (lesson.toolId) {\r\n            case 'pitch-visualizer':\r\n                return (\r\n                    <div className=\"h-64 bg-slate-900/50 rounded-2xl border border-white/10 overflow-hidden relative\">\r\n                        <PitchVisualizer\r\n                            dataRef={dataRef}\r\n                            targetRange={targetRange}\r\n                            userMode=\"user\"\r\n                            settings={settings}\r\n                        />\r\n                    </div>\r\n                );\r\n            case 'resonance-orb':\r\n                return (\r\n                    <div className=\"h-64 bg-slate-900/50 rounded-2xl border border-white/10 overflow-hidden relative flex items-center justify-center\">\r\n                        <ResonanceOrb\r\n                            dataRef={dataRef}\r\n                            calibration={calibration}\r\n                            showDebug={true}\r\n                        />\r\n                    </div>\r\n                );\r\n            case 'voice-quality':\r\n                return (\r\n                    <div className=\"bg-slate-900/50 rounded-2xl border border-white/10 p-4\">\r\n                        <VoiceQualityMeter\r\n                            dataRef={dataRef}\r\n                            userMode=\"user\"\r\n                        />\r\n                    </div>\r\n                );\r\n            case 'vowel-plot':\r\n                return (\r\n                    <div className=\"h-80 bg-slate-900/50 rounded-2xl border border-white/10 p-4\">\r\n                        <VowelSpacePlot\r\n                            dataRef={dataRef}\r\n                            userMode=\"user\"\r\n                        />\r\n                    </div>\r\n                );\r\n            case 'articulation-view':\r\n                return (\r\n                    <div className=\"h-96 bg-slate-900/50 rounded-2xl border border-white/10 overflow-hidden relative p-4\">\r\n                        <ArticulationView />\r\n                    </div>\r\n                );\r\n            case 'contour-visualizer':\r\n                return (\r\n                    <div className=\"h-64 bg-slate-900/50 rounded-2xl border border-white/10 overflow-hidden relative\">\r\n                        <ContourVisualizer dataRef={dataRef} />\r\n                    </div>\r\n                );\r\n            case 'intonation-exercise':\r\n                return (\r\n                    <div className=\"h-96 bg-slate-900/50 rounded-2xl border border-white/10 overflow-hidden relative\">\r\n                        <IntonationTrainer dataRef={dataRef} />\r\n                    </div>\r\n                );\r\n            case 'spectrogram':\r\n                return (\r\n                    <div className=\"h-64 bg-slate-900/50 rounded-2xl border border-white/10 overflow-hidden relative\">\r\n                        <HighResSpectrogram dataRef={dataRef} />\r\n                    </div>\r\n                );\r\n            case 'quality-visualizer':\r\n                return (\r\n                    <div className=\"h-64 bg-slate-900/50 rounded-2xl border border-white/10 overflow-hidden relative\">\r\n                        <QualityVisualizer dataRef={dataRef} />\r\n                    </div>\r\n                );\r\n            case 'vocal-folds':\r\n                return (\r\n                    <div className=\"h-96 bg-slate-900/50 rounded-2xl border border-white/10 overflow-hidden relative\">\r\n                        <VocalFoldsView onClose={() => { }} />\r\n                    </div>\r\n                );\r\n            case 'breath-pacer':\r\n                return (\r\n                    <div className=\"bg-slate-900/50 rounded-2xl border border-white/10 p-4\">\r\n                        <BreathPacer />\r\n                    </div>\r\n                );\r\n            case 'comparison-tool':\r\n                return (\r\n                    <div className=\"bg-slate-900/50 rounded-2xl border border-white/10 p-4\">\r\n                        <ComparisonTool />\r\n                    </div>\r\n                );\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-full animate-in fade-in slide-in-from-right-4 duration-300\">\r\n            {/* Lesson Header */}\r\n            <div className=\"mb-6\">\r\n                <span className=\"text-xs font-bold text-pink-400 uppercase tracking-wider mb-2 block\">\r\n                    {lesson.type === 'interactive' ? 'Interactive Lesson' : 'Theory Lesson'}\r\n                </span>\r\n                <h2 className=\"text-2xl font-bold text-white mb-2\">{lesson.title}</h2>\r\n                <div className=\"flex items-center gap-2 text-slate-400 text-sm\">\r\n                    <PlayCircle className=\"w-4 h-4\" />\r\n                    <span>{lesson.duration}</span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"flex-1 overflow-y-auto pr-2 space-y-8\">\r\n                {/* Markdown Content */}\r\n                <div className=\"prose prose-invert prose-p:text-slate-300 prose-headings:text-white prose-strong:text-white max-w-none\">\r\n                    <ReactMarkdown>{lesson.content}</ReactMarkdown>\r\n                </div>\r\n\r\n                {/* Interactive Tool Area */}\r\n                {lesson.type === 'interactive' && (\r\n                    <div className=\"mt-8 space-y-4\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <div className=\"w-2 h-2 rounded-full bg-red-500 animate-pulse\"></div>\r\n                                <span className=\"text-xs font-bold text-red-400 uppercase tracking-wider\">Live Microphone Input</span>\r\n                            </div>\r\n                            {isLowConfidence && (\r\n                                <div className=\"px-3 py-1 bg-yellow-500/10 border border-yellow-500/20 rounded-full flex items-center gap-2 animate-in fade-in slide-in-from-top-2\">\r\n                                    <span className=\"w-1.5 h-1.5 rounded-full bg-yellow-500\"></span>\r\n                                    <span className=\"text-[10px] font-bold text-yellow-400 uppercase tracking-wider\">Low Signal Confidence</span>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Target Phrase Player */}\r\n                        {lesson.targetPhrase && (\r\n                            <TargetVoicePlayer text={lesson.targetPhrase} gender={activeProfile} />\r\n                        )}\r\n\r\n                        {renderTool()}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Footer Navigation */}\r\n            <div className=\"mt-6 pt-6 border-t border-white/10 flex justify-between items-center\">\r\n                <button\r\n                    onClick={onPrevious}\r\n                    disabled={!hasPrevious}\r\n                    className=\"px-4 py-2 text-slate-400 hover:text-white disabled:opacity-30 disabled:hover:text-slate-400 transition-colors font-bold text-sm flex items-center gap-2\"\r\n                >\r\n                    <ArrowLeft className=\"w-4 h-4\" /> Previous\r\n                </button>\r\n\r\n                <button\r\n                    onClick={() => {\r\n                        onComplete();\r\n                        if (hasNext) onNext();\r\n                    }}\r\n                    className=\"px-6 py-3 bg-gradient-to-r from-pink-600 to-purple-600 rounded-xl text-white font-bold shadow-lg shadow-pink-500/20 hover:shadow-pink-500/40 transition-all flex items-center gap-2\"\r\n                >\r\n                    {hasNext ? (\r\n                        <>Complete & Next <ChevronRight className=\"w-4 h-4\" /></>\r\n                    ) : (\r\n                        <>Finish Module <CheckCircle className=\"w-4 h-4\" /></>\r\n                    )}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LessonView;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\LoadingSpinner.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\Login.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\MLComparisonPanel.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\MWordChallenge.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\MicrophoneCalibration.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\MigrationModal.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'checkAndMigrate'. Either include it or remove the dependency array.","line":11,"column":8,"nodeType":"ArrayExpression","endLine":11,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [checkAndMigrate]","fix":{"range":[456,458],"text":"[checkAndMigrate]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { indexedDB } from '../../services/IndexedDBManager';\r\nimport { Database, CheckCircle, AlertCircle, Loader } from 'lucide-react';\r\n\r\nconst MigrationModal = ({ onComplete }) => {\r\n    const [status, setStatus] = useState('checking'); // checking, migrating, complete, error\r\n    const [message, setMessage] = useState('Checking for data...');\r\n\r\n    useEffect(() => {\r\n        checkAndMigrate();\r\n    }, []);\r\n\r\n    const checkAndMigrate = async () => {\r\n        // Safety timeout to ensure modal doesn't stick forever\r\n        const timeoutId = setTimeout(() => {\r\n            console.warn('Migration check timed out, forcing completion');\r\n            setStatus('complete');\r\n            setMessage('Taking too long? Skipping check.');\r\n            setTimeout(onComplete, 1000);\r\n        }, 5000); // 5 seconds max\r\n\r\n        try {\r\n            const needsMigration = await indexedDB.needsMigration();\r\n            clearTimeout(timeoutId);\r\n\r\n            if (!needsMigration) {\r\n                setStatus('complete');\r\n                setMessage('No migration needed');\r\n                setTimeout(onComplete, 1000);\r\n                return;\r\n            }\r\n\r\n            setStatus('migrating');\r\n            setMessage('Migrating your data to improved storage...');\r\n\r\n            const success = await indexedDB.migrateFromLocalStorage();\r\n\r\n            if (success) {\r\n                setStatus('complete');\r\n                setMessage('Migration complete! Your data is now stored more efficiently.');\r\n                setTimeout(onComplete, 2000);\r\n            } else {\r\n                setStatus('error');\r\n                setMessage('Migration failed. Your data is safe in the old storage.');\r\n            }\r\n        } catch (error) {\r\n            clearTimeout(timeoutId);\r\n            console.error('Migration error:', error);\r\n            setStatus('error');\r\n            setMessage('An error occurred during migration.');\r\n        }\r\n    };\r\n\r\n    if (status === 'complete' && message === 'No migration needed') {\r\n        return null; // Don't show modal if no migration needed\r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4\">\r\n            <div className=\"bg-slate-900 rounded-2xl p-6 max-w-md w-full border border-slate-700 shadow-2xl\">\r\n                <div className=\"flex flex-col items-center text-center gap-4\">\r\n                    {/* Icon */}\r\n                    {status === 'checking' && <Loader className=\"w-12 h-12 text-blue-400 animate-spin\" />}\r\n                    {status === 'migrating' && <Database className=\"w-12 h-12 text-blue-400 animate-pulse\" />}\r\n                    {status === 'complete' && <CheckCircle className=\"w-12 h-12 text-emerald-400\" />}\r\n                    {status === 'error' && <AlertCircle className=\"w-12 h-12 text-red-400\" />}\r\n\r\n                    {/* Title */}\r\n                    <h2 className=\"text-xl font-bold text-white\">\r\n                        {status === 'checking' && 'Checking Data'}\r\n                        {status === 'migrating' && 'Upgrading Storage'}\r\n                        {status === 'complete' && 'Success!'}\r\n                        {status === 'error' && 'Migration Error'}\r\n                    </h2>\r\n\r\n                    {/* Message */}\r\n                    <p className=\"text-slate-300 text-sm\">\r\n                        {message}\r\n                    </p>\r\n\r\n                    {/* Progress indicator for migrating */}\r\n                    {status === 'migrating' && (\r\n                        <div className=\"w-full bg-slate-800 rounded-full h-2 overflow-hidden\">\r\n                            <div className=\"h-full bg-gradient-to-r from-blue-500 to-purple-500 animate-pulse\"></div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Error action */}\r\n                    {status === 'error' && (\r\n                        <button\r\n                            onClick={onComplete}\r\n                            className=\"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors\"\r\n                        >\r\n                            Continue Anyway\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MigrationModal;\r\n// Verified mobile fixes\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\MirrorComponent.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\Module2WrapUp.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\Module3WrapUp.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\Module4WrapUp.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\Module5WrapUp.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\Module6WrapUp.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Award' is defined but never used.","line":2,"column":29,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":34}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Book, CheckCircle, Award, Heart, Rocket } from 'lucide-react';\r\nimport Confetti from 'react-confetti';\r\n\r\n\r\nconst Module6WrapUp = ({ onComplete }) => {\r\n    const [checkedTasks, setCheckedTasks] = useState({});\r\n\r\n    // Simple window size simulation if hook is missing, but typically we'd use a hook\r\n    // For now, let's just render Confetti assuming it handles undefined width/height gracefully or defaults\r\n\r\n    const prompts = [\r\n        \"How can I be kinder and more compassionate toward myself as I continue?\",\r\n        \"How will I creatively bring myself back to practice when (not if) life happens?\",\r\n        \"What important lessons have I learned over the past six weeks?\",\r\n        \"How has my mindset shifted?\"\r\n    ];\r\n\r\n    const homework = [\r\n        { id: 'plan', text: 'Create a sustainable Practice Plan (Where/When/How)' },\r\n        { id: 'track', text: 'Choose a Progress Tracking method (Logbook/App)' },\r\n        { id: 'review', text: 'Review notes from the whole course' },\r\n        { id: 'journal', text: 'Complete all 21 Journal Prompts' }\r\n    ];\r\n\r\n    const toggleTask = (id) => {\r\n        setCheckedTasks(prev => ({ ...prev, [id]: !prev[id] }));\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8 animate-in fade-in duration-1000 relative\">\r\n            <Confetti numberOfPieces={200} recycle={false} />\r\n\r\n            {/* Celebration Header */}\r\n            <div className=\"text-center space-y-4 py-12 bg-gradient-to-br from-indigo-900 via-pink-900 to-indigo-900 rounded-3xl border border-indigo-700 relative overflow-hidden shadow-2xl\">\r\n                <div className=\"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-pink-500 to-indigo-500\"></div>\r\n                <div className=\"inline-block p-6 bg-slate-900 rounded-full mb-4 shadow-xl border-4 border-indigo-500\">\r\n                    <Rocket className=\"text-pink-500 w-16 h-16 animate-bounce\" />\r\n                </div>\r\n                <h2 className=\"text-4xl font-black text-white tracking-tight\">COURSE COMPLETE!</h2>\r\n                <div className=\"flex justify-center gap-2 text-indigo-200 uppercase font-bold tracking-widest text-sm\">\r\n                    <span>Awareness</span> • <span>Mechanics</span> • <span>Resonance</span> • <span>Pitch</span> • <span>Weight</span> • <span>Inflection</span>\r\n                </div>\r\n                <p className=\"text-slate-300 max-w-xl mx-auto px-4 mt-6\">\r\n                    You have done the work. You have the tools. The journey doesn&apos;t end here, it&apos;s just becoming YOURS.\r\n                </p>\r\n                <div className=\"flex justify-center text-red-400 mt-4 animate-pulse\">\r\n                    <Heart fill=\"currentColor\" size={32} />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Journal Prompts */}\r\n            <div className=\"bg-slate-900 border border-slate-800 p-6 rounded-2xl\">\r\n                <div className=\"flex items-center gap-3 mb-4\">\r\n                    <Book className=\"text-pink-500\" />\r\n                    <h3 className=\"text-xl font-bold text-white\">Final Reflections</h3>\r\n                </div>\r\n                <div className=\"space-y-4\">\r\n                    {prompts.map((prompt, i) => (\r\n                        <div key={i} className=\"p-4 bg-slate-800 rounded-xl border-l-4 border-pink-500\">\r\n                            <p className=\"text-slate-300 italic\">&quot;{prompt}&quot;</p>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Homework */}\r\n            <div className=\"bg-slate-900 border border-slate-800 p-6 rounded-2xl\">\r\n                <div className=\"flex items-center gap-3 mb-4\">\r\n                    <CheckCircle className=\"text-indigo-500\" />\r\n                    <h3 className=\"text-xl font-bold text-white\">Going Forward</h3>\r\n                </div>\r\n                <div className=\"space-y-3\">\r\n                    {homework.map((item) => (\r\n                        <button\r\n                            key={item.id}\r\n                            onClick={() => toggleTask(item.id)}\r\n                            className={`w-full flex items-center justify-between p-4 rounded-xl border transition-all text-left ${checkedTasks[item.id]\r\n                                ? 'bg-indigo-900/20 border-indigo-500/50'\r\n                                : 'bg-slate-800 border-slate-700 hover:bg-slate-750'\r\n                                }`}\r\n                        >\r\n                            <span className={`font-bold ${checkedTasks[item.id] ? 'text-indigo-300' : 'text-slate-300'}`}>\r\n                                {item.text}\r\n                            </span>\r\n                            <div className={`p-1 rounded-full ${checkedTasks[item.id] ? 'text-indigo-500' : 'text-slate-600'}`}>\r\n                                <CheckCircle size={20} />\r\n                            </div>\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-center pt-8 pb-12\">\r\n                <button\r\n                    onClick={onComplete}\r\n                    className=\"px-12 py-4 bg-indigo-600 text-white font-black text-xl rounded-2xl hover:bg-indigo-500 transition-all shadow-xl hover:scale-105\"\r\n                >\r\n                    I Am Ready.\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Module6WrapUp;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ModuleNotes.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadNote'. Either include it or remove the dependency array.","line":12,"column":8,"nodeType":"ArrayExpression","endLine":12,"endColumn":18,"suggestions":[{"desc":"Update the dependencies array to be: [loadNote, moduleId]","fix":{"range":[474,484],"text":"[loadNote, moduleId]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { Save, Loader2, StickyNote, Check } from 'lucide-react';\r\nimport { indexedDB } from '../../services/IndexedDBManager';\r\n\r\nconst ModuleNotes = ({ moduleId, moduleTitle }) => {\r\n    const [note, setNote] = useState('');\r\n    const [status, setStatus] = useState('loading'); // loading, idle, saving, saved, error\r\n    const [lastSaved, setLastSaved] = useState(null);\r\n\r\n    useEffect(() => {\r\n        loadNote();\r\n    }, [moduleId]);\r\n\r\n    const loadNote = async () => {\r\n        try {\r\n            setStatus('loading');\r\n            const data = await indexedDB.getModuleNote(moduleId);\r\n            if (data) {\r\n                setNote(data.content || '');\r\n                setLastSaved(data.updatedAt);\r\n            } else {\r\n                setNote('');\r\n                setLastSaved(null);\r\n            }\r\n            setStatus('idle');\r\n        } catch (error) {\r\n            console.error(\"Failed to load note:\", error);\r\n            setStatus('error');\r\n        }\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        if (!moduleId) return;\r\n\r\n        try {\r\n            setStatus('saving');\r\n            await indexedDB.saveModuleNote(moduleId, note);\r\n            setLastSaved(Date.now());\r\n            setStatus('saved');\r\n\r\n            // Reset back to idle after a moment\r\n            setTimeout(() => {\r\n                setStatus('idle');\r\n            }, 2000);\r\n        } catch (error) {\r\n            console.error(\"Failed to save note:\", error);\r\n            setStatus('error');\r\n        }\r\n    };\r\n\r\n    // Auto-save on blur or periodic could be added, \r\n    // but explicit save is safer for v1 to avoid overwriting data accidentally.\r\n    // Let's add Ctrl+S support\r\n    const handleKeyDown = (e) => {\r\n        if ((e.ctrlKey || e.metaKey) && e.key === 's') {\r\n            e.preventDefault();\r\n            handleSave();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"mt-8 bg-slate-900/50 rounded-2xl border border-indigo-500/20 overflow-hidden\">\r\n            {/* Header */}\r\n            <div className=\"bg-slate-800/50 px-4 py-3 border-b border-indigo-500/10 flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2 text-indigo-300\">\r\n                    <StickyNote className=\"w-5 h-5\" />\r\n                    <h3 className=\"font-bold text-sm\">My Notes: {moduleTitle}</h3>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3\">\r\n                    {lastSaved && (\r\n                        <span className=\"text-xs text-slate-500\">\r\n                            Saved {new Date(lastSaved).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                        </span>\r\n                    )}\r\n\r\n                    <button\r\n                        onClick={handleSave}\r\n                        disabled={status === 'saving' || status === 'loading'}\r\n                        className={`\r\n                            flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all\r\n                            ${status === 'saved'\r\n                                ? 'bg-green-500/20 text-green-400 border border-green-500/30'\r\n                                : 'bg-indigo-600 hover:bg-indigo-500 text-white shadow-lg shadow-indigo-500/20'}\r\n                            disabled:opacity-50 disabled:cursor-not-allowed\r\n                        `}\r\n                    >\r\n                        {status === 'saving' ? (\r\n                            <Loader2 className=\"w-3.5 h-3.5 animate-spin\" />\r\n                        ) : status === 'saved' ? (\r\n                            <Check className=\"w-3.5 h-3.5\" />\r\n                        ) : (\r\n                            <Save className=\"w-3.5 h-3.5\" />\r\n                        )}\r\n                        {status === 'saved' ? 'Saved' : 'Save Note'}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Note Input */}\r\n            <div className=\"relative\">\r\n                <textarea\r\n                    value={note}\r\n                    onChange={(e) => setNote(e.target.value)}\r\n                    onKeyDown={handleKeyDown}\r\n                    placeholder={`Write your thoughts, key takeaways, or practice reminders for ${moduleTitle}...`}\r\n                    className=\"w-full h-48 bg-transparent text-slate-300 p-4 resize-y focus:outline-none focus:bg-slate-800/20 transition-colors placeholder:text-slate-600 text-sm leading-relaxed\"\r\n                />\r\n\r\n                {status === 'loading' && (\r\n                    <div className=\"absolute inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center\">\r\n                        <Loader2 className=\"w-6 h-6 text-indigo-500 animate-spin\" />\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"bg-slate-800/30 px-4 py-2 border-t border-white/5 text-[10px] text-slate-500 flex justify-between\">\r\n                <span>Notes are saved locally to your device.</span>\r\n                <span>Pro tip: Press Ctrl+S to save</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ModuleNotes;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ModuleWrapUp.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\NameVisualizer.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Type' is defined but never used.","line":2,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":29},{"ruleId":"no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":2,"column":38,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":48}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Image, Upload, Type, Music, ArrowRight, Save } from 'lucide-react';\r\n\r\nconst NameVisualizer = ({ onComplete }) => {\r\n    const [imageSrc, setImageSrc] = useState(null);\r\n    const [soundDescription, setSoundDescription] = useState('');\r\n    const [step, setStep] = useState('upload'); // upload, reflect\r\n\r\n    const handleImageUpload = (e) => {\r\n        const file = e.target.files[0];\r\n        if (file) {\r\n            const reader = new FileReader();\r\n            reader.onload = (e) => setImageSrc(e.target.result);\r\n            reader.readAsDataURL(file);\r\n            setStep('reflect');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {step === 'upload' ? (\r\n                <div className=\"bg-slate-800/50 rounded-2xl p-8 border border-slate-700 text-center space-y-6\">\r\n                    <div className=\"w-20 h-20 bg-gradient-to-br from-pink-500/20 to-purple-500/20 rounded-full flex items-center justify-center mx-auto\">\r\n                        <Image className=\"text-pink-400\" size={40} />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <h3 className=\"text-2xl font-bold text-white mb-2\">Design Your Name</h3>\r\n                        <p className=\"text-slate-400 max-w-lg mx-auto\">\r\n                            Upload a photo of your name art (drawing, calligraphy, collage) that represents your gender/presentation.\r\n                            Use tools like <strong>Canva</strong> or just paper and pen!\r\n                        </p>\r\n                    </div>\r\n\r\n                    <label className=\"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 text-white font-bold rounded-xl cursor-pointer shadow-lg shadow-pink-900/20 transition-all hover:scale-105\">\r\n                        <Upload size={20} />\r\n                        Upload Art\r\n                        <input type=\"file\" accept=\"image/*\" className=\"hidden\" onChange={handleImageUpload} />\r\n                    </label>\r\n\r\n                    <p className=\"text-xs text-slate-500\">\r\n                        Don&apos;t have art right now? <button onClick={() => setStep('reflect')} className=\"text-pink-400 underline\">Skip to reflection</button>\r\n                    </p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in fade-in slide-in-from-right-4\">\r\n                    {/* Left: display art */}\r\n                    <div className=\"bg-black/50 rounded-2xl border border-slate-700 p-4 flex items-center justify-center min-h-[300px]\">\r\n                        {imageSrc ? (\r\n                            <img src={imageSrc} alt=\"Name Art\" className=\"max-w-full max-h-[400px] rounded-lg shadow-2xl\" />\r\n                        ) : (\r\n                            <div className=\"text-slate-600 italic\">No image uploaded</div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Right: Reflection */}\r\n                    <div className=\"space-y-6\">\r\n                        <div>\r\n                            <h3 className=\"text-xl font-bold text-white flex items-center gap-2 mb-4\">\r\n                                <Music className=\"text-purple-400\" />\r\n                                How does this look sound?\r\n                            </h3>\r\n                            <p className=\"text-slate-400 text-sm mb-4\">\r\n                                Imagine the visual representation of your name was a sound.\r\n                                Is it lacey and breathy? Bold and punchy? Floral and soft?\r\n                            </p>\r\n\r\n                            <textarea\r\n                                value={soundDescription}\r\n                                onChange={(e) => setSoundDescription(e.target.value)}\r\n                                placeholder=\"Describe the sound of your name art...\"\r\n                                className=\"w-full h-40 bg-slate-900 border border-slate-700 rounded-xl p-4 text-white focus:outline-none focus:border-purple-500 resize-none text-lg font-serif italic\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"flex justify-end\">\r\n                            <button\r\n                                onClick={() => onComplete?.({ imageSrc, soundDescription })}\r\n                                disabled={!soundDescription}\r\n                                className=\"px-8 py-3 bg-green-600 hover:bg-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold rounded-xl shadow-lg shadow-green-900/20 flex items-center gap-2\"\r\n                            >\r\n                                <Save size={20} /> Save & Continue\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NameVisualizer;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\OfflineIndicator.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\OfflineIndicator.test.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'act' is defined but never used.","line":2,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { describe, it, expect, vi, beforeEach } from 'vitest';\r\nimport { render, screen, act } from '@testing-library/react';\r\nimport OfflineIndicator from './OfflineIndicator';\r\nimport { syncManager } from '../../services/SyncManager';\r\n\r\n// Mock SyncManager\r\nvi.mock('../../services/SyncManager', () => ({\r\n    syncManager: {\r\n        getStatus: vi.fn(),\r\n        subscribe: vi.fn(() => vi.fn()),\r\n        forceSyncNow: vi.fn()\r\n    }\r\n}));\r\n\r\ndescribe('OfflineIndicator', () => {\r\n    beforeEach(() => {\r\n        vi.clearAllMocks();\r\n    });\r\n\r\n    it('should show offline banner when offline', () => {\r\n        syncManager.getStatus.mockReturnValue({\r\n            isOnline: false,\r\n            isSyncing: false,\r\n            pendingCount: 0\r\n        });\r\n\r\n        render(<OfflineIndicator />);\r\n\r\n        expect(screen.getByText(/You are offline/i)).toBeInTheDocument();\r\n    });\r\n\r\n    it('should show pending count when offline with items', () => {\r\n        syncManager.getStatus.mockReturnValue({\r\n            isOnline: false,\r\n            isSyncing: false,\r\n            pendingCount: 5\r\n        });\r\n\r\n        render(<OfflineIndicator />);\r\n\r\n        expect(screen.getByText(/5 pending/i)).toBeInTheDocument();\r\n    });\r\n\r\n    it('should show online status when online', () => {\r\n        syncManager.getStatus.mockReturnValue({\r\n            isOnline: true,\r\n            isSyncing: false,\r\n            pendingCount: 0\r\n        });\r\n\r\n        render(<OfflineIndicator />);\r\n\r\n        expect(screen.queryByText(/You are offline/i)).not.toBeInTheDocument();\r\n    });\r\n});\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\PianoLesson.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Volume2' is defined but never used.","line":2,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":24},{"ruleId":"no-unused-vars","severity":1,"message":"'Info' is defined but never used.","line":2,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":30},{"ruleId":"no-unused-vars","severity":1,"message":"'onPlay' is defined but never used. Allowed unused args must match /^_/u.","line":197,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":197,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef } from 'react';\r\nimport { Music, Volume2, Info, CheckCircle, HelpCircle } from 'lucide-react';\r\n\r\n// Frequencies for Octave 3 (and C4)\r\nconst NOTES = {\r\n    'C3': 130.81, 'C#3': 138.59, 'D3': 146.83, 'D#3': 155.56, 'E3': 164.81, 'F3': 174.61,\r\n    'F#3': 185.00, 'G3': 196.00, 'G#3': 207.65, 'A3': 220.00, 'A#3': 233.08, 'B3': 246.94,\r\n    'C4': 261.63\r\n};\r\n\r\nconst PianoLesson = ({ onComplete }) => {\r\n    const [activeTab, setActiveTab] = useState('basics'); // basics, sharps, octaves, quiz\r\n    const [lastPlayed, setLastPlayed] = useState(null);\r\n    const audioCtx = useRef(null);\r\n\r\n    const playNote = (note, freq) => {\r\n        if (!audioCtx.current) {\r\n            audioCtx.current = new (window.AudioContext || window.webkitAudioContext)();\r\n        }\r\n\r\n        const osc = audioCtx.current.createOscillator();\r\n        const gainNode = audioCtx.current.createGain();\r\n\r\n        osc.type = 'triangle';\r\n        osc.frequency.setValueAtTime(freq, audioCtx.current.currentTime);\r\n\r\n        gainNode.gain.setValueAtTime(0.3, audioCtx.current.currentTime);\r\n        gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.current.currentTime + 1);\r\n\r\n        osc.connect(gainNode);\r\n        gainNode.connect(audioCtx.current.destination);\r\n\r\n        osc.start();\r\n        osc.stop(audioCtx.current.currentTime + 1);\r\n\r\n        setLastPlayed(note);\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"bg-slate-900 border border-slate-800 p-6 rounded-2xl\">\r\n                <h2 className=\"text-2xl font-bold text-white mb-2\">Quickie Piano Theory</h2>\r\n                <p className=\"text-slate-400\">\r\n                    A little bit of piano understanding goes a long way. We use it to map pitch in our minds.\r\n                </p>\r\n            </div>\r\n\r\n            {/* Tabs */}\r\n            <div className=\"flex bg-slate-800 p-1 rounded-xl overflow-x-auto\">\r\n                {['basics', 'sharps', 'octaves', 'quiz'].map(tab => (\r\n                    <button\r\n                        key={tab}\r\n                        onClick={() => setActiveTab(tab)}\r\n                        className={`flex-1 py-2 px-4 rounded-lg font-bold capitalize whitespace-nowrap ${activeTab === tab ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400 hover:text-white'\r\n                            }`}\r\n                    >\r\n                        {tab === 'sharps' ? 'Sharps & Flats' : tab}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Content Area */}\r\n            <div className=\"bg-slate-800 border border-slate-700 p-6 rounded-2xl min-h-[400px]\">\r\n                {activeTab === 'basics' && <BasicsTab />}\r\n                {activeTab === 'sharps' && <SharpsTab />}\r\n                {activeTab === 'octaves' && <OctavesTab />}\r\n                {activeTab === 'quiz' && <QuizTab onPlay={playNote} lastPlayed={lastPlayed} />}\r\n            </div>\r\n\r\n            {/* Interactive Piano (Always Visible) */}\r\n            <div className=\"bg-slate-900 border border-slate-800 p-4 rounded-2xl\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                    <h3 className=\"text-sm font-bold text-slate-400 uppercase tracking-wider\">Interactive Keyboard (Octave 3-4)</h3>\r\n                    {lastPlayed && (\r\n                        <div className=\"px-3 py-1 bg-indigo-900/50 text-indigo-300 rounded-full text-sm font-mono animate-in fade-in\">\r\n                            Played: {lastPlayed}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <div className=\"relative h-48 flex justify-center select-none overflow-hidden rounded-xl bg-black px-1\">\r\n                    {/* White Keys */}\r\n                    {['C3', 'D3', 'E3', 'F3', 'G3', 'A3', 'B3', 'C4'].map((note) => (\r\n                        <div\r\n                            key={note}\r\n                            onMouseDown={() => playNote(note, NOTES[note])}\r\n                            className=\"bg-white hover:bg-slate-100 active:bg-slate-200 border-x border-slate-300 w-12 h-full rounded-b-lg relative cursor-pointer group active:scale-[0.98] transition-transform origin-top z-0\"\r\n                        >\r\n                            <span className=\"absolute bottom-2 left-1/2 -translate-x-1/2 text-slate-500 font-bold text-xs pointer-events-none\">\r\n                                {note}\r\n                            </span>\r\n                        </div>\r\n                    ))}\r\n\r\n                    {/* Black Keys - Positioned absolutely based on white keys */}\r\n                    {/* C#3 between C3(0) and D3(1) */}\r\n                    <BlackKey note=\"C#3/Db3\" left=\"36px\" onClick={() => playNote('C#3', NOTES['C#3'])} />\r\n                    {/* D#3 between D3 and E3 */}\r\n                    <BlackKey note=\"D#3/Eb3\" left=\"84px\" onClick={() => playNote('D#3', NOTES['D#3'])} />\r\n                    {/* Skip E-F gap */}\r\n                    {/* F#3 between F3 and G3 */}\r\n                    <BlackKey note=\"F#3/Gb3\" left=\"180px\" onClick={() => playNote('F#3', NOTES['F#3'])} />\r\n                    {/* G#3 between G3 and A3 */}\r\n                    <BlackKey note=\"G#3/Ab3\" left=\"228px\" onClick={() => playNote('G#3', NOTES['G#3'])} />\r\n                    {/* A#3 between A3 and B3 */}\r\n                    <BlackKey note=\"A#3/Bb3\" left=\"276px\" onClick={() => playNote('A#3', NOTES['A#3'])} />\r\n                </div>\r\n                <p className=\"text-center text-xs text-slate-500 mt-2\">Click keys to play tones</p>\r\n            </div>\r\n\r\n            <div className=\"flex justify-center pt-4\">\r\n                <button\r\n                    onClick={onComplete}\r\n                    className=\"px-8 py-3 bg-white text-slate-900 font-bold rounded-xl hover:bg-slate-200 transition-colors shadow-lg\"\r\n                >\r\n                    I Understand the Basics\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst BlackKey = ({ note, left, onClick }) => (\r\n    <div\r\n        style={{ left }}\r\n        onMouseDown={onClick}\r\n        className=\"absolute top-0 w-8 h-28 bg-black hover:bg-slate-800 rounded-b-lg cursor-pointer active:scale-[0.98] transition-transform origin-top z-10 shadow-lg border-x border-b border-slate-700\"\r\n        title={note}\r\n    >\r\n    </div>\r\n);\r\n\r\nconst BasicsTab = () => (\r\n    <div className=\"space-y-4 animate-in fade-in\">\r\n        <h3 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n            <Music size={24} className=\"text-indigo-400\" /> Naming the White Keys\r\n        </h3>\r\n        <ul className=\"space-y-3 text-slate-300\">\r\n            <li>• Keys are named <strong>A through G</strong>. There is no H!</li>\r\n            <li>• The pattern repeats: A, B, C, D, E, F, G, A, B...</li>\r\n            <li>• <strong>Finding C:</strong> Look for the group of <em>two black keys</em>. C is arguably the white key to the immediate left.</li>\r\n            <li>• <strong>Finding F:</strong> Look for the group of <em>three black keys</em>. F is to the immediate left.</li>\r\n        </ul>\r\n        <div className=\"p-4 bg-indigo-900/20 border border-indigo-500/30 rounded-lg text-sm text-indigo-300\">\r\n            🎹 Try finding <strong>C3</strong> on the keyboard below. It&apos;s the first white key shown.\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst SharpsTab = () => (\r\n    <div className=\"space-y-4 animate-in fade-in\">\r\n        <h3 className=\"text-xl font-bold text-white\">Sharps (#) and Flats (b)</h3>\r\n        <p className=\"text-slate-300\">\r\n            Black keys have two names, depending on how you look at them. This is called <em>Enharmonic</em>.\r\n        </p>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"bg-slate-900 p-4 rounded-xl border border-slate-700\">\r\n                <div className=\"font-bold text-white mb-1\">Sharp (#)</div>\r\n                <div className=\"text-sm text-slate-400\">One step <span className=\"text-green-400\">Higher</span>.</div>\r\n                <div className=\"text-xs text-slate-500 mt-2\">C# is the black key above C.</div>\r\n            </div>\r\n            <div className=\"bg-slate-900 p-4 rounded-xl border border-slate-700\">\r\n                <div className=\"font-bold text-white mb-1\">Flat (b)</div>\r\n                <div className=\"text-sm text-slate-400\">One step <span className=\"text-red-400\">Lower</span>.</div>\r\n                <div className=\"text-xs text-slate-500 mt-2\">Db is the black key below D.</div>\r\n            </div>\r\n        </div>\r\n        <p className=\"text-center text-white font-bold mt-2\">C# and Db are the SAME NOTE.</p>\r\n    </div>\r\n);\r\n\r\nconst OctavesTab = () => (\r\n    <div className=\"space-y-4 animate-in fade-in\">\r\n        <h3 className=\"text-xl font-bold text-white\">Understanding Octaves</h3>\r\n        <p className=\"text-slate-300\">\r\n            An octave is a set of 8 white notes (C to C). Each octave is numbered.\r\n        </p>\r\n        <ul className=\"space-y-3 text-slate-300\">\r\n            <li>• <strong>C4 (Middle C)</strong>: The center of the piano. Often the &quot;flip&quot; point for AMAB voices.</li>\r\n            <li>• <strong>C3</strong>: One octave lower. Usually a comfortable speaking range foundation.</li>\r\n            <li>• <strong>A4</strong>: 440 Hz.</li>\r\n            <li>• <strong>A3</strong>: 220 Hz (Half the frequency).</li>\r\n        </ul>\r\n        <div className=\"flex gap-4 items-center justify-center p-4\">\r\n            <div className=\"text-center\">\r\n                <div className=\"text-2xl font-bold text-white\">C3</div>\r\n                <div className=\"text-xs text-slate-500\">Low</div>\r\n            </div>\r\n            <div className=\"h-px w-20 bg-slate-600\"></div>\r\n            <div className=\"text-center\">\r\n                <div className=\"text-2xl font-bold text-white\">C4</div>\r\n                <div className=\"text-xs text-slate-500\">Middle C</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst QuizTab = ({ onPlay, lastPlayed }) => {\r\n    const [target, setTarget] = useState('C3');\r\n    const [status, setStatus] = useState('waiting'); // waiting, correct, wrong\r\n\r\n    useEffect(() => {\r\n        if (lastPlayed) {\r\n            if (lastPlayed === target || (target.includes('/') && target.includes(lastPlayed))) {\r\n                setStatus('correct');\r\n            } else {\r\n                setStatus('wrong');\r\n            }\r\n        }\r\n    }, [lastPlayed, target]);\r\n\r\n    const nextQuestion = () => {\r\n        const notes = ['C3', 'D3', 'E3', 'F3', 'G3', 'A3', 'B3'];\r\n        const random = notes[Math.floor(Math.random() * notes.length)];\r\n        setTarget(random);\r\n        setStatus('waiting');\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6 text-center animate-in fade-in\">\r\n            <h3 className=\"text-xl font-bold text-white\">Pop Quiz!</h3>\r\n            <p className=\"text-slate-400\">Find the note on the keyboard below.</p>\r\n\r\n            <div className=\"py-8\">\r\n                <div className=\"text-6xl font-black text-white mb-4 animate-bounce\">\r\n                    {target}\r\n                </div>\r\n\r\n                {status === 'waiting' && (\r\n                    <div className=\"text-slate-500 flex items-center justify-center gap-2\">\r\n                        <HelpCircle size={18} /> Click the key below\r\n                    </div>\r\n                )}\r\n                {status === 'correct' && (\r\n                    <div className=\"text-green-400 flex items-center justify-center gap-2 font-bold animate-in zoom-in\">\r\n                        <CheckCircle size={24} /> Correct!\r\n                    </div>\r\n                )}\r\n                {status === 'wrong' && (\r\n                    <div className=\"text-red-400 flex items-center justify-center gap-2 font-bold animate-in shake\">\r\n                        Try Again\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {status === 'correct' && (\r\n                <button\r\n                    onClick={nextQuestion}\r\n                    className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-500\"\r\n                >\r\n                    Next Note\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PianoLesson;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\PitchExercises.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\PitchExploration.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\PitchMatchingModule.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'status' is assigned a value but never used.","line":11,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":18},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'animate'. Either include it or remove the dependency array.","line":142,"column":8,"nodeType":"ArrayExpression","endLine":142,"endColumn":31,"suggestions":[{"desc":"Update the dependencies array to be: [animate, isPlaying, targetNote]","fix":{"range":[5312,5335],"text":"[animate, isPlaying, targetNote]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { Play, Volume2, Target } from 'lucide-react';\r\nimport { BiofeedbackService } from '../../services/BiofeedbackService';\r\n\r\nconst PitchMatchingModule = ({ audioEngine }) => {\r\n    const [targetNote, setTargetNote] = useState({ note: 'A3', freq: 220 });\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [score, setScore] = useState(0);\r\n    const [streak, setStreak] = useState(0);\r\n    const [status, setStatus] = useState('idle'); // idle, listening, success\r\n    const [feedback, setFeedback] = useState({ text: 'Ready', color: 'text-slate-400' });\r\n\r\n    // Notes for selection\r\n    const notes = [\r\n        { note: 'G3', freq: 196.00 },\r\n        { note: 'A3', freq: 220.00 },\r\n        { note: 'B3', freq: 246.94 },\r\n        { note: 'C4', freq: 261.63 },\r\n        { note: 'D4', freq: 293.66 },\r\n        { note: 'E4', freq: 329.63 },\r\n        { note: 'F4', freq: 349.23 },\r\n        { note: 'G4', freq: 392.00 }\r\n    ];\r\n\r\n    const canvasRef = useRef(null);\r\n    const requestRef = useRef(null);\r\n\r\n    const playTargetTone = () => {\r\n        if (!audioEngine?.audioContext) return;\r\n\r\n        const ctx = audioEngine.audioContext;\r\n        const osc = ctx.createOscillator();\r\n        const gain = ctx.createGain();\r\n\r\n        osc.type = 'sine';\r\n        osc.frequency.setValueAtTime(targetNote.freq, ctx.currentTime);\r\n\r\n        gain.gain.setValueAtTime(0.1, ctx.currentTime);\r\n        gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 2);\r\n\r\n        osc.connect(gain);\r\n        gain.connect(ctx.destination);\r\n\r\n        osc.start();\r\n        osc.stop(ctx.currentTime + 2);\r\n    };\r\n\r\n    const togglePractice = () => {\r\n        if (isPlaying) {\r\n            setIsPlaying(false);\r\n            setStatus('idle');\r\n            setFeedback({ text: 'Stopped', color: 'text-slate-400' });\r\n            if (requestRef.current) cancelAnimationFrame(requestRef.current);\r\n        } else {\r\n            setIsPlaying(true);\r\n            playTargetTone(); // Play cue\r\n            setStatus('listening');\r\n            setScore(0);\r\n            animate();\r\n        }\r\n    };\r\n\r\n    const animate = () => {\r\n        if (!audioEngine || !canvasRef.current) return;\r\n\r\n        const data = audioEngine.getAnalysisData(); // Should return { pitch, volume, ... }\r\n        // Fallback if getAnalysisData not available or different signature\r\n        const pitch = data?.pitch || audioEngine.dataRef?.current?.pitch || 0;\r\n        const volume = data?.volume || audioEngine.dataRef?.current?.volume || -100;\r\n\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext('2d');\r\n        const width = canvas.width;\r\n        const height = canvas.height;\r\n\r\n        ctx.clearRect(0, 0, width, height);\r\n\r\n        // Draw Target Line (Center)\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = '#475569'; // Slate-600\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(width / 2, 0);\r\n        ctx.lineTo(width / 2, height);\r\n        ctx.stroke();\r\n\r\n        if (volume > -50 && pitch > 50) {\r\n            // Calculate Score\r\n            const result = BiofeedbackService.calculatePitchScore(pitch, targetNote.freq, 0.5);\r\n\r\n            // Update Feedback Text\r\n            if (result.score >= 90) {\r\n                setFeedback({ text: 'Perfect Match!', color: 'text-emerald-400' });\r\n                setScore(s => Math.min(1000, s + 2));\r\n                setStreak(s => s + 1);\r\n            } else if (result.score >= 50) {\r\n                setFeedback({ text: result.status === 'high' ? 'Too High' : 'Too Low', color: 'text-yellow-400' });\r\n                setScore(s => Math.min(1000, s + 0.5));\r\n                setStreak(0); // Reset streak on near miss? Maybe keep it loose\r\n            } else {\r\n                setFeedback({ text: result.status === 'high' ? 'Way Too High' : 'Way Too Low', color: 'text-red-400' });\r\n                setStreak(0);\r\n            }\r\n\r\n            // Draw User Cursor\r\n            // Map diff semitones to x-axis (-2 to +2 semitones range)\r\n            const semitoneDiff = 12 * Math.log2(pitch / targetNote.freq);\r\n            const x = (width / 2) + (semitoneDiff * (width / 4)); // 2 semitones = half width from center\r\n\r\n            ctx.beginPath();\r\n            ctx.fillStyle = result.score >= 90 ? '#10b981' : result.score >= 50 ? '#facc15' : '#f87171';\r\n            ctx.arc(x, height / 2, 10, 0, Math.PI * 2);\r\n            ctx.fill();\r\n\r\n            // Connecting line\r\n            ctx.beginPath();\r\n            ctx.strokeStyle = ctx.fillStyle;\r\n            ctx.lineWidth = 2;\r\n            ctx.moveTo(width / 2, height / 2);\r\n            ctx.lineTo(x, height / 2);\r\n            ctx.stroke();\r\n        } else {\r\n            setFeedback({ text: 'Listening...', color: 'text-slate-400' });\r\n        }\r\n\r\n        if (isPlaying) {\r\n            requestRef.current = requestAnimationFrame(animate);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            if (requestRef.current) cancelAnimationFrame(requestRef.current);\r\n        };\r\n    }, []);\r\n\r\n    // Re-trigger animation loop if playing (needed if React re-renders and breaks loop)\r\n    useEffect(() => {\r\n        if (isPlaying && !requestRef.current) {\r\n            animate();\r\n        }\r\n    }, [isPlaying, targetNote]);\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between p-4 bg-slate-800/50 rounded-xl border border-white/5\">\r\n                <div>\r\n                    <h3 className=\"text-lg font-bold text-white flex items-center gap-2\">\r\n                        <Target className=\"text-blue-400\" /> Pitch Matching\r\n                    </h3>\r\n                    <p className=\"text-sm text-slate-400\">Match the target frequency to score points.</p>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                    <div className=\"text-2xl font-bold font-mono text-emerald-400\">{score}</div>\r\n                    <div className=\"text-xs text-slate-500 uppercase tracking-wider\">Score</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                <div className=\"md:col-span-1 space-y-2\">\r\n                    <label className=\"text-xs font-bold text-slate-500 uppercase\">Target Note</label>\r\n                    <div className=\"grid grid-cols-2 lg:grid-cols-1 gap-2\">\r\n                        {notes.map(n => (\r\n                            <button\r\n                                key={n.note}\r\n                                onClick={() => {\r\n                                    setTargetNote(n);\r\n                                    if (isPlaying) playTargetTone();\r\n                                }}\r\n                                className={`p-2 rounded-lg text-sm font-bold transition-all ${targetNote.note === n.note ? 'bg-blue-600 text-white shadow-lg' : 'bg-slate-800 text-slate-400 hover:bg-slate-700'}`}\r\n                            >\r\n                                {n.note} <span className=\"text-[10px] opacity-70 font-normal\">{n.freq} Hz</span>\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"md:col-span-3 flex flex-col bg-slate-900 rounded-xl border border-slate-800 p-4 relative\">\r\n                    <div className=\"absolute top-4 left-4 z-10\">\r\n                        <div className={`text-lg font-bold ${feedback.color} transition-colors duration-300`}>\r\n                            {feedback.text}\r\n                        </div>\r\n                        {streak > 10 && (\r\n                            <div className=\"text-xs font-bold text-purple-400 animate-pulse mt-1\">\r\n                                🔥 {streak} Streak!\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <canvas\r\n                        ref={canvasRef}\r\n                        width={600}\r\n                        height={300}\r\n                        className=\"w-full h-64 bg-slate-900/50 rounded-lg mb-4\"\r\n                    />\r\n\r\n                    <div className=\"flex gap-3 justify-center\">\r\n                        <button\r\n                            onClick={playTargetTone}\r\n                            className=\"p-3 bg-slate-800 hover:bg-slate-700 rounded-full text-blue-400 border border-slate-700 transition-colors\"\r\n                            title=\"Hear Tone\"\r\n                        >\r\n                            <Volume2 size={24} />\r\n                        </button>\r\n                        <button\r\n                            onClick={togglePractice}\r\n                            className={`px-8 py-3 rounded-full font-bold flex items-center gap-2 transition-all transform hover:scale-105 active:scale-95 ${isPlaying ? 'bg-red-500 hover:bg-red-600 text-white shadow-red-900/20' : 'bg-emerald-500 hover:bg-emerald-600 text-white shadow-emerald-900/20'}`}\r\n                        >\r\n                            {isPlaying ? (\r\n                                <>Stop Practice</>\r\n                            ) : (\r\n                                <><Play size={20} fill=\"currentColor\" /> Start Practice</>\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PitchMatchingModule;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\PitchMemorizer.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\PitchPipe.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'playOnce' is assigned a value but never used.","line":11,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef } from 'react';\r\nimport { Music, Play } from 'lucide-react';\r\n\r\nconst PitchPipe = ({ audioEngine }) => {\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [freq, setFreq] = useState(220);\r\n\r\n    const intervalRef = useRef(null);\r\n\r\n    // Play a short burst (click)\r\n    const playOnce = () => {\r\n        if (audioEngine.current) {\r\n            audioEngine.current.playFeedbackTone(freq); // Default is short\r\n            setIsPlaying(true);\r\n            setTimeout(() => setIsPlaying(false), 500);\r\n        }\r\n    };\r\n\r\n    // Start continuous play (hold)\r\n    const startPlaying = () => {\r\n        if (audioEngine.current) {\r\n            setIsPlaying(true);\r\n            // Play initial tone\r\n            audioEngine.current.playFeedbackTone(freq);\r\n            // Loop it for continuous effect (since ToneEngine plays short bursts usually)\r\n            // But better: modify ToneEngine or just re-trigger\r\n            // For now, let's assume playFeedbackTone has a fixed duration. \r\n            // We'll trigger it repeatedly or if we can, update the engine.\r\n            // Let's just trigger it every 200ms to sustain it\r\n            intervalRef.current = setInterval(() => {\r\n                audioEngine.current.playFeedbackTone(freq);\r\n            }, 100);\r\n        }\r\n    };\r\n\r\n    const stopPlaying = () => {\r\n        setIsPlaying(false);\r\n        if (intervalRef.current) {\r\n            clearInterval(intervalRef.current);\r\n            intervalRef.current = null;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"glass-panel p-3 rounded-xl mb-4 flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n                <div className=\"p-2 bg-indigo-500/20 rounded-lg text-indigo-300\"><Music className=\"w-5 h-5\" /></div>\r\n                <div>\r\n                    <div className=\"text-xs font-bold text-white\">Reference Tone</div>\r\n                    <div className=\"text-[10px] text-slate-400\">Hold to play</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n                <input\r\n                    type=\"number\"\r\n                    value={freq}\r\n                    onChange={(e) => setFreq(parseInt(e.target.value))}\r\n                    className=\"w-16 bg-slate-800 border border-slate-600 rounded px-2 py-1 text-xs text-white focus:outline-none text-center\"\r\n                />\r\n                <button\r\n                    onMouseDown={startPlaying}\r\n                    onMouseUp={stopPlaying}\r\n                    onMouseLeave={stopPlaying}\r\n                    onTouchStart={startPlaying}\r\n                    onTouchEnd={stopPlaying}\r\n                    className={`p-2 rounded-full transition-all ${isPlaying ? 'bg-indigo-500 text-white scale-95' : 'bg-slate-700 text-slate-300 hover:bg-slate-600'}`}\r\n                >\r\n                    <Play className=\"w-4 h-4\" />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PitchPipe;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\PitchTargets.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\PracticeCardItem.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\PracticeCardsPanel.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'cardSets' is assigned a value but never used.","line":16,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport {\r\n    BookOpen, Plus, ChevronLeft, Activity,\r\n    Star, Trash2, Edit3, Check, X, Layers\r\n} from 'lucide-react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { usePracticeCards } from '../../context/PracticeCardsContext';\r\nimport { DIFFICULTY_LEVELS, FOCUS_AREAS } from '../../data/PracticeCardsData';\r\nimport PracticeCardItem from './PracticeCardItem';\r\nimport CardSetEditor from './CardSetEditor';\r\nimport CardActivityModal from './CardActivityModal';\r\nimport ResizablePanel from './ResizablePanel';\r\n\r\nconst PracticeCardsPanel = ({ onClose, embedded = false }) => {\r\n    const {\r\n        cardSets,\r\n        customCardSets,\r\n        defaultCardSets,\r\n        activeCardSet,\r\n        activeCard,\r\n        practiceSummary,\r\n        isLoading,\r\n        selectCardSet,\r\n        selectCard,\r\n        deleteCardSet\r\n    } = usePracticeCards();\r\n\r\n    const { t } = useTranslation();\r\n\r\n    // View State\r\n    const [view, setView] = useState('sets'); // 'sets', 'cards', 'practice'\r\n    const [tab, setTab] = useState('default'); // 'default', 'custom'\r\n    const [showEditor, setShowEditor] = useState(false);\r\n    const [editingSet, setEditingSet] = useState(null);\r\n    const [showActivity, setShowActivity] = useState(false);\r\n    const [activityCardId, setActivityCardId] = useState(null);\r\n    const [confirmDelete, setConfirmDelete] = useState(null);\r\n\r\n    // Filter by difficulty\r\n    const [difficultyFilter, setDifficultyFilter] = useState('all');\r\n\r\n    const displayedSets = tab === 'default'\r\n        ? defaultCardSets\r\n        : customCardSets;\r\n\r\n    const filteredSets = difficultyFilter === 'all'\r\n        ? displayedSets\r\n        : displayedSets.filter(s => s.difficulty === difficultyFilter);\r\n\r\n    // Handle card set selection\r\n    const handleSelectSet = (setId) => {\r\n        selectCardSet(setId);\r\n        setView('cards');\r\n    };\r\n\r\n    // Handle going back\r\n    const handleBack = () => {\r\n        if (view === 'practice') {\r\n            setView('cards');\r\n            selectCard(null);\r\n        } else if (view === 'cards') {\r\n            setView('sets');\r\n            selectCardSet(null);\r\n        }\r\n    };\r\n\r\n    // Handle card selection for practice\r\n    const handleSelectCard = (cardId) => {\r\n        selectCard(cardId);\r\n        setView('practice');\r\n    };\r\n\r\n    // Handle activity view\r\n    const handleViewActivity = (cardId) => {\r\n        setActivityCardId(cardId);\r\n        setShowActivity(true);\r\n    };\r\n\r\n    // Handle delete\r\n    const handleDelete = async (setId) => {\r\n        if (confirmDelete === setId) {\r\n            await deleteCardSet(setId);\r\n            setConfirmDelete(null);\r\n        } else {\r\n            setConfirmDelete(setId);\r\n            setTimeout(() => setConfirmDelete(null), 3000);\r\n        }\r\n    };\r\n\r\n    // Handle edit\r\n    const handleEdit = (set) => {\r\n        setEditingSet(set);\r\n        setShowEditor(true);\r\n    };\r\n\r\n    // ============================================\r\n    // Render: Card Sets List\r\n    // ============================================\r\n    const renderSetsList = () => (\r\n        <div className=\"flex flex-col h-full\">\r\n            {/* Tabs */}\r\n            <div className=\"flex gap-2 mb-4 bg-slate-900/50 p-1 rounded-lg border border-white/5\">\r\n                <button\r\n                    onClick={() => setTab('default')}\r\n                    className={`flex-1 py-2 px-3 rounded-md text-xs font-bold transition-all ${tab === 'default'\r\n                        ? 'bg-gradient-to-r from-violet-600 to-purple-600 text-white'\r\n                        : 'text-slate-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    <Layers className=\"w-3 h-3 inline mr-1\" />\r\n                    {t('practiceCards.defaultSets')}\r\n                </button>\r\n                <button\r\n                    onClick={() => setTab('custom')}\r\n                    className={`flex-1 py-2 px-3 rounded-md text-xs font-bold transition-all ${tab === 'custom'\r\n                        ? 'bg-gradient-to-r from-violet-600 to-purple-600 text-white'\r\n                        : 'text-slate-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    <Star className=\"w-3 h-3 inline mr-1\" />\r\n                    {t('practiceCards.mySets')} ({customCardSets.length})\r\n                </button>\r\n            </div>\r\n\r\n            {/* Difficulty Filter */}\r\n            <div className=\"flex gap-2 mb-4 overflow-x-auto pb-1\">\r\n                <button\r\n                    onClick={() => setDifficultyFilter('all')}\r\n                    className={`px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap transition-all ${difficultyFilter === 'all'\r\n                        ? 'bg-slate-700 text-white'\r\n                        : 'bg-slate-800/50 text-slate-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    {t('practiceCards.allLevels')}\r\n                </button>\r\n                {Object.entries(DIFFICULTY_LEVELS).map(([key, { label, icon }]) => (\r\n                    <button\r\n                        key={key}\r\n                        onClick={() => setDifficultyFilter(key)}\r\n                        className={`px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap transition-all ${difficultyFilter === key\r\n                            ? 'bg-slate-700 text-white'\r\n                            : 'bg-slate-800/50 text-slate-400 hover:text-white'\r\n                            }`}\r\n                    >\r\n                        {icon} {label}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Sets List */}\r\n            <div className=\"flex-1 overflow-y-auto space-y-2 custom-scrollbar pr-1\">\r\n                {filteredSets.length === 0 ? (\r\n                    <div className=\"text-center py-12 text-slate-500\">\r\n                        {tab === 'custom' ? (\r\n                            <>\r\n                                <Star className=\"w-12 h-12 mx-auto mb-3 opacity-30\" />\r\n                                <p className=\"text-sm\">{t('practiceCards.noCustomSets')}</p>\r\n                                <p className=\"text-xs mt-1\">{t('practiceCards.createYourOwn')}</p>\r\n                            </>\r\n                        ) : (\r\n                            <p className=\"text-sm\">{t('practiceCards.noSetsMatch')}</p>\r\n                        )}\r\n                    </div>\r\n                ) : (\r\n                    filteredSets.map(set => (\r\n                        <div\r\n                            key={set.id}\r\n                            className=\"group bg-slate-800/50 hover:bg-slate-800 rounded-xl border border-white/5 hover:border-violet-500/30 p-4 transition-all cursor-pointer\"\r\n                            onClick={() => handleSelectSet(set.id)}\r\n                        >\r\n                            <div className=\"flex items-start justify-between\">\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                    <div className=\"flex items-center gap-2 mb-1\">\r\n                                        <h3 className=\"font-bold text-white truncate\">{set.name}</h3>\r\n                                        <span\r\n                                            className=\"px-2 py-0.5 rounded-full text-[10px] font-bold\"\r\n                                            style={{\r\n                                                backgroundColor: `${DIFFICULTY_LEVELS[set.difficulty]?.color}20`,\r\n                                                color: DIFFICULTY_LEVELS[set.difficulty]?.color\r\n                                            }}\r\n                                        >\r\n                                            {DIFFICULTY_LEVELS[set.difficulty]?.label}\r\n                                        </span>\r\n                                    </div>\r\n                                    <p className=\"text-xs text-slate-400 line-clamp-1\">{set.description}</p>\r\n                                    <p className=\"text-[10px] text-slate-500 mt-1\">\r\n                                        {set.cards?.length || 0} cards\r\n                                    </p>\r\n                                </div>\r\n\r\n                                {/* Actions for custom sets */}\r\n                                {!set.isDefault && (\r\n                                    <div className=\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2\">\r\n                                        <button\r\n                                            onClick={(e) => { e.stopPropagation(); handleEdit(set); }}\r\n                                            className=\"p-1.5 rounded-lg bg-slate-700/50 hover:bg-slate-700 text-slate-400 hover:text-white transition-all\"\r\n                                        >\r\n                                            <Edit3 className=\"w-3 h-3\" />\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={(e) => { e.stopPropagation(); handleDelete(set.id); }}\r\n                                            className={`p-1.5 rounded-lg transition-all ${confirmDelete === set.id\r\n                                                ? 'bg-red-500/20 text-red-400'\r\n                                                : 'bg-slate-700/50 hover:bg-red-500/20 text-slate-400 hover:text-red-400'\r\n                                                }`}\r\n                                        >\r\n                                            {confirmDelete === set.id ? <Check className=\"w-3 h-3\" /> : <Trash2 className=\"w-3 h-3\" />}\r\n                                        </button>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n\r\n            {/* Create New Button */}\r\n            <button\r\n                onClick={() => { setEditingSet(null); setShowEditor(true); }}\r\n                className=\"mt-4 w-full py-3 rounded-xl bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-violet-500/20\"\r\n            >\r\n                <Plus className=\"w-4 h-4\" />\r\n                {t('practiceCards.createSet')}\r\n            </button>\r\n        </div>\r\n    );\r\n\r\n    // ============================================\r\n    // Render: Cards Grid\r\n    // ============================================\r\n    const renderCardsGrid = () => (\r\n        <div className=\"flex flex-col h-full\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center gap-3 mb-4\">\r\n                <button\r\n                    onClick={handleBack}\r\n                    className=\"p-2 rounded-lg bg-slate-800/50 hover:bg-slate-800 text-slate-400 hover:text-white transition-all\"\r\n                >\r\n                    <ChevronLeft className=\"w-4 h-4\" />\r\n                </button>\r\n                <div className=\"flex-1 min-w-0\">\r\n                    <h3 className=\"font-bold text-white truncate\">{activeCardSet?.name}</h3>\r\n                    <p className=\"text-xs text-slate-400\">\r\n                        {activeCardSet?.cards?.length || 0} cards •\r\n                        <span style={{ color: DIFFICULTY_LEVELS[activeCardSet?.difficulty]?.color }}>\r\n                            {' '}{DIFFICULTY_LEVELS[activeCardSet?.difficulty]?.label}\r\n                        </span>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Cards */}\r\n            <div className=\"flex-1 overflow-y-auto space-y-3 custom-scrollbar pr-1\">\r\n                {activeCardSet?.cards?.map((card, index) => (\r\n                    <PracticeCardItem\r\n                        key={card.id}\r\n                        card={card}\r\n                        index={index + 1}\r\n                        onSelect={() => handleSelectCard(card.id)}\r\n                        onViewActivity={() => handleViewActivity(card.id)}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    // ============================================\r\n    // Render: Practice View\r\n    // ============================================\r\n    const renderPracticeView = () => (\r\n        <div className=\"flex flex-col h-full\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center gap-3 mb-4\">\r\n                <button\r\n                    onClick={handleBack}\r\n                    className=\"p-2 rounded-lg bg-slate-800/50 hover:bg-slate-800 text-slate-400 hover:text-white transition-all\"\r\n                >\r\n                    <ChevronLeft className=\"w-4 h-4\" />\r\n                </button>\r\n                <div className=\"flex-1\">\r\n                    <p className=\"text-xs text-slate-500\">{activeCardSet?.name}</p>\r\n                    <p className=\"text-[10px] text-slate-600\">\r\n                        Card {activeCardSet?.cards?.findIndex(c => c.id === activeCard?.id) + 1} of {activeCardSet?.cards?.length}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Card Display */}\r\n            <div className=\"flex-1 flex items-center justify-center\">\r\n                <div className=\"w-full max-w-lg bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl border border-white/10 p-8 shadow-2xl\">\r\n                    {/* Focus Badge */}\r\n                    {activeCard?.focus && (\r\n                        <div\r\n                            className=\"inline-block px-3 py-1 rounded-full text-xs font-bold mb-4\"\r\n                            style={{\r\n                                backgroundColor: `${FOCUS_AREAS[activeCard.focus]?.color}20`,\r\n                                color: FOCUS_AREAS[activeCard.focus]?.color\r\n                            }}\r\n                        >\r\n                            {FOCUS_AREAS[activeCard.focus]?.label} Focus\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Card Text */}\r\n                    <p className=\"text-2xl md:text-3xl font-serif text-white leading-relaxed\">\r\n                        {activeCard?.text}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Navigation */}\r\n            <div className=\"flex gap-3 mt-4\">\r\n                <button\r\n                    onClick={() => {\r\n                        const cards = activeCardSet?.cards || [];\r\n                        const currentIdx = cards.findIndex(c => c.id === activeCard?.id);\r\n                        if (currentIdx > 0) {\r\n                            selectCard(cards[currentIdx - 1].id);\r\n                        }\r\n                    }}\r\n                    disabled={activeCardSet?.cards?.findIndex(c => c.id === activeCard?.id) === 0}\r\n                    className=\"flex-1 py-3 rounded-xl bg-slate-800/50 hover:bg-slate-800 text-slate-300 font-bold disabled:opacity-30 disabled:cursor-not-allowed transition-all\"\r\n                >\r\n                    {t('practiceCards.previous')}\r\n                </button>\r\n                <button\r\n                    onClick={() => handleViewActivity(activeCard?.id)}\r\n                    className=\"p-3 rounded-xl bg-slate-800/50 hover:bg-slate-800 text-slate-400 hover:text-white transition-all\"\r\n                >\r\n                    <Activity className=\"w-5 h-5\" />\r\n                </button>\r\n                <button\r\n                    onClick={() => {\r\n                        const cards = activeCardSet?.cards || [];\r\n                        const currentIdx = cards.findIndex(c => c.id === activeCard?.id);\r\n                        if (currentIdx < cards.length - 1) {\r\n                            selectCard(cards[currentIdx + 1].id);\r\n                        }\r\n                    }}\r\n                    disabled={activeCardSet?.cards?.findIndex(c => c.id === activeCard?.id) === (activeCardSet?.cards?.length || 0) - 1}\r\n                    className=\"flex-1 py-3 rounded-xl bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white font-bold disabled:opacity-30 disabled:cursor-not-allowed transition-all\"\r\n                >\r\n                    {t('practiceCards.next')}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    // ============================================\r\n    // Main Content\r\n    // ============================================\r\n    const content = (\r\n        <div className=\"bg-slate-900 w-full h-full p-6 rounded-3xl border border-white/10 shadow-2xl relative overflow-hidden flex flex-col\">\r\n            {/* Background Glow */}\r\n            <div className=\"absolute top-0 right-0 w-64 h-64 bg-violet-500/10 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none\"></div>\r\n            <div className=\"absolute bottom-0 left-0 w-48 h-48 bg-purple-500/10 rounded-full blur-3xl -ml-16 -mb-16 pointer-events-none\"></div>\r\n\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between mb-6 relative z-10\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center\">\r\n                        <BookOpen className=\"w-5 h-5 text-white\" />\r\n                    </div>\r\n                    <div>\r\n                        <h2 className=\"text-lg font-bold text-white\">{t('practiceCards.title')}</h2>\r\n                        {practiceSummary && (\r\n                            <p className=\"text-[10px] text-slate-400\">\r\n                                {practiceSummary.totalPractices} practices • {practiceSummary.uniqueCardsUsed} cards used\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                {!embedded && (\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"p-2 rounded-lg bg-slate-800/50 hover:bg-slate-800 text-slate-400 hover:text-white transition-all\"\r\n                    >\r\n                        <X className=\"w-4 h-4\" />\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"flex-1 min-h-0 relative z-10\">\r\n                {isLoading ? (\r\n                    <div className=\"flex items-center justify-center h-full\">\r\n                        <div className=\"w-8 h-8 border-2 border-violet-500 border-t-transparent rounded-full animate-spin\"></div>\r\n                    </div>\r\n                ) : (\r\n                    <>\r\n                        {view === 'sets' && renderSetsList()}\r\n                        {view === 'cards' && renderCardsGrid()}\r\n                        {view === 'practice' && renderPracticeView()}\r\n                    </>\r\n                )}\r\n            </div>\r\n\r\n            {/* Editor Modal */}\r\n            {showEditor && (\r\n                <CardSetEditor\r\n                    existingSet={editingSet}\r\n                    onClose={() => { setShowEditor(false); setEditingSet(null); }}\r\n                    onSave={() => { setShowEditor(false); setEditingSet(null); setTab('custom'); }}\r\n                />\r\n            )}\r\n\r\n            {/* Activity Modal */}\r\n            {showActivity && (\r\n                <CardActivityModal\r\n                    cardId={activityCardId}\r\n                    onClose={() => { setShowActivity(false); setActivityCardId(null); }}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    if (embedded) return content;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in duration-300\">\r\n            <ResizablePanel\r\n                className=\"relative\"\r\n                defaultWidth={550}\r\n                defaultHeight={700}\r\n                minWidth={400}\r\n                minHeight={500}\r\n            >\r\n                {content}\r\n            </ResizablePanel>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PracticeCardsPanel;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\PracticeFilterMenu.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\PracticePhilosophy.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'activeTab' is assigned a value but never used.","line":5,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":21},{"ruleId":"no-unused-vars","severity":1,"message":"'setActiveTab' is assigned a value but never used.","line":5,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Brain, Zap, Repeat, Target } from 'lucide-react';\r\n\r\nconst PracticePhilosophy = ({ onComplete }) => {\r\n    const [activeTab, setActiveTab] = useState('concept');\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"bg-slate-900 border border-slate-800 p-6 rounded-2xl\">\r\n                <h2 className=\"text-2xl font-bold text-white mb-2\">The Two Types of Practice</h2>\r\n                <p className=\"text-slate-400\">\r\n                    Before we start mechanics, we need to agree on HOW we practice.\r\n                    There is a difference between <strong>learning</strong> a skill and <strong>owning</strong> it.\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                {/* Active Practice */}\r\n                <div className=\"bg-slate-900 p-6 rounded-xl border border-indigo-500/30 hover:border-indigo-500 transition-colors\">\r\n                    <div className=\"flex items-center gap-3 text-indigo-400 font-bold mb-4\">\r\n                        <Zap size={24} />\r\n                        <span>Active Practice</span>\r\n                    </div>\r\n                    <ul className=\"space-y-3 text-slate-300 text-sm\">\r\n                        <li className=\"flex gap-2\"><Target size={16} className=\"shrink-0 mt-1\" /> Focus is 100% on the mechanic.</li>\r\n                        <li className=\"flex gap-2\"><Target size={16} className=\"shrink-0 mt-1\" /> &quot;Does this feel right?&quot;</li>\r\n                        <li className=\"flex gap-2\"><Target size={16} className=\"shrink-0 mt-1\" /> Fatigue happens quickly.</li>\r\n                        <li className=\"flex gap-2\"><Target size={16} className=\"shrink-0 mt-1\" /> <strong>Goal:</strong> Build the skill.</li>\r\n                    </ul>\r\n                </div>\r\n\r\n                {/* Passive Practice */}\r\n                <div className=\"bg-slate-900 p-6 rounded-xl border border-pink-500/30 hover:border-pink-500 transition-colors\">\r\n                    <div className=\"flex items-center gap-3 text-pink-400 font-bold mb-4\">\r\n                        <Repeat size={24} />\r\n                        <span>Passive Practice</span>\r\n                    </div>\r\n                    <ul className=\"space-y-3 text-slate-300 text-sm\">\r\n                        <li className=\"flex gap-2\"><Brain size={16} className=\"shrink-0 mt-1\" /> Focus is on life/content.</li>\r\n                        <li className=\"flex gap-2\"><Brain size={16} className=\"shrink-0 mt-1\" /> &quot;Am I holding it?&quot;</li>\r\n                        <li className=\"flex gap-2\"><Brain size={16} className=\"shrink-0 mt-1\" /> Can do it all day.</li>\r\n                        <li className=\"flex gap-2\"><Brain size={16} className=\"shrink-0 mt-1\" /> <strong>Goal:</strong> Build the habit.</li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-indigo-900/20 p-6 rounded-xl border border-indigo-500/30 text-center\">\r\n                <h3 className=\"text-xl font-bold text-white mb-2\">The Rule</h3>\r\n                <p className=\"text-indigo-200 italic text-lg\">\r\n                    &quot;Active practice builds the car. Passive practice drives it.&quot;\r\n                </p>\r\n                <p className=\"text-slate-400 text-sm mt-4\">\r\n                    Don&apos;t try to &quot;drive&quot; (speak full time) until you&apos;ve &quot;built the car&quot; (learned the mechanics).\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"flex justify-center pt-4\">\r\n                <button\r\n                    onClick={onComplete}\r\n                    className=\"px-8 py-3 bg-white text-slate-900 font-bold rounded-xl hover:bg-slate-200 transition-colors shadow-lg\"\r\n                >\r\n                    I Understand\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PracticePhilosophy;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\PracticeTimer.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'playCompletionSound'. Either include it or remove the dependency array.","line":45,"column":8,"nodeType":"ArrayExpression","endLine":45,"endColumn":52,"suggestions":[{"desc":"Update the dependencies array to be: [isRunning, remaining, duration, onComplete, playCompletionSound]","fix":{"range":[1606,1650],"text":"[isRunning, remaining, duration, onComplete, playCompletionSound]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { Timer, Play, Pause, RotateCcw, Plus, X, Bell } from 'lucide-react';\r\n\r\nconst PRESETS = [\r\n    { label: '5 min', seconds: 5 * 60 },\r\n    { label: '10 min', seconds: 10 * 60 },\r\n    { label: '15 min', seconds: 15 * 60 },\r\n    { label: '20 min', seconds: 20 * 60 },\r\n];\r\n\r\nconst PracticeTimer = ({ onComplete, onClose, compact = false }) => {\r\n    const [duration, setDuration] = useState(PRESETS[1].seconds); // Default 10 min\r\n    const [remaining, setRemaining] = useState(duration);\r\n    const [isRunning, setIsRunning] = useState(false);\r\n    const [isComplete, setIsComplete] = useState(false);\r\n    const intervalRef = useRef(null);\r\n\r\n\r\n    // Create audio context for completion chime\r\n    useEffect(() => {\r\n        return () => {\r\n            if (intervalRef.current) clearInterval(intervalRef.current);\r\n        };\r\n    }, []);\r\n\r\n    // Timer logic\r\n    useEffect(() => {\r\n        if (isRunning && remaining > 0) {\r\n            intervalRef.current = setInterval(() => {\r\n                setRemaining(prev => {\r\n                    if (prev <= 1) {\r\n                        setIsRunning(false);\r\n                        setIsComplete(true);\r\n                        playCompletionSound();\r\n                        if (onComplete) onComplete(duration);\r\n                        return 0;\r\n                    }\r\n                    return prev - 1;\r\n                });\r\n            }, 1000);\r\n        }\r\n        return () => {\r\n            if (intervalRef.current) clearInterval(intervalRef.current);\r\n        };\r\n    }, [isRunning, remaining, duration, onComplete]);\r\n\r\n    // Pause timer when tab is hidden\r\n    useEffect(() => {\r\n        const handleVisibility = () => {\r\n            if (document.hidden && isRunning) {\r\n                // Pause when hidden (optional: could continue in background)\r\n            }\r\n        };\r\n        document.addEventListener('visibilitychange', handleVisibility);\r\n        return () => document.removeEventListener('visibilitychange', handleVisibility);\r\n    }, [isRunning]);\r\n\r\n    const playCompletionSound = useCallback(() => {\r\n        try {\r\n            const ctx = new (window.AudioContext || window.webkitAudioContext)();\r\n            const osc = ctx.createOscillator();\r\n            const gain = ctx.createGain();\r\n\r\n            osc.type = 'sine';\r\n            osc.frequency.setValueAtTime(880, ctx.currentTime); // A5\r\n            osc.frequency.setValueAtTime(1100, ctx.currentTime + 0.1); // C#6\r\n            osc.frequency.setValueAtTime(1320, ctx.currentTime + 0.2); // E6\r\n\r\n            gain.gain.setValueAtTime(0.3, ctx.currentTime);\r\n            gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.5);\r\n\r\n            osc.connect(gain);\r\n            gain.connect(ctx.destination);\r\n            osc.start();\r\n            osc.stop(ctx.currentTime + 0.5);\r\n        } catch (e) {\r\n            console.warn('Could not play completion sound', e);\r\n        }\r\n    }, []);\r\n\r\n    const toggleTimer = () => setIsRunning(!isRunning);\r\n\r\n    const resetTimer = () => {\r\n        setIsRunning(false);\r\n        setRemaining(duration);\r\n        setIsComplete(false);\r\n    };\r\n\r\n    const addTime = (seconds) => {\r\n        setRemaining(prev => prev + seconds);\r\n        setDuration(prev => prev + seconds);\r\n        setIsComplete(false);\r\n    };\r\n\r\n    const selectPreset = (seconds) => {\r\n        setDuration(seconds);\r\n        setRemaining(seconds);\r\n        setIsRunning(false);\r\n        setIsComplete(false);\r\n    };\r\n\r\n    const formatTime = (secs) => {\r\n        const mins = Math.floor(secs / 60);\r\n        const s = secs % 60;\r\n        return `${mins}:${s.toString().padStart(2, '0')}`;\r\n    };\r\n\r\n    const progress = ((duration - remaining) / duration) * 100;\r\n\r\n    // Compact mode for header display\r\n    if (compact) {\r\n        return (\r\n            <div className=\"flex items-center gap-2 bg-slate-800/80 backdrop-blur-sm px-3 py-1.5 rounded-full border border-slate-700\">\r\n                <Timer size={14} className=\"text-teal-400\" />\r\n                <span className={`font-mono font-bold text-sm ${remaining < 60 ? 'text-amber-400' : 'text-white'}`}>\r\n                    {formatTime(remaining)}\r\n                </span>\r\n                <button\r\n                    onClick={toggleTimer}\r\n                    className=\"p-1 rounded-full hover:bg-slate-700 transition-colors\"\r\n                >\r\n                    {isRunning ? <Pause size={12} /> : <Play size={12} fill=\"currentColor\" />}\r\n                </button>\r\n                {onClose && (\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"p-1 rounded-full hover:bg-slate-700 text-slate-500 hover:text-white transition-colors\"\r\n                    >\r\n                        <X size={12} />\r\n                    </button>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl border border-slate-700 p-6 shadow-2xl\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <Timer className=\"text-teal-400\" size={20} />\r\n                    <span className=\"text-white font-bold\">Practice Timer</span>\r\n                </div>\r\n                {onClose && (\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"p-2 rounded-lg hover:bg-slate-700 text-slate-400 hover:text-white transition-colors\"\r\n                    >\r\n                        <X size={18} />\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            {/* Circular Progress */}\r\n            <div className=\"relative w-48 h-48 mx-auto mb-6\">\r\n                {/* Background ring */}\r\n                <svg className=\"w-full h-full transform -rotate-90\">\r\n                    <circle\r\n                        cx=\"96\"\r\n                        cy=\"96\"\r\n                        r=\"88\"\r\n                        stroke=\"currentColor\"\r\n                        strokeWidth=\"8\"\r\n                        fill=\"none\"\r\n                        className=\"text-slate-700\"\r\n                    />\r\n                    <circle\r\n                        cx=\"96\"\r\n                        cy=\"96\"\r\n                        r=\"88\"\r\n                        stroke=\"url(#timerGradient)\"\r\n                        strokeWidth=\"8\"\r\n                        fill=\"none\"\r\n                        strokeLinecap=\"round\"\r\n                        strokeDasharray={`${2 * Math.PI * 88}`}\r\n                        strokeDashoffset={`${2 * Math.PI * 88 * (1 - progress / 100)}`}\r\n                        className=\"transition-all duration-1000\"\r\n                    />\r\n                    <defs>\r\n                        <linearGradient id=\"timerGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n                            <stop offset=\"0%\" stopColor=\"#14b8a6\" />\r\n                            <stop offset=\"100%\" stopColor=\"#8b5cf6\" />\r\n                        </linearGradient>\r\n                    </defs>\r\n                </svg>\r\n\r\n                {/* Time display */}\r\n                <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\r\n                    <div className={`text-4xl font-mono font-bold ${isComplete ? 'text-teal-400 animate-pulse' : remaining < 60 ? 'text-amber-400' : 'text-white'}`}>\r\n                        {formatTime(remaining)}\r\n                    </div>\r\n                    {isComplete && (\r\n                        <div className=\"flex items-center gap-1 text-teal-400 text-sm mt-1\">\r\n                            <Bell size={14} />\r\n                            <span>Complete!</span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Preset Buttons */}\r\n            <div className=\"flex justify-center gap-2 mb-6\">\r\n                {PRESETS.map(preset => (\r\n                    <button\r\n                        key={preset.seconds}\r\n                        onClick={() => selectPreset(preset.seconds)}\r\n                        disabled={isRunning}\r\n                        className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${duration === preset.seconds\r\n                            ? 'bg-teal-500 text-white'\r\n                            : 'bg-slate-700 text-slate-300 hover:bg-slate-600 disabled:opacity-50'\r\n                            }`}\r\n                    >\r\n                        {preset.label}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Control Buttons */}\r\n            <div className=\"flex justify-center gap-3\">\r\n                <button\r\n                    onClick={resetTimer}\r\n                    className=\"p-3 rounded-xl bg-slate-700 hover:bg-slate-600 text-white transition-all\"\r\n                    title=\"Reset\"\r\n                >\r\n                    <RotateCcw size={20} />\r\n                </button>\r\n\r\n                <button\r\n                    onClick={toggleTimer}\r\n                    className={`px-6 py-3 rounded-xl font-bold text-white transition-all flex items-center gap-2 ${isRunning\r\n                        ? 'bg-amber-500 hover:bg-amber-400'\r\n                        : 'bg-gradient-to-r from-teal-500 to-purple-500 hover:from-teal-400 hover:to-purple-400'\r\n                        }`}\r\n                >\r\n                    {isRunning ? (\r\n                        <>\r\n                            <Pause size={20} />\r\n                            Pause\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <Play size={20} fill=\"currentColor\" />\r\n                            {remaining === duration ? 'Start' : 'Resume'}\r\n                        </>\r\n                    )}\r\n                </button>\r\n\r\n                <button\r\n                    onClick={() => addTime(5 * 60)}\r\n                    className=\"p-3 rounded-xl bg-slate-700 hover:bg-slate-600 text-white transition-all flex items-center gap-1\"\r\n                    title=\"Add 5 minutes\"\r\n                >\r\n                    <Plus size={16} />\r\n                    <span className=\"text-xs\">5m</span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PracticeTimer;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\PracticeWellnessCheck.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ProfileManager.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'deleteProfile' is assigned a value but never used.","line":6,"column":70,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":83}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { User, Plus, Check, X } from 'lucide-react';\r\nimport { useProfile } from '../../context/ProfileContext';\r\n\r\nconst ProfileManager = ({ onClose }) => {\r\n    const { profiles, activeProfileId, createProfile, switchProfile, deleteProfile } = useProfile();\r\n    const [isCreating, setIsCreating] = useState(false);\r\n    const [newProfileName, setNewProfileName] = useState('');\r\n\r\n    const handleCreate = (e) => {\r\n        e.preventDefault();\r\n        if (newProfileName.trim()) {\r\n            createProfile(newProfileName.trim());\r\n            setNewProfileName('');\r\n            setIsCreating(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4\">\r\n            <div className=\"bg-slate-900 w-full max-w-md rounded-2xl border border-slate-800 shadow-2xl overflow-hidden\">\r\n                <div className=\"p-6 border-b border-slate-800 flex justify-between items-center\">\r\n                    <h2 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n                        <User className=\"text-blue-400\" />\r\n                        Select Profile\r\n                    </h2>\r\n                    <button onClick={onClose} className=\"text-slate-400 hover:text-white\">\r\n                        <X size={20} />\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"p-4 max-h-[60vh] overflow-y-auto space-y-2\">\r\n                    {profiles.map(profile => (\r\n                        <div\r\n                            key={profile.id}\r\n                            onClick={() => switchProfile(profile.id)}\r\n                            className={`flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all ${activeProfileId === profile.id\r\n                                ? 'bg-blue-600/20 border-blue-500/50 border'\r\n                                : 'bg-slate-800/50 border-transparent border hover:bg-slate-800'\r\n                                }`}\r\n                        >\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <div className={`w-10 h-10 rounded-full flex items-center justify-center text-lg font-bold ${activeProfileId === profile.id ? 'bg-blue-500 text-white' : 'bg-slate-700 text-slate-300'\r\n                                    }`}>\r\n                                    {profile.name[0].toUpperCase()}\r\n                                </div>\r\n                                <div>\r\n                                    <div className={`font-bold ${activeProfileId === profile.id ? 'text-white' : 'text-slate-300'}`}>\r\n                                        {profile.name}\r\n                                    </div>\r\n                                    <div className=\"text-xs text-slate-500\">\r\n                                        {activeProfileId === profile.id ? 'Active Now' : 'Last active recently'}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {activeProfileId === profile.id && <Check className=\"text-blue-400\" size={20} />}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"p-4 border-t border-slate-800 bg-slate-900/50\">\r\n                    {isCreating ? (\r\n                        <form onSubmit={handleCreate} className=\"flex gap-2\">\r\n                            <input\r\n                                autoFocus\r\n                                type=\"text\"\r\n                                value={newProfileName}\r\n                                onChange={(e) => setNewProfileName(e.target.value)}\r\n                                placeholder=\"Profile Name\"\r\n                                className=\"flex-1 bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500\"\r\n                            />\r\n                            <button\r\n                                type=\"submit\"\r\n                                disabled={!newProfileName.trim()}\r\n                                className=\"bg-blue-600 text-white px-4 py-2 rounded-lg font-bold disabled:opacity-50\"\r\n                            >\r\n                                Add\r\n                            </button>\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => setIsCreating(false)}\r\n                                className=\"text-slate-400 hover:text-white px-2\"\r\n                            >\r\n                                <X size={20} />\r\n                            </button>\r\n                        </form>\r\n                    ) : (\r\n                        <button\r\n                            onClick={() => setIsCreating(true)}\r\n                            className=\"w-full py-3 rounded-xl border border-dashed border-slate-700 text-slate-400 hover:text-white hover:border-slate-500 hover:bg-slate-800/50 transition-all flex items-center justify-center gap-2 font-bold\"\r\n                        >\r\n                            <Plus size={20} />\r\n                            Create New Profile\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileManager;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ProgressCard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ProjectionPractice.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'useState' is defined but never used.","line":1,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":18},{"ruleId":"no-unused-vars","severity":1,"message":"'Mic' is defined but never used.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":13},{"ruleId":"no-unused-vars","severity":1,"message":"'ShieldCheck' is defined but never used.","line":2,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Mic, Megaphone, ShieldCheck } from 'lucide-react';\r\n\r\nconst ProjectionPractice = ({ onComplete }) => {\r\n    return (\r\n        <div className=\"space-y-6 animate-in fade-in\">\r\n            <div className=\"bg-slate-900 border border-slate-800 p-6 rounded-2xl\">\r\n                <h2 className=\"text-2xl font-bold text-white mb-2\">Safe Projection</h2>\r\n                <p className=\"text-slate-400\">\r\n                    &quot;Yelling&quot; usually drops us into a masculine chest voice.\r\n                    We need to learn to project using <strong>Resonance</strong> and <strong>Twang</strong> instead of Grunt.\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                {/* The Wrong Way */}\r\n                <div className=\"bg-red-900/10 border border-red-500/30 p-6 rounded-2xl\">\r\n                    <h3 className=\"font-bold text-red-400 mb-2\">The Wrong Way (Grunt)</h3>\r\n                    <p className=\"text-sm text-slate-300 mb-4\">\r\n                        Pushing from the throat. Thickens vocal folds. Lowers the larynx.\r\n                        <br />Result: &quot;MAN YELLING&quot;.\r\n                    </p>\r\n                    <div className=\"bg-slate-900 p-3 rounded-lg text-center text-xs text-red-300 font-mono\">\r\n                        &quot;HEY YOU!&quot; (Deep/Barky)\r\n                    </div>\r\n                </div>\r\n\r\n                {/* The Right Way */}\r\n                <div className=\"bg-green-900/10 border border-green-500/30 p-6 rounded-2xl\">\r\n                    <h3 className=\"font-bold text-green-400 mb-2\">The Right Way (Call)</h3>\r\n                    <p className=\"text-sm text-slate-300 mb-4\">\r\n                        Using the diaphragm (Air) + High Larynx + Twang (Laser).\r\n                        <br />Result: &quot;Piercing Call&quot;.\r\n                    </p>\r\n                    <div className=\"bg-slate-900 p-3 rounded-lg text-center text-xs text-green-300 font-mono\">\r\n                        &quot;HEY YOU!&quot; (Bright/Sharp)\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-slate-800 p-6 rounded-2xl border border-slate-700\">\r\n                <div className=\"flex items-center gap-3 mb-4\">\r\n                    <Megaphone className=\"text-indigo-400\" />\r\n                    <h3 className=\"font-bold text-white\">The &quot;Hey You!&quot; Test</h3>\r\n                </div>\r\n\r\n                <p className=\"text-slate-300 text-sm mb-4\">\r\n                    Imagine your dog is running into traffic. You need to call them back.\r\n                    <strong>Don&apos;t drop your pitch.</strong> Use the &quot;Witch Cackle&quot; muscles to call out.\r\n                </p>\r\n\r\n                <div className=\"flex gap-2\">\r\n                    <div className=\"flex-1 bg-slate-900 p-4 rounded-xl text-center text-white font-bold\">\r\n                        1. Prep &quot;Witch&quot; feeling\r\n                    </div>\r\n                    <div className=\"flex-1 bg-slate-900 p-4 rounded-xl text-center text-white font-bold\">\r\n                        2. Deep Breath\r\n                    </div>\r\n                    <div className=\"flex-1 bg-slate-900 p-4 rounded-xl text-center text-white font-bold\">\r\n                        3. CALL!\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-center pt-4\">\r\n                <button\r\n                    onClick={onComplete}\r\n                    className=\"px-8 py-3 bg-white text-slate-900 font-bold rounded-xl hover:bg-slate-200 transition-colors shadow-lg\"\r\n                >\r\n                    I Understand Projection\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProjectionPractice;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ProsodyTheory.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\QuickActions.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\QuickActions.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\QuickSettings.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\QuickWarmUp.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\QuizCard.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'showResult' is assigned a value but never used.","line":10,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { CheckCircle2, XCircle, HelpCircle, Lightbulb } from 'lucide-react';\r\n\r\n/**\r\n * QuizCard - Individual quiz question card with multiple choice answers\r\n */\r\nconst QuizCard = ({\r\n    question,\r\n    onAnswer,\r\n    showResult = false,\r\n    selectedAnswer = null,\r\n    disabled = false\r\n}) => {\r\n    const [localSelected, setLocalSelected] = useState(null);\r\n    const [revealed, setRevealed] = useState(false);\r\n\r\n    const selected = selectedAnswer !== null ? selectedAnswer : localSelected;\r\n    const isAnswered = selected !== null;\r\n    const isCorrect = selected === question.correctIndex;\r\n\r\n    const handleSelect = (index) => {\r\n        if (disabled || isAnswered) return;\r\n\r\n        setLocalSelected(index);\r\n        setRevealed(true);\r\n\r\n        if (onAnswer) {\r\n            onAnswer(index, index === question.correctIndex);\r\n        }\r\n    };\r\n\r\n    const getOptionStyles = (index) => {\r\n        const baseStyles = \"w-full p-4 rounded-xl border-2 text-left transition-all duration-200 flex items-center gap-3\";\r\n\r\n        if (!isAnswered) {\r\n            return `${baseStyles} border-slate-700 bg-slate-800/50 hover:border-purple-500/50 hover:bg-slate-800 cursor-pointer`;\r\n        }\r\n\r\n        if (index === question.correctIndex) {\r\n            return `${baseStyles} border-emerald-500 bg-emerald-500/10 text-emerald-300`;\r\n        }\r\n\r\n        if (index === selected && !isCorrect) {\r\n            return `${baseStyles} border-red-500 bg-red-500/10 text-red-300`;\r\n        }\r\n\r\n        return `${baseStyles} border-slate-700/50 bg-slate-800/30 text-slate-500 opacity-60`;\r\n    };\r\n\r\n    const optionLabels = ['A', 'B', 'C', 'D'];\r\n\r\n    return (\r\n        <div className=\"bg-slate-900/50 rounded-2xl p-6 border border-slate-800\">\r\n            {/* Module Tag */}\r\n            <div className=\"flex items-center gap-2 mb-4\">\r\n                <span className=\"px-3 py-1 rounded-full bg-purple-500/20 text-purple-400 text-xs font-medium\">\r\n                    {question.moduleName}\r\n                </span>\r\n            </div>\r\n\r\n            {/* Question */}\r\n            <div className=\"flex items-start gap-3 mb-6\">\r\n                <HelpCircle className=\"w-6 h-6 text-purple-400 shrink-0 mt-0.5\" />\r\n                <h3 className=\"text-lg font-medium text-white leading-relaxed\">\r\n                    {question.question}\r\n                </h3>\r\n            </div>\r\n\r\n            {/* Options */}\r\n            <div className=\"space-y-3\">\r\n                {question.options.map((option, index) => (\r\n                    <button\r\n                        key={index}\r\n                        onClick={() => handleSelect(index)}\r\n                        disabled={disabled || isAnswered}\r\n                        className={getOptionStyles(index)}\r\n                    >\r\n                        {/* Option Label */}\r\n                        <span className={`w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold shrink-0\r\n                            ${!isAnswered ? 'bg-slate-700 text-slate-300' :\r\n                                index === question.correctIndex ? 'bg-emerald-500 text-white' :\r\n                                    index === selected && !isCorrect ? 'bg-red-500 text-white' :\r\n                                        'bg-slate-700/50 text-slate-500'\r\n                            }`}\r\n                        >\r\n                            {isAnswered && index === question.correctIndex ? (\r\n                                <CheckCircle2 className=\"w-5 h-5\" />\r\n                            ) : isAnswered && index === selected && !isCorrect ? (\r\n                                <XCircle className=\"w-5 h-5\" />\r\n                            ) : (\r\n                                optionLabels[index]\r\n                            )}\r\n                        </span>\r\n\r\n                        {/* Option Text */}\r\n                        <span className={`flex-1 ${isAnswered && index !== question.correctIndex && index !== selected ? 'text-slate-500' : ''}`}>\r\n                            {option}\r\n                        </span>\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Explanation (shown after answering) */}\r\n            {isAnswered && revealed && (\r\n                <div className={`mt-6 p-4 rounded-xl border ${isCorrect\r\n                    ? 'bg-emerald-500/10 border-emerald-500/30'\r\n                    : 'bg-amber-500/10 border-amber-500/30'\r\n                    }`}\r\n                >\r\n                    <div className=\"flex items-start gap-3\">\r\n                        <Lightbulb className={`w-5 h-5 shrink-0 mt-0.5 ${isCorrect ? 'text-emerald-400' : 'text-amber-400'}`} />\r\n                        <div>\r\n                            <div className={`text-sm font-bold mb-1 ${isCorrect ? 'text-emerald-400' : 'text-amber-400'}`}>\r\n                                {isCorrect ? '✓ Correct!' : '✗ Not quite'}\r\n                            </div>\r\n                            <p className=\"text-sm text-slate-300 leading-relaxed\">\r\n                                {question.explanation}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default QuizCard;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\QuizResults.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\QuizView.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'MODULE_ORDER' is defined but never used.","line":5,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":35},{"ruleId":"no-unused-vars","severity":1,"message":"'MODULE_NAMES' is defined but never used.","line":5,"column":37,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":49}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react';\r\nimport { ArrowLeft, Brain, Trophy, Zap, BookOpen, ChevronRight, Lock, CheckCircle2 } from 'lucide-react';\r\nimport QuizCard from './QuizCard';\r\nimport QuizResults from './QuizResults';\r\nimport { quizService, MODULE_ORDER, MODULE_NAMES } from '../../services/QuizService';\r\n\r\n/**\r\n * QuizView - Main quiz interface with spaced repetition\r\n * \r\n * Features:\r\n * - Module-based progression (master Module 1 → Module 2 → etc.)\r\n * - Spaced repetition for missed questions\r\n * - Progress tracking and celebration\r\n */\r\nconst QuizView = ({ onBack }) => {\r\n    const [mode, setMode] = useState('welcome'); // 'welcome', 'quiz', 'results'\r\n    const [questions, setQuestions] = useState([]);\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const [answers, setAnswers] = useState({});\r\n    const [sessionStats, setSessionStats] = useState({ correct: 0, total: 0, missed: [] });\r\n    const [progressSummary, setProgressSummary] = useState(null);\r\n\r\n    // Load progress on mount\r\n    useEffect(() => {\r\n        updateProgressSummary();\r\n    }, []);\r\n\r\n    const updateProgressSummary = () => {\r\n        const summary = quizService.getProgressSummary();\r\n        setProgressSummary(summary);\r\n    };\r\n\r\n    const startQuiz = useCallback(() => {\r\n        const nextQuestions = quizService.getNextQuestions(10);\r\n\r\n        if (nextQuestions.length === 0) {\r\n            // No questions available (all mastered for current module)\r\n            return;\r\n        }\r\n\r\n        setQuestions(nextQuestions);\r\n        setCurrentIndex(0);\r\n        setAnswers({});\r\n        setSessionStats({ correct: 0, total: 0, missed: [] });\r\n        setMode('quiz');\r\n    }, []);\r\n\r\n    const handleAnswer = useCallback((questionId, selectedIndex, isCorrect) => {\r\n        // Record with spaced repetition service\r\n        quizService.recordAnswer(questionId, isCorrect);\r\n\r\n        // Track in session\r\n        setAnswers(prev => ({ ...prev, [questionId]: selectedIndex }));\r\n\r\n        setSessionStats(prev => ({\r\n            correct: prev.correct + (isCorrect ? 1 : 0),\r\n            total: prev.total + 1,\r\n            missed: isCorrect ? prev.missed : [...prev.missed, questions.find(q => q.id === questionId)]\r\n        }));\r\n    }, [questions]);\r\n\r\n    const nextQuestion = useCallback(() => {\r\n        if (currentIndex < questions.length - 1) {\r\n            setCurrentIndex(prev => prev + 1);\r\n        } else {\r\n            // Quiz complete\r\n            const result = quizService.completeSession(sessionStats.correct);\r\n            updateProgressSummary();\r\n            setSessionStats(prev => ({\r\n                ...prev,\r\n                moduleAdvanced: result.moduleAdvanced,\r\n                newModuleName: result.newModuleName\r\n            }));\r\n            setMode('results');\r\n        }\r\n    }, [currentIndex, questions.length, sessionStats.correct]);\r\n\r\n    const reviewMissed = useCallback(() => {\r\n        if (sessionStats.missed.length > 0) {\r\n            setQuestions(sessionStats.missed);\r\n            setCurrentIndex(0);\r\n            setAnswers({});\r\n            setSessionStats({ correct: 0, total: 0, missed: [] });\r\n            setMode('quiz');\r\n        }\r\n    }, [sessionStats.missed]);\r\n\r\n    // Current question\r\n    const currentQuestion = questions[currentIndex];\r\n    const isAnswered = currentQuestion && answers[currentQuestion.id] !== undefined;\r\n\r\n    // Welcome Screen\r\n    if (mode === 'welcome') {\r\n        return (\r\n            <div className=\"min-h-screen pb-20\">\r\n                {/* Header */}\r\n                <div className=\"sticky top-0 z-10 bg-slate-950/90 backdrop-blur-lg border-b border-slate-800/50 px-4 lg:px-8 py-4\">\r\n                    <button\r\n                        onClick={onBack}\r\n                        className=\"flex items-center gap-2 text-slate-400 hover:text-white transition-colors group\"\r\n                    >\r\n                        <ArrowLeft className=\"w-5 h-5 group-hover:-translate-x-1 transition-transform\" />\r\n                        <span>Back to Learn</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"p-4 lg:p-8 max-w-4xl mx-auto\">\r\n                    {/* Hero */}\r\n                    <div className=\"text-center mb-8\">\r\n                        <div className=\"w-20 h-20 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-purple-500/30\">\r\n                            <Brain className=\"w-10 h-10 text-purple-400\" />\r\n                        </div>\r\n                        <h1 className=\"text-3xl lg:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 mb-2\">\r\n                            Quiz Yourself\r\n                        </h1>\r\n                        <p className=\"text-slate-400 max-w-lg mx-auto\">\r\n                            Test your knowledge with spaced repetition. Master each module before moving to the next.\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Stats Cards */}\r\n                    {progressSummary && (\r\n                        <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\r\n                            <div className=\"bg-slate-900/50 rounded-xl p-4 border border-slate-800\">\r\n                                <div className=\"flex items-center gap-2 text-emerald-400 mb-1\">\r\n                                    <CheckCircle2 className=\"w-4 h-4\" />\r\n                                    <span className=\"text-xs font-medium uppercase tracking-wide\">Mastered</span>\r\n                                </div>\r\n                                <div className=\"text-2xl font-bold text-white\">{progressSummary.totalMastered}</div>\r\n                                <div className=\"text-xs text-slate-500\">of {progressSummary.totalQuestions}</div>\r\n                            </div>\r\n                            <div className=\"bg-slate-900/50 rounded-xl p-4 border border-slate-800\">\r\n                                <div className=\"flex items-center gap-2 text-purple-400 mb-1\">\r\n                                    <BookOpen className=\"w-4 h-4\" />\r\n                                    <span className=\"text-xs font-medium uppercase tracking-wide\">Current Module</span>\r\n                                </div>\r\n                                <div className=\"text-2xl font-bold text-white\">{progressSummary.currentModuleIndex}</div>\r\n                                <div className=\"text-xs text-slate-500\">of {progressSummary.totalModules}</div>\r\n                            </div>\r\n                            <div className=\"bg-slate-900/50 rounded-xl p-4 border border-slate-800\">\r\n                                <div className=\"flex items-center gap-2 text-amber-400 mb-1\">\r\n                                    <Zap className=\"w-4 h-4\" />\r\n                                    <span className=\"text-xs font-medium uppercase tracking-wide\">Accuracy</span>\r\n                                </div>\r\n                                <div className=\"text-2xl font-bold text-white\">{progressSummary.accuracy}%</div>\r\n                                <div className=\"text-xs text-slate-500\">{progressSummary.totalCorrect} correct</div>\r\n                            </div>\r\n                            <div className=\"bg-slate-900/50 rounded-xl p-4 border border-slate-800\">\r\n                                <div className=\"flex items-center gap-2 text-cyan-400 mb-1\">\r\n                                    <Trophy className=\"w-4 h-4\" />\r\n                                    <span className=\"text-xs font-medium uppercase tracking-wide\">Best Streak</span>\r\n                                </div>\r\n                                <div className=\"text-2xl font-bold text-white\">{progressSummary.bestStreak}</div>\r\n                                <div className=\"text-xs text-slate-500\">in a row</div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Current Module Focus */}\r\n                    {progressSummary?.currentModuleProgress && (\r\n                        <div className=\"bg-gradient-to-r from-purple-900/30 to-pink-900/30 rounded-2xl p-6 border border-purple-500/30 mb-8\">\r\n                            <h3 className=\"text-lg font-bold text-white mb-2\">\r\n                                Current Focus: {progressSummary.currentModuleName}\r\n                            </h3>\r\n                            <p className=\"text-slate-400 text-sm mb-4\">\r\n                                Master all questions in this module to unlock the next one.\r\n                            </p>\r\n                            <div className=\"h-3 bg-slate-800 rounded-full overflow-hidden mb-2\">\r\n                                <div\r\n                                    className=\"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all\"\r\n                                    style={{ width: `${progressSummary.currentModuleProgress.percentComplete}%` }}\r\n                                />\r\n                            </div>\r\n                            <div className=\"flex justify-between text-sm\">\r\n                                <span className=\"text-slate-400\">\r\n                                    {progressSummary.currentModuleProgress.mastered} / {progressSummary.currentModuleProgress.total} mastered\r\n                                </span>\r\n                                <span className=\"text-purple-400 font-medium\">\r\n                                    {progressSummary.currentModuleProgress.percentComplete}%\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Start Button */}\r\n                    <div className=\"text-center mb-8\">\r\n                        <button\r\n                            onClick={startQuiz}\r\n                            className=\"px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold text-lg rounded-xl hover:scale-105 transition-transform shadow-lg shadow-purple-900/30 flex items-center gap-2 mx-auto\"\r\n                        >\r\n                            Start Quiz\r\n                            <ChevronRight className=\"w-5 h-5\" />\r\n                        </button>\r\n                        <p className=\"mt-3 text-sm text-slate-500\">\r\n                            10 questions per session\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Module Progress Overview */}\r\n                    {progressSummary?.allModulesProgress && (\r\n                        <div className=\"bg-slate-900/50 rounded-2xl p-6 border border-slate-800\">\r\n                            <h3 className=\"text-lg font-bold text-white mb-4 flex items-center gap-2\">\r\n                                <BookOpen className=\"w-5 h-5 text-purple-400\" />\r\n                                Module Progress\r\n                            </h3>\r\n                            <div className=\"space-y-3\">\r\n                                {progressSummary.allModulesProgress.map((module, index) => (\r\n                                    <div\r\n                                        key={module.moduleId}\r\n                                        className={`flex items-center gap-4 p-3 rounded-xl transition-colors ${module.isCurrent\r\n                                                ? 'bg-purple-500/10 border border-purple-500/30'\r\n                                                : module.isUnlocked\r\n                                                    ? 'bg-slate-800/50'\r\n                                                    : 'bg-slate-800/20 opacity-50'\r\n                                            }`}\r\n                                    >\r\n                                        {/* Module Number */}\r\n                                        <div className={`w-8 h-8 rounded-lg flex items-center justify-center font-bold text-sm ${module.isComplete\r\n                                                ? 'bg-emerald-500 text-white'\r\n                                                : module.isCurrent\r\n                                                    ? 'bg-purple-500 text-white'\r\n                                                    : module.isUnlocked\r\n                                                        ? 'bg-slate-700 text-slate-300'\r\n                                                        : 'bg-slate-800 text-slate-500'\r\n                                            }`}>\r\n                                            {module.isComplete ? (\r\n                                                <CheckCircle2 className=\"w-4 h-4\" />\r\n                                            ) : !module.isUnlocked ? (\r\n                                                <Lock className=\"w-4 h-4\" />\r\n                                            ) : (\r\n                                                index + 1\r\n                                            )}\r\n                                        </div>\r\n\r\n                                        {/* Module Info */}\r\n                                        <div className=\"flex-1 min-w-0\">\r\n                                            <div className={`font-medium truncate ${module.isUnlocked ? 'text-white' : 'text-slate-500'\r\n                                                }`}>\r\n                                                {module.moduleName}\r\n                                            </div>\r\n                                            {module.isUnlocked && (\r\n                                                <div className=\"text-xs text-slate-500\">\r\n                                                    {module.mastered} / {module.total} mastered\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n\r\n                                        {/* Progress Bar */}\r\n                                        {module.isUnlocked && (\r\n                                            <div className=\"w-20 h-1.5 bg-slate-700 rounded-full overflow-hidden\">\r\n                                                <div\r\n                                                    className={`h-full transition-all ${module.isComplete\r\n                                                            ? 'bg-emerald-500'\r\n                                                            : 'bg-purple-500'\r\n                                                        }`}\r\n                                                    style={{ width: `${module.percentComplete}%` }}\r\n                                                />\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Quiz Mode\r\n    if (mode === 'quiz' && currentQuestion) {\r\n        return (\r\n            <div className=\"min-h-screen pb-20\">\r\n                {/* Header */}\r\n                <div className=\"sticky top-0 z-10 bg-slate-950/90 backdrop-blur-lg border-b border-slate-800/50 px-4 lg:px-8 py-4\">\r\n                    <div className=\"max-w-2xl mx-auto flex items-center justify-between\">\r\n                        <button\r\n                            onClick={() => setMode('welcome')}\r\n                            className=\"flex items-center gap-2 text-slate-400 hover:text-white transition-colors\"\r\n                        >\r\n                            <ArrowLeft className=\"w-5 h-5\" />\r\n                            <span className=\"hidden sm:inline\">Exit Quiz</span>\r\n                        </button>\r\n\r\n                        {/* Progress */}\r\n                        <div className=\"flex items-center gap-4\">\r\n                            <div className=\"text-sm text-slate-400\">\r\n                                <span className=\"text-white font-bold\">{currentIndex + 1}</span>\r\n                                <span> / {questions.length}</span>\r\n                            </div>\r\n                            <div className=\"w-32 h-2 bg-slate-800 rounded-full overflow-hidden\">\r\n                                <div\r\n                                    className=\"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all\"\r\n                                    style={{ width: `${((currentIndex + 1) / questions.length) * 100}%` }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Score */}\r\n                        <div className=\"flex items-center gap-2 text-sm\">\r\n                            <CheckCircle2 className=\"w-4 h-4 text-emerald-400\" />\r\n                            <span className=\"text-emerald-400 font-bold\">{sessionStats.correct}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Question */}\r\n                <div className=\"p-4 lg:p-8 max-w-2xl mx-auto\">\r\n                    <QuizCard\r\n                        question={currentQuestion}\r\n                        onAnswer={(index, isCorrect) => handleAnswer(currentQuestion.id, index, isCorrect)}\r\n                        selectedAnswer={answers[currentQuestion.id]}\r\n                        disabled={false}\r\n                    />\r\n\r\n                    {/* Next Button */}\r\n                    {isAnswered && (\r\n                        <div className=\"mt-6 text-center\">\r\n                            <button\r\n                                onClick={nextQuestion}\r\n                                className=\"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold rounded-xl hover:opacity-90 transition-opacity flex items-center gap-2 mx-auto\"\r\n                            >\r\n                                {currentIndex < questions.length - 1 ? 'Next Question' : 'See Results'}\r\n                                <ChevronRight className=\"w-5 h-5\" />\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Results Mode\r\n    if (mode === 'results') {\r\n        return (\r\n            <div className=\"min-h-screen pb-20\">\r\n                {/* Header */}\r\n                <div className=\"sticky top-0 z-10 bg-slate-950/90 backdrop-blur-lg border-b border-slate-800/50 px-4 lg:px-8 py-4\">\r\n                    <div className=\"max-w-2xl mx-auto\">\r\n                        <h2 className=\"text-lg font-bold text-white text-center\">Quiz Complete</h2>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"p-4 lg:p-8\">\r\n                    <QuizResults\r\n                        results={{\r\n                            correct: sessionStats.correct,\r\n                            total: sessionStats.total,\r\n                            missed: sessionStats.missed,\r\n                            moduleAdvanced: sessionStats.moduleAdvanced,\r\n                            newModuleName: sessionStats.newModuleName\r\n                        }}\r\n                        moduleInfo={progressSummary}\r\n                        onContinue={startQuiz}\r\n                        onReviewMissed={reviewMissed}\r\n                        onBackToLearn={onBack}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nexport default QuizView;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ReadingPractice.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\RecordingsList.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"The ref value 'audioRef.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'audioRef.current' to a variable inside the effect, and use that variable in the cleanup function.","line":22,"column":22,"nodeType":"Identifier","endLine":22,"endColumn":29},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'audioUrl'. Either include it or remove the dependency array.","line":24,"column":8,"nodeType":"ArrayExpression","endLine":24,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [audioUrl]","fix":{"range":[889,891],"text":"[audioUrl]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef } from 'react';\r\nimport { Play, Pause, Trash2, Download, Edit2, Check, X, Mic, Calendar, Clock, Loader2 } from 'lucide-react';\r\nimport { indexedDB } from '../../services/IndexedDBManager';\r\n\r\nconst RecordingsList = () => {\r\n    const [recordings, setRecordings] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [playingId, setPlayingId] = useState(null);\r\n    const [editingId, setEditingId] = useState(null);\r\n    const [editName, setEditName] = useState('');\r\n\r\n    // Audio playback refs\r\n    const audioRef = useRef(new Audio());\r\n    const [audioUrl, setAudioUrl] = useState(null);\r\n\r\n    useEffect(() => {\r\n        loadRecordings();\r\n\r\n        // Cleanup audio URL on unmount\r\n        return () => {\r\n            if (audioUrl) URL.revokeObjectURL(audioUrl);\r\n            audioRef.current.pause();\r\n        };\r\n    }, []);\r\n\r\n    const loadRecordings = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const data = await indexedDB.getRecordings();\r\n            setRecordings(data);\r\n        } catch (error) {\r\n            console.error(\"Failed to load recordings:\", error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handlePlay = (recording) => {\r\n        if (playingId === recording.id) {\r\n            audioRef.current.pause();\r\n            setPlayingId(null);\r\n            return;\r\n        }\r\n\r\n        // Cleanup previous\r\n        if (audioUrl) URL.revokeObjectURL(audioUrl);\r\n\r\n        // Create new URL from blob\r\n        const url = URL.createObjectURL(recording.blob);\r\n        setAudioUrl(url);\r\n\r\n        audioRef.current.src = url;\r\n        audioRef.current.play();\r\n        setPlayingId(recording.id);\r\n\r\n        audioRef.current.onended = () => {\r\n            setPlayingId(null);\r\n        };\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        if (!window.confirm('Are you sure you want to delete this recording?')) return;\r\n\r\n        try {\r\n            await indexedDB.deleteRecording(id);\r\n            if (playingId === id) {\r\n                audioRef.current.pause();\r\n                setPlayingId(null);\r\n            }\r\n            // Optimistic update\r\n            setRecordings(prev => prev.filter(r => r.id !== id));\r\n        } catch (error) {\r\n            console.error(\"Failed to delete recording:\", error);\r\n        }\r\n    };\r\n\r\n    const handleDownload = (recording) => {\r\n        const url = URL.createObjectURL(recording.blob);\r\n        const a = document.createElement('a');\r\n        a.style.display = 'none';\r\n        a.href = url;\r\n        // Sanitized filename\r\n        const safeName = (recording.name || 'recording').replace(/[^a-z0-9]/gi, '_').toLowerCase();\r\n        a.download = `${safeName}_${new Date(recording.timestamp).toISOString().split('T')[0]}.webm`; // Assuming webm for now\r\n        document.body.appendChild(a);\r\n        a.click();\r\n\r\n        // Cleanup\r\n        setTimeout(() => {\r\n            document.body.removeChild(a);\r\n            URL.revokeObjectURL(url);\r\n        }, 100);\r\n    };\r\n\r\n    const startEditing = (recording) => {\r\n        setEditingId(recording.id);\r\n        setEditName(recording.name || 'Untitled Recording');\r\n    };\r\n\r\n    const saveEdit = async (recording) => {\r\n        try {\r\n            const updatedRecording = { ...recording, name: editName };\r\n            await indexedDB.saveRecording(updatedRecording);\r\n            setRecordings(prev => prev.map(r => r.id === recording.id ? updatedRecording : r));\r\n            setEditingId(null);\r\n        } catch (error) {\r\n            console.error(\"Failed to update recording:\", error);\r\n        }\r\n    };\r\n\r\n    const cancelEdit = () => {\r\n        setEditingId(null);\r\n        setEditName('');\r\n    };\r\n\r\n    const formatDuration = (seconds) => {\r\n        if (!seconds && seconds !== 0) return '--:--';\r\n        const mins = Math.floor(seconds / 60);\r\n        const secs = Math.floor(seconds % 60);\r\n        return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex justify-center p-8\">\r\n                <Loader2 className=\"w-8 h-8 text-violet-500 animate-spin\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (recordings.length === 0) {\r\n        return (\r\n            <div className=\"text-center p-8 text-slate-500\">\r\n                <Mic className=\"w-12 h-12 mx-auto mb-3 opacity-20\" />\r\n                <p>No recordings found.</p>\r\n                <p className=\"text-xs mt-1\">Record a baseline or practice session to see it here.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div id=\"recordings-list\" className=\"space-y-3\">\r\n            {recordings.map((recording, index) => (\r\n                <div key={recording.id} className=\"bg-slate-800/50 hover:bg-slate-800 border border-slate-700 rounded-xl p-4 transition-all group\">\r\n                    <div className=\"flex items-center justify-between gap-4\">\r\n\r\n                        {/* Play Button */}\r\n                        <button\r\n                            id={index === 0 ? 'recording-play-btn' : undefined}\r\n                            onClick={() => handlePlay(recording)}\r\n                            className={`w-10 h-10 rounded-full flex items-center justify-center transition-colors flex-shrink-0 ${playingId === recording.id\r\n                                ? 'bg-violet-500 text-white shadow-lg shadow-violet-500/30'\r\n                                : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\r\n                                }`}\r\n                        >\r\n                            {playingId === recording.id ? <Pause size={18} fill=\"currentColor\" /> : <Play size={18} fill=\"currentColor\" className=\"ml-0.5\" />}\r\n                        </button>\r\n\r\n                        {/* Info / Edit Input */}\r\n                        <div className=\"flex-1 min-w-0\">\r\n                            {editingId === recording.id ? (\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={editName}\r\n                                        onChange={(e) => setEditName(e.target.value)}\r\n                                        className=\"bg-slate-900 border border-violet-500 rounded px-2 py-1 text-sm text-white focus:outline-none w-full\"\r\n                                        autoFocus\r\n                                        onKeyDown={(e) => e.key === 'Enter' && saveEdit(recording)}\r\n                                    />\r\n                                    <button onClick={() => saveEdit(recording)} className=\"p-1 hover:text-green-400 text-slate-400\"><Check size={16} /></button>\r\n                                    <button onClick={cancelEdit} className=\"p-1 hover:text-red-400 text-slate-400\"><X size={16} /></button>\r\n                                </div>\r\n                            ) : (\r\n                                <div>\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <h4 className=\"font-semibold text-white truncate\">{recording.name || 'Untitled Recording'}</h4>\r\n                                        <button\r\n                                            id={index === 0 ? 'recording-edit-btn' : undefined}\r\n                                            onClick={() => startEditing(recording)}\r\n                                            className=\"opacity-0 group-hover:opacity-100 p-1 text-slate-500 hover:text-violet-400 transition-opacity\"\r\n                                        >\r\n                                            <Edit2 size={12} />\r\n                                        </button>\r\n                                    </div>\r\n                                    <div className=\"flex gap-3 text-xs text-slate-400 mt-1\">\r\n                                        <span className=\"flex items-center gap-1\"><Calendar size={10} /> {new Date(recording.timestamp).toLocaleDateString()}</span>\r\n                                        <span className=\"flex items-center gap-1\"><Clock size={10} /> {formatDuration(recording.duration)}</span>\r\n                                        <span className=\"bg-slate-700 px-1.5 py-0.5 rounded text-[10px] uppercase tracking-wider text-slate-300\">{recording.type || 'audio'}</span>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Actions */}\r\n                        <div className=\"flex items-center gap-1\">\r\n                            <button\r\n                                onClick={() => handleDownload(recording)}\r\n                                title=\"Download\"\r\n                                className=\"p-2 text-slate-400 hover:text-violet-400 hover:bg-slate-700/50 rounded-lg transition-colors\"\r\n                            >\r\n                                <Download size={18} />\r\n                            </button>\r\n                            <button\r\n                                onClick={() => handleDelete(recording.id)}\r\n                                title=\"Delete\"\r\n                                className=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/50 rounded-lg transition-colors\"\r\n                            >\r\n                                <Trash2 size={18} />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RecordingsList;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\RecoveryStrategy.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\RegisterBlend.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'useState' is defined but never used.","line":1,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Sliders, Volume1, Volume2 } from 'lucide-react';\r\n\r\nconst RegisterBlend = ({ onComplete }) => {\r\n    return (\r\n        <div className=\"space-y-6 animate-in fade-in\">\r\n            <div className=\"bg-slate-900 border border-slate-800 p-6 rounded-2xl\">\r\n                <h2 className=\"text-2xl font-bold text-white mb-2\">Register Blending</h2>\r\n                <p className=\"text-slate-400\">\r\n                    Avoiding the &quot;Break&quot; or &quot;Yodel&quot;. The goal is a seamless slide from Chest to Head.\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"bg-slate-800 p-6 rounded-2xl border border-slate-700 min-h-[300px] flex flex-col justify-center gap-8\">\r\n\r\n                <div className=\"space-y-4\">\r\n                    <h3 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n                        <Sliders className=\"text-indigo-400\" />\r\n                        Messa di Voce (The Swell)\r\n                    </h3>\r\n                    <p className=\"text-slate-300 text-sm\">\r\n                        This Italian term means &quot;Placing the voice&quot;. It&apos;s the master exercise for control.\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"relative h-24 bg-slate-900 rounded-xl flex items-center px-4 overflow-hidden\">\r\n                    {/* Visual Wave */}\r\n                    <div className=\"absolute inset-0 flex items-center justify-center opacity-30\">\r\n                        <div className=\"w-full h-1 bg-gradient-to-r from-blue-500 via-pink-500 to-blue-500\"\r\n                            style={{ clipPath: 'polygon(0 45%, 50% 10%, 100% 45%, 100% 55%, 50% 90%, 0 55%)' }}>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"w-full flex justify-between relative z-10 text-xs font-bold uppercase tracking-widest\">\r\n                        <div className=\"text-blue-400 text-center\">\r\n                            <Volume1 size={24} className=\"mx-auto mb-1\" />\r\n                            Soft\r\n                        </div>\r\n                        <div className=\"text-pink-400 text-center\">\r\n                            <Volume2 size={32} className=\"mx-auto mb-1\" />\r\n                            Loud\r\n                        </div>\r\n                        <div className=\"text-blue-400 text-center\">\r\n                            <Volume1 size={24} className=\"mx-auto mb-1\" />\r\n                            Soft\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-slate-900 p-4 rounded-xl border border-slate-700\">\r\n                    <ol className=\"list-decimal list-inside text-slate-400 space-y-2 text-sm\">\r\n                        <li>Pick a comfortable note.</li>\r\n                        <li>Start <strong>Very Soft</strong> (Thin/Head).</li>\r\n                        <li>Gradually swell to <strong>Loud</strong> (Thick/Chest-Mix).</li>\r\n                        <li>Gradually fade back to <strong>Very Soft</strong>.</li>\r\n                    </ol>\r\n                    <p className=\"text-xs text-slate-500 mt-2 italic\">\r\n                        *If you crack, you added weight too fast.\r\n                    </p>\r\n                </div>\r\n\r\n                <button\r\n                    onClick={onComplete}\r\n                    className=\"w-full py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-500 shadow-lg transition-all\"\r\n                >\r\n                    I&apos;ve Tried The Swell\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RegisterBlend;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\RelaxationRoutine.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ResizablePanel.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'handleMouseMove', 'handleMouseUp', and 'handleTouchMove'. Either include them or remove the dependency array.","line":141,"column":8,"nodeType":"ArrayExpression","endLine":141,"endColumn":20,"suggestions":[{"desc":"Update the dependencies array to be: [handleMouseMove, handleMouseUp, handleTouchMove, isResizing]","fix":{"range":[5209,5221],"text":"[handleMouseMove, handleMouseUp, handleTouchMove, isResizing]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef, useEffect } from 'react';\r\nimport { GripHorizontal } from 'lucide-react';\r\n\r\nconst ResizablePanel = ({\r\n    children,\r\n    className = \"\",\r\n    minWidth = 300,\r\n    minHeight = 200,\r\n    defaultHeight = 600,\r\n    defaultWidth = \"50%\",\r\n    onResize\r\n}) => {\r\n    // Detect if we're on a mobile device\r\n    const [isMobile, setIsMobile] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const checkMobile = () => {\r\n            setIsMobile(window.innerWidth < 640);\r\n        };\r\n        checkMobile();\r\n        window.addEventListener('resize', checkMobile);\r\n        return () => window.removeEventListener('resize', checkMobile);\r\n    }, []);\r\n\r\n    // We only manage height and width. \r\n    // Initial width might be 'auto' or controlled by flex, so we might not set it initially.\r\n    const [dimensions, setDimensions] = useState({ width: defaultWidth, height: defaultHeight });\r\n    const [isResizing, setIsResizing] = useState(false);\r\n    const panelRef = useRef(null);\r\n    const startPos = useRef({ x: 0, y: 0 });\r\n    const startDims = useRef({ width: 0, height: 0 });\r\n\r\n    const handleMouseDown = (e) => {\r\n        if (isMobile) return; // Disable resizing on mobile\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const rect = panelRef.current.getBoundingClientRect();\r\n        startPos.current = { x: e.clientX, y: e.clientY };\r\n        startDims.current = { width: rect.width, height: rect.height };\r\n\r\n        // Initialize width state if it was null (auto)\r\n        if (dimensions.width === null) {\r\n            setDimensions(prev => ({ ...prev, width: rect.width }));\r\n        }\r\n\r\n        setIsResizing(true);\r\n\r\n        document.addEventListener('mousemove', handleMouseMove);\r\n        document.addEventListener('mouseup', handleMouseUp);\r\n        document.body.style.cursor = 'nwse-resize';\r\n        document.body.style.userSelect = 'none';\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        if (!startPos.current) return;\r\n\r\n        const dx = e.clientX - startPos.current.x;\r\n        const dy = e.clientY - startPos.current.y;\r\n\r\n        const effectiveMinWidth = isMobile ? 0 : minWidth;\r\n        const newWidth = Math.max(effectiveMinWidth, startDims.current.width + dx);\r\n        const newHeight = Math.max(minHeight, startDims.current.height + dy);\r\n\r\n        setDimensions({ width: newWidth, height: newHeight });\r\n\r\n        if (onResize) {\r\n            onResize({ width: newWidth, height: newHeight });\r\n        }\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n        setIsResizing(false);\r\n        document.removeEventListener('mousemove', handleMouseMove);\r\n        document.removeEventListener('mouseup', handleMouseUp);\r\n        document.body.style.cursor = '';\r\n        document.body.style.userSelect = '';\r\n    };\r\n\r\n    const handleTouchStart = (e) => {\r\n        if (isMobile) return; // Disable resizing on mobile\r\n\r\n        e.stopPropagation();\r\n        const touch = e.touches[0];\r\n        const rect = panelRef.current.getBoundingClientRect();\r\n        startPos.current = { x: touch.clientX, y: touch.clientY };\r\n        startDims.current = { width: rect.width, height: rect.height };\r\n\r\n        // Initialize width state if it was null (auto)\r\n        if (dimensions.width === null) {\r\n            setDimensions(prev => ({ ...prev, width: rect.width }));\r\n        }\r\n\r\n        setIsResizing(true);\r\n        document.body.style.overflow = 'hidden'; // Prevent scrolling while resizing\r\n    };\r\n\r\n    const handleTouchMove = (e) => {\r\n        if (!startPos.current) return;\r\n        const touch = e.touches[0];\r\n        const dx = touch.clientX - startPos.current.x;\r\n        const dy = touch.clientY - startPos.current.y;\r\n\r\n        const effectiveMinWidth = isMobile ? 0 : minWidth;\r\n        const newWidth = Math.max(effectiveMinWidth, startDims.current.width + dx);\r\n        const newHeight = Math.max(minHeight, startDims.current.height + dy);\r\n\r\n        setDimensions({ width: newWidth, height: newHeight });\r\n\r\n        if (onResize) {\r\n            onResize({ width: newWidth, height: newHeight });\r\n        }\r\n    };\r\n\r\n    const handleTouchEnd = () => {\r\n        setIsResizing(false);\r\n        document.body.style.overflow = '';\r\n    };\r\n\r\n    // Cleanup\r\n    useEffect(() => {\r\n        if (isResizing) {\r\n            // Touch events need to be added/removed dynamically or they might interfere\r\n            document.addEventListener('touchmove', handleTouchMove, { passive: false });\r\n            document.addEventListener('touchend', handleTouchEnd);\r\n        } else {\r\n            document.removeEventListener('touchmove', handleTouchMove);\r\n            document.removeEventListener('touchend', handleTouchEnd);\r\n        }\r\n\r\n        return () => {\r\n            document.removeEventListener('mousemove', handleMouseMove);\r\n            document.removeEventListener('mouseup', handleMouseUp);\r\n            document.removeEventListener('touchmove', handleTouchMove);\r\n            document.removeEventListener('touchend', handleTouchEnd);\r\n            document.body.style.cursor = '';\r\n            document.body.style.userSelect = '';\r\n            document.body.style.overflow = '';\r\n        };\r\n    }, [isResizing]);\r\n\r\n    // On mobile, use full width and auto height\r\n    const mobileStyle = isMobile ? {\r\n        width: '100%',\r\n        minWidth: 0,\r\n        height: 'auto',\r\n        minHeight: dimensions.height\r\n    } : {\r\n        height: dimensions.height,\r\n        width: dimensions.width ?? undefined, // Use undefined to let CSS take over if null\r\n        transition: isResizing ? 'none' : 'width 0.2s, height 0.2s'\r\n    };\r\n\r\n    return (\r\n        <div\r\n            ref={panelRef}\r\n            className={`relative group ${className}`}\r\n            style={mobileStyle}\r\n        >\r\n            {children}\r\n\r\n            {/* Resize Handle - Hidden on mobile */}\r\n            {!isMobile && (\r\n                <div\r\n                    className={`absolute bottom-0 right-0 p-1 cursor-nwse-resize z-50 opacity-0 group-hover:opacity-100 transition-opacity ${isResizing ? 'opacity-100' : ''}`}\r\n                    onMouseDown={handleMouseDown}\r\n                    onTouchStart={handleTouchStart}\r\n                >\r\n                    <div className=\"w-6 h-6 bg-slate-800/80 backdrop-blur-sm rounded-tl-lg border-t border-l border-white/20 flex items-center justify-center shadow-lg hover:bg-blue-500/80 transition-colors\">\r\n                        <GripHorizontal size={16} className=\"text-white/70 transform -rotate-45\" />\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Resize Overlay to prevent iframe/interaction interference during resize */}\r\n            {\r\n                isResizing && (\r\n                    <div className=\"absolute inset-0 z-40 bg-transparent\" />\r\n                )\r\n            }\r\n        </div >\r\n    );\r\n\r\n};\r\n\r\nexport default ResizablePanel;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ResonanceApplication.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ResonanceBreathBalance.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\SelfAssessmentModal.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'t' is assigned a value but never used.","line":7,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Save, ThumbsUp, ThumbsDown, Meh } from 'lucide-react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { historyService } from '../../utils/historyService';\r\n\r\nconst SelfAssessmentModal = ({ onClose, sessionData }) => {\r\n    const { t } = useTranslation();\r\n    const [effort, setEffort] = useState(null); // 1 (Easy) to 5 (Hard)\r\n    const [satisfaction, setSatisfaction] = useState(null); // 1 (Bad) to 3 (Good)\r\n    const [notes, setNotes] = useState('');\r\n    const [isSaving, setIsSaving] = useState(false);\r\n\r\n    const handleSave = async () => {\r\n        setIsSaving(true);\r\n        try {\r\n            // Save to history service\r\n            await historyService.addSession({\r\n                ...sessionData,\r\n                userRating: satisfaction,\r\n                effortLevel: effort,\r\n                notes: notes,\r\n                timestamp: new Date().toISOString()\r\n            });\r\n            onClose();\r\n        } catch (error) {\r\n            console.error(\"Failed to save session:\", error);\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-in fade-in duration-300\">\r\n            <div className=\"w-full max-w-md bg-slate-900 border border-white/10 rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300\">\r\n                {/* Header */}\r\n                <div className=\"bg-gradient-to-r from-violet-600 to-indigo-600 p-6 text-center\">\r\n                    <h2 className=\"text-2xl font-bold text-white mb-1\">Session Complete!</h2>\r\n                    <p className=\"text-white/80 text-sm\">Great job putting in the work.</p>\r\n                </div>\r\n\r\n                <div className=\"p-6 space-y-6\">\r\n                    {/* Q1: How did it feel? (Effort) */}\r\n                    <div>\r\n                        <label className=\"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-3\">\r\n                            How much effort did it take?\r\n                        </label>\r\n                        <div className=\"flex justify-between gap-2\">\r\n                            {[1, 2, 3, 4, 5].map((level) => (\r\n                                <button\r\n                                    key={level}\r\n                                    onClick={() => setEffort(level)}\r\n                                    className={`flex-1 py-3 rounded-xl text-sm font-bold transition-all border ${effort === level\r\n                                        ? 'bg-blue-600 border-blue-500 text-white shadow-lg scale-105'\r\n                                        : 'bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700'\r\n                                        }`}\r\n                                >\r\n                                    {level}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                        <div className=\"flex justify-between mt-2 text-[10px] text-slate-500 uppercase font-bold\">\r\n                            <span>Effortless</span>\r\n                            <span>Strained</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Q2: Are you happy with the sound? */}\r\n                    <div>\r\n                        <label className=\"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-3\">\r\n                            How did you sound?\r\n                        </label>\r\n                        <div className=\"grid grid-cols-3 gap-3\">\r\n                            <button\r\n                                onClick={() => setSatisfaction(1)}\r\n                                className={`flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${satisfaction === 1 ? 'bg-red-500/20 border-red-500 text-white' : 'bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700'\r\n                                    }`}\r\n                            >\r\n                                <ThumbsDown className={satisfaction === 1 ? 'text-red-400' : 'text-slate-500'} />\r\n                                <span className=\"text-xs\">Off</span>\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setSatisfaction(2)}\r\n                                className={`flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${satisfaction === 2 ? 'bg-amber-500/20 border-amber-500 text-white' : 'bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700'\r\n                                    }`}\r\n                            >\r\n                                <Meh className={satisfaction === 2 ? 'text-amber-400' : 'text-slate-500'} />\r\n                                <span className=\"text-xs\">Okay</span>\r\n                            </button>\r\n                            <button\r\n                                onClick={() => setSatisfaction(3)}\r\n                                className={`flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${satisfaction === 3 ? 'bg-emerald-500/20 border-emerald-500 text-white' : 'bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700'\r\n                                    }`}\r\n                            >\r\n                                <ThumbsUp className={satisfaction === 3 ? 'text-emerald-400' : 'text-slate-500'} />\r\n                                <span className=\"text-xs\">Great</span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Notes (Optional) */}\r\n                    <div>\r\n                        <label className=\"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2\">\r\n                            Quick Notes\r\n                        </label>\r\n                        <textarea\r\n                            value={notes}\r\n                            onChange={(e) => setNotes(e.target.value)}\r\n                            className=\"w-full bg-slate-950/50 border border-slate-700 rounded-xl p-3 text-sm text-white focus:outline-none focus:border-violet-500 custom-scrollbar\"\r\n                            placeholder=\"What went well? What needs work?\"\r\n                            rows={3}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Footer Buttons */}\r\n                <div className=\"p-4 bg-slate-950/50 border-t border-white/5 flex gap-3\">\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"flex-1 py-3 rounded-xl font-bold text-slate-400 hover:bg-white/5 transition-colors\"\r\n                    >\r\n                        Skip\r\n                    </button>\r\n                    <button\r\n                        onClick={handleSave}\r\n                        disabled={isSaving || !effort || !satisfaction}\r\n                        className=\"flex-2 w-2/3 py-3 rounded-xl bg-white text-slate-900 font-bold hover:bg-slate-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n                    >\r\n                        {isSaving ? 'Saving...' : <><Save size={18} /> Save Session</>}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SelfAssessmentModal;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\SelfCareOnboarding.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\SelfCareReminder.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\SessionNotes.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Clock' is defined but never used.","line":3,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef } from 'react';\r\nimport { useClient } from '../../context/ClientContext';\r\nimport { Save, Clock, FileText } from 'lucide-react';\r\n\r\nconst SessionNotes = () => {\r\n    const { activeClient, updateClient } = useClient();\r\n    const [notes, setNotes] = useState('');\r\n    const [isSaving, setIsSaving] = useState(false);\r\n    const [lastSaved, setLastSaved] = useState(null);\r\n    const timeoutRef = useRef(null);\r\n\r\n    // Load notes when active client changes\r\n    useEffect(() => {\r\n        if (activeClient) {\r\n            setNotes(activeClient.notes || '');\r\n        } else {\r\n            setNotes('');\r\n        }\r\n    }, [activeClient]);\r\n\r\n    // Auto-save logic\r\n    const handleNotesChange = (e) => {\r\n        const newNotes = e.target.value;\r\n        setNotes(newNotes);\r\n        setIsSaving(true);\r\n\r\n        if (timeoutRef.current) clearTimeout(timeoutRef.current);\r\n\r\n        timeoutRef.current = setTimeout(async () => {\r\n            if (activeClient) {\r\n                await updateClient({\r\n                    ...activeClient,\r\n                    notes: newNotes,\r\n                    lastModified: new Date().toISOString()\r\n                });\r\n                setIsSaving(false);\r\n                setLastSaved(new Date());\r\n            }\r\n        }, 1000); // Debounce 1s\r\n    };\r\n\r\n    if (!activeClient) {\r\n        return (\r\n            <div className=\"glass-panel-dark rounded-2xl p-6 flex flex-col items-center justify-center text-center h-full min-h-[200px]\">\r\n                <div className=\"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center mb-3\">\r\n                    <FileText className=\"text-slate-600\" />\r\n                </div>\r\n                <h3 className=\"text-slate-400 font-bold\">No Client Selected</h3>\r\n                <p className=\"text-xs text-slate-500 mt-1\">Select a client to view and edit notes.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"glass-panel-dark rounded-2xl p-4 h-full flex flex-col\">\r\n            <div className=\"flex justify-between items-center mb-3\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <FileText size={16} className=\"text-blue-400\" />\r\n                    <h3 className=\"font-bold text-slate-200\">Clinical Notes</h3>\r\n                </div>\r\n                <div className=\"text-xs font-mono text-slate-500 flex items-center gap-1\">\r\n                    {isSaving ? (\r\n                        <span className=\"text-yellow-500 animate-pulse\">Saving...</span>\r\n                    ) : lastSaved ? (\r\n                        <span className=\"flex items-center gap-1\">\r\n                            <Save size={10} />\r\n                            Saved {lastSaved.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                        </span>\r\n                    ) : (\r\n                        <span>Ready</span>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <textarea\r\n                value={notes}\r\n                onChange={handleNotesChange}\r\n                placeholder=\"Enter session observations, goals, and homework...\"\r\n                className=\"flex-1 w-full bg-slate-900/50 border border-slate-700/50 rounded-xl p-4 text-sm text-slate-300 focus:outline-none focus:border-blue-500/50 focus:bg-slate-900 transition-all resize-none font-sans leading-relaxed\"\r\n                spellCheck=\"false\"\r\n            />\r\n\r\n            <div className=\"mt-3 flex justify-between items-center\">\r\n                <div className=\"text-[10px] text-slate-600 font-mono\">\r\n                    ID: {activeClient.id.slice(0, 8)}...\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <button className=\"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 rounded-lg text-xs font-bold text-slate-400 transition-colors\">\r\n                        Timestamp\r\n                    </button>\r\n                    <button className=\"px-3 py-1.5 bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 rounded-lg text-xs font-bold transition-colors\">\r\n                        Export PDF\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SessionNotes;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\Signup.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\SkeletonLoader.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\SkeletonLoader.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\SoundJournal.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Volume2' is defined but never used.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":17},{"ruleId":"no-unused-vars","severity":1,"message":"'Wind' is defined but never used.","line":2,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":23},{"ruleId":"no-unused-vars","severity":1,"message":"'Zap' is defined but never used.","line":2,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":28},{"ruleId":"no-unused-vars","severity":1,"message":"'Edit3' is defined but never used.","line":2,"column":43,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":48},{"ruleId":"no-unused-vars","severity":1,"message":"'Smile' is defined but never used.","line":2,"column":64,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":69},{"ruleId":"no-unused-vars","severity":1,"message":"'CloudLightning' is defined but never used.","line":2,"column":71,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":85},{"ruleId":"no-unused-vars","severity":1,"message":"'Coffee' is defined but never used.","line":2,"column":87,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":93},{"ruleId":"no-unused-vars","severity":1,"message":"'Radio' is defined but never used.","line":2,"column":95,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":100}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Volume2, Wind, Zap, Music, Plus, Edit3, Trash2, Save, Smile, CloudLightning, Coffee, Radio } from 'lucide-react';\r\n\r\nconst INSPIRATION_PROMPTS = [\r\n    { label: 'Nature', items: ['🐶 Dog Bark', '🐱 Cat Meow', '🌬️ Wind in Trees', '🦗 Cicada', '🌊 Waterfall'] },\r\n    { label: 'Machines', items: ['🚗 Car Revving', '☢️ Microwave Hum', '☕ Coffee Grinder', '🔌 Static'] },\r\n    { label: 'Abstract', items: ['📉 Descending Gliss', '📈 Ascending Gliss', '👻 Ghost Sound', '🤖 Robot Voice'] }\r\n];\r\n\r\nconst SoundJournal = ({ onComplete }) => {\r\n    const [entries, setEntries] = useState([]);\r\n    const [isAdding, setIsAdding] = useState(false);\r\n\r\n    // Form State\r\n    const [soundName, setSoundName] = useState('');\r\n    const [sensation, setSensation] = useState('');\r\n    const [variations, setVariations] = useState('');\r\n    const [description, setDescription] = useState('');\r\n\r\n    const handleAddEntry = () => {\r\n        if (!soundName.trim()) return;\r\n        setEntries(prev => [...prev, {\r\n            id: Date.now(),\r\n            name: soundName,\r\n            sensation,\r\n            variations,\r\n            description,\r\n            timestamp: new Date().toISOString()\r\n        }]);\r\n        resetForm();\r\n    };\r\n\r\n    const resetForm = () => {\r\n        setSoundName('');\r\n        setSensation('');\r\n        setVariations('');\r\n        setDescription('');\r\n        setIsAdding(false);\r\n    };\r\n\r\n    const applyPrompt = (item) => {\r\n        setSoundName(item.split(' ')[1] || item); // Simple split to remove emoji\r\n        setIsAdding(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            {/* Header / Intro */}\r\n            <div className=\"bg-slate-800/50 rounded-2xl p-6 border border-slate-700\">\r\n                <div className=\"flex items-start gap-4 mb-4\">\r\n                    <div className=\"p-3 bg-purple-500/20 rounded-xl\">\r\n                        <Music className=\"text-purple-400\" size={24} />\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"text-xl font-bold text-white mb-2\">Sound Journal</h3>\r\n                        <p className=\"text-slate-400 text-sm\">\r\n                            Explore the bounds of your voice by making &quot;weird&quot; sounds.\r\n                            Don&apos;t worry about being feminine right now—just be curious about what your voice <em>can</em> do.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Inspiration Chips */}\r\n                {!isAdding && (\r\n                    <div className=\"space-y-3 mt-6\">\r\n                        <label className=\"text-xs font-bold text-slate-500 uppercase tracking-wider\">Inspiration</label>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                            {INSPIRATION_PROMPTS.flatMap(cat => cat.items).map((item, i) => (\r\n                                <button\r\n                                    key={i}\r\n                                    onClick={() => applyPrompt(item)}\r\n                                    className=\"px-3 py-1.5 rounded-full bg-slate-900 border border-slate-700 hover:border-purple-500/50 text-slate-300 text-xs transition-all hover:scale-105\"\r\n                                >\r\n                                    {item}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Entry List */}\r\n            <div className=\"space-y-4\">\r\n                {entries.map(entry => (\r\n                    <div key={entry.id} className=\"bg-slate-900/50 rounded-xl p-5 border border-slate-800 hover:border-slate-700 transition-colors group relative\">\r\n                        <button\r\n                            onClick={() => setEntries(prev => prev.filter(e => e.id !== entry.id))}\r\n                            className=\"absolute top-4 right-4 text-slate-600 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-all\"\r\n                        >\r\n                            <Trash2 size={16} />\r\n                        </button>\r\n\r\n                        <div className=\"flex flex-col md:flex-row gap-6\">\r\n                            <div className=\"md:w-1/4\">\r\n                                <h4 className=\"font-bold text-white text-lg mb-1\">{entry.name}</h4>\r\n                                <div className=\"text-xs text-slate-500\">{new Date(entry.timestamp).toLocaleDateString()}</div>\r\n                            </div>\r\n\r\n                            <div className=\"flex-1 grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm\">\r\n                                <div>\r\n                                    <div className=\"text-xs font-bold text-purple-400 mb-1\">Physical Sensation</div>\r\n                                    <p className=\"text-slate-300\">{entry.sensation || '-'}</p>\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"text-xs font-bold text-blue-400 mb-1\">Variations Tried</div>\r\n                                    <p className=\"text-slate-300\">{entry.variations || '-'}</p>\r\n                                </div>\r\n                                <div>\r\n                                    <div className=\"text-xs font-bold text-green-400 mb-1\">Description / Emotion</div>\r\n                                    <p className=\"text-slate-300\">{entry.description || '-'}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Add Entry Form */}\r\n            {isAdding ? (\r\n                <div className=\"bg-indigo-900/10 border border-indigo-500/30 rounded-2xl p-6 animate-in fade-in slide-in-from-bottom-4\">\r\n                    <h4 className=\"font-bold text-indigo-100 mb-4 flex items-center gap-2\">\r\n                        <Plus size={18} /> New Sound Entry\r\n                    </h4>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n                        <div className=\"col-span-1 md:col-span-2\">\r\n                            <label className=\"block text-xs font-bold text-indigo-300 mb-1\">Sound Name</label>\r\n                            <input\r\n                                autoFocus\r\n                                type=\"text\"\r\n                                value={soundName}\r\n                                onChange={(e) => setSoundName(e.target.value)}\r\n                                placeholder=\"e.g., Microwave Hum\"\r\n                                className=\"w-full bg-slate-900/80 border border-indigo-500/30 rounded-xl p-3 text-white focus:outline-none focus:border-indigo-400\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label className=\"block text-xs font-bold text-indigo-300 mb-1\">Physical Sensation</label>\r\n                            <textarea\r\n                                value={sensation}\r\n                                onChange={(e) => setSensation(e.target.value)}\r\n                                placeholder=\"Where did you feel vibration? Muscle tension?\"\r\n                                className=\"w-full bg-slate-900/80 border border-indigo-500/30 rounded-xl p-3 text-white focus:outline-none focus:border-indigo-400 h-24\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"block text-xs font-bold text-indigo-300 mb-1\">Variations</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={variations}\r\n                                    onChange={(e) => setVariations(e.target.value)}\r\n                                    placeholder=\"e.g., Louder, different vowels...\"\r\n                                    className=\"w-full bg-slate-900/80 border border-indigo-500/30 rounded-xl p-3 text-white focus:outline-none focus:border-indigo-400\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-xs font-bold text-indigo-300 mb-1\">Description / Emotion</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={description}\r\n                                    onChange={(e) => setDescription(e.target.value)}\r\n                                    placeholder=\"e.g., Felt silly, sounded buzzy\"\r\n                                    className=\"w-full bg-slate-900/80 border border-indigo-500/30 rounded-xl p-3 text-white focus:outline-none focus:border-indigo-400\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex gap-3 justify-end\">\r\n                        <button\r\n                            onClick={resetForm}\r\n                            className=\"px-4 py-2 text-slate-400 hover:text-white font-medium\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button\r\n                            onClick={handleAddEntry}\r\n                            disabled={!soundName.trim()}\r\n                            className=\"px-6 py-2 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl font-bold flex items-center gap-2 shadow-lg shadow-indigo-900/20\"\r\n                        >\r\n                            <Save size={18} /> Save Entry\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <button\r\n                    onClick={() => setIsAdding(true)}\r\n                    className=\"w-full py-4 rounded-2xl border-2 border-dashed border-slate-700 text-slate-400 hover:text-white hover:border-indigo-500/50 hover:bg-indigo-900/10 transition-all flex flex-col items-center justify-center gap-2 font-bold group\"\r\n                >\r\n                    <div className=\"p-3 rounded-full bg-slate-800 group-hover:bg-indigo-600 transition-colors text-white\">\r\n                        <Plus size={24} />\r\n                    </div>\r\n                    Log New Sound\r\n                </button>\r\n            )}\r\n\r\n            {/* Complete Button */}\r\n            {entries.length > 0 && !isAdding && (\r\n                <div className=\"flex justify-end pt-8 border-t border-slate-800\">\r\n                    <button\r\n                        onClick={() => onComplete?.(entries)}\r\n                        className=\"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white rounded-xl font-bold shadow-lg shadow-purple-900/20 transform hover:scale-[1.02] transition-all\"\r\n                    >\r\n                        Complete Session\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SoundJournal;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\StudentSelfEvaluation.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\StyleMixer.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Sliders' is defined but never used.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Sliders } from 'lucide-react';\r\n\r\nconst StyleMixer = ({ onComplete }) => {\r\n    const [settings, setSettings] = useState({\r\n        pitch: 50,\r\n        resonance: 50,\r\n        weight: 50,\r\n        breath: 50,\r\n        inflection: 50\r\n    });\r\n\r\n    const handleChange = (key, val) => {\r\n        setSettings(prev => ({ ...prev, [key]: val }));\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6 animate-in fade-in\">\r\n            <div className=\"bg-slate-900 border border-slate-800 p-6 rounded-2xl\">\r\n                <h2 className=\"text-2xl font-bold text-white mb-2\">The Mixing Board</h2>\r\n                <p className=\"text-slate-400\">\r\n                    Who are you today? Design your &quot;Preset&quot;.\r\n                    You are the Audio Engineer of your own voice.\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"bg-slate-800 p-6 rounded-2xl border border-slate-700 space-y-6\">\r\n\r\n                {[\r\n                    { id: 'pitch', label: 'Pitch Floor', left: 'Deep/Grounded', right: 'High/Light' },\r\n                    { id: 'resonance', label: 'Brightness', left: 'Warm/Dark', right: 'Sharp/Bright' },\r\n                    { id: 'weight', label: 'Vocal Weight', left: 'Soft/Airy', right: 'Assertive/Thick' },\r\n                    { id: 'inflection', label: 'Personality', left: 'Calm/Metric', right: 'Bouncy/Expressive' }\r\n                ].map(slider => (\r\n                    <div key={slider.id} className=\"space-y-2\">\r\n                        <div className=\"flex justify-between text-sm font-bold text-slate-300\">\r\n                            <span>{slider.label}</span>\r\n                        </div>\r\n                        <input\r\n                            type=\"range\"\r\n                            min=\"0\"\r\n                            max=\"100\"\r\n                            value={settings[slider.id]}\r\n                            onChange={(e) => handleChange(slider.id, e.target.value)}\r\n                            className=\"w-full h-2 bg-slate-900 rounded-full appearance-none cursor-pointer accent-indigo-500\"\r\n                        />\r\n                        <div className=\"flex justify-between text-xs text-slate-500 uppercase tracking-widest\">\r\n                            <span>{slider.left}</span>\r\n                            <span>{slider.right}</span>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n\r\n            </div>\r\n\r\n            <div className=\"bg-indigo-900/20 p-6 rounded-xl border border-indigo-500/30 text-center\">\r\n                <h4 className=\"font-bold text-indigo-300 mb-2\">Current Preset Analysis</h4>\r\n                <p className=\"text-white text-lg font-serif\">\r\n                    &quot;{settings.pitch > 70 ? 'Bubblier' : 'More Grounded'} &bull; {settings.resonance > 70 ? 'Sparkly' : 'Warmer'} &bull; {settings.inflection > 70 ? 'Very Expressive' : 'Chill'}&quot;\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"flex justify-center pt-4\">\r\n                <button\r\n                    onClick={onComplete}\r\n                    className=\"px-8 py-3 bg-white text-slate-900 font-bold rounded-xl hover:bg-slate-200 transition-colors shadow-lg\"\r\n                >\r\n                    I Have Designed My Voice\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StyleMixer;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\SyllableStacker.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Layers' is defined but never used.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Layers } from 'lucide-react';\r\n\r\nconst SyllableStacker = ({ onComplete }) => {\r\n    const [mode, setMode] = useState('robot'); // 'robot' or 'elastic'\r\n\r\n    return (\r\n        <div className=\"space-y-6 animate-in fade-in\">\r\n            <div className=\"bg-slate-900 border border-slate-800 p-6 rounded-2xl\">\r\n                <h2 className=\"text-2xl font-bold text-white mb-2\">Syllable Separation</h2>\r\n                <p className=\"text-slate-400\">\r\n                    To break the habit of &quot;Mumbling/Slurring&quot;, we first go to the extreme: **Robot Mode**.\r\n                    Then we add **Elasticity** back in.\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"flex justify-center gap-4 mb-6\">\r\n                <button\r\n                    onClick={() => setMode('robot')}\r\n                    className={`px-6 py-3 rounded-xl font-bold transition-all ${mode === 'robot'\r\n                        ? 'bg-blue-600 text-white shadow-lg scale-105'\r\n                        : 'bg-slate-800 text-slate-400'\r\n                        }`}\r\n                >\r\n                    🤖 Robot Mode\r\n                </button>\r\n                <button\r\n                    onClick={() => setMode('elastic')}\r\n                    className={`px-6 py-3 rounded-xl font-bold transition-all ${mode === 'elastic'\r\n                        ? 'bg-pink-600 text-white shadow-lg scale-105'\r\n                        : 'bg-slate-800 text-slate-400'\r\n                        }`}\r\n                >\r\n                    🧶 Elastic Mode\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"bg-slate-800 p-8 rounded-2xl border border-slate-700 min-h-[300px] flex flex-col items-center justify-center text-center\">\r\n                {mode === 'robot' ? (\r\n                    <div className=\"animate-in zoom-in duration-300\">\r\n                        <h3 className=\"text-4xl font-mono text-blue-300 mb-4 tracking-widest\">\r\n                            I. AM. A. RO. BOT.\r\n                        </h3>\r\n                        <p className=\"text-slate-300 max-w-md mx-auto mb-8\">\r\n                            Read this sentence. **Completely detach** every syllable. Even the tiny words.\r\n                            <br /><br />\r\n                            &quot;The. Sun. Light. Strikes. Rain. Drops. In. The. Air.&quot;\r\n                        </p>\r\n                        <div className=\"text-xs text-blue-500 font-bold uppercase tracking-widest\">\r\n                            Goal: Zero Connection. Pure Diction.\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"animate-in zoom-in duration-300\">\r\n                        <h3 className=\"text-4xl font-serif italic text-pink-300 mb-4\">\r\n                            I... Am... A... Human...\r\n                        </h3>\r\n                        <p className=\"text-slate-300 max-w-md mx-auto mb-8\">\r\n                            Now, keep the separation, but **stretch** the vowel of each syllable.\r\n                            Don&apos;t blend them! Just make each brick softer.\r\n                            <br /><br />\r\n                            &quot;Theeee Suuuun Liiiight Striiiiikes Raaaain Droooops.&quot;\r\n                        </p>\r\n                        <div className=\"text-xs text-pink-500 font-bold uppercase tracking-widest\">\r\n                            Goal: Defined Edges, Soft Centers.\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"flex justify-center pt-4\">\r\n                <button\r\n                    onClick={onComplete}\r\n                    className=\"px-8 py-3 bg-white text-slate-900 font-bold rounded-xl hover:bg-slate-200 transition-colors shadow-lg\"\r\n                >\r\n                    I Feel The Difference\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SyllableStacker;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\TargetVoicePlayer.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\TexturePlay.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\Toast.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\TonalConsistency.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Music' is defined but never used.","line":2,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":29},{"ruleId":"no-unused-vars","severity":1,"message":"'Play' is defined but never used.","line":2,"column":44,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":48}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { Layers, Move, Music, AlertCircle, Play, Mic } from 'lucide-react';\r\n\r\nconst TonalConsistency = ({ onComplete }) => {\r\n    const [activeTab, setActiveTab] = useState('theory'); // theory, anchors, nasality\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"bg-slate-900 border border-slate-800 p-6 rounded-2xl\">\r\n                <h2 className=\"text-2xl font-bold text-white mb-2\">Tonal Consistency</h2>\r\n                <p className=\"text-slate-400\">\r\n                    Masculine speech &quot;chews&quot; vowels (moving the jaw/tongue excessively).\r\n                    Feminine speech maintains a consistent &quot;Bright&quot; container (R1) while the tongue dances inside.\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"flex bg-slate-800 p-1 rounded-xl\">\r\n                {[\r\n                    { id: 'theory', label: 'The Theory (R1/R2/R3)', icon: Layers },\r\n                    { id: 'anchors', label: 'The EE Anchor', icon: Move },\r\n                    { id: 'nasality', label: 'Nasality Check', icon: Mic },\r\n                ].map(tab => (\r\n                    <button\r\n                        key={tab.id}\r\n                        onClick={() => setActiveTab(tab.id)}\r\n                        className={`flex-1 py-3 px-4 rounded-lg font-bold flex items-center justify-center gap-2 transition-all ${activeTab === tab.id\r\n                            ? 'bg-indigo-600 text-white shadow-lg'\r\n                            : 'text-slate-400 hover:text-white'\r\n                            }`}\r\n                    >\r\n                        <tab.icon size={18} />\r\n                        <span className=\"hidden sm:inline\">{tab.label}</span>\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            <div className=\"bg-slate-800 border border-slate-700 p-6 rounded-2xl min-h-[400px]\">\r\n                {activeTab === 'theory' && <TheoryTab />}\r\n                {activeTab === 'anchors' && <AnchorTab />}\r\n                {activeTab === 'nasality' && <NasalityTab />}\r\n            </div>\r\n\r\n            <div className=\"flex justify-center pt-4\">\r\n                <button\r\n                    onClick={onComplete}\r\n                    className=\"px-8 py-3 bg-white text-slate-900 font-bold rounded-xl hover:bg-slate-200 transition-colors shadow-lg\"\r\n                >\r\n                    I Understand\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n/* Sub-components */\r\n\r\nconst TheoryTab = () => (\r\n    <div className=\"space-y-6 animate-in fade-in\">\r\n        <h3 className=\"text-xl font-bold text-white\">The Resonance Chambers</h3>\r\n        <p className=\"text-slate-300\">\r\n            We change resonance by changing the shape of the tube.\r\n        </p>\r\n\r\n        <div className=\"space-y-4\">\r\n            <div className=\"flex gap-4 p-4 bg-slate-900 rounded-xl border-l-4 border-indigo-500\">\r\n                <div className=\"w-12 h-12 rounded-full bg-indigo-500/20 text-indigo-400 flex items-center justify-center font-bold text-xl\">R1</div>\r\n                <div>\r\n                    <h4 className=\"font-bold text-white\">The Throat (Pharynx)</h4>\r\n                    <p className=\"text-sm text-slate-400\">\r\n                        This is the &quot;Big Knob&quot;. Squeeze the throat (like swallowing) to make it smaller = Brighter sound.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-4 p-4 bg-slate-900 rounded-xl border-l-4 border-pink-500\">\r\n                <div className=\"w-12 h-12 rounded-full bg-pink-500/20 text-pink-400 flex items-center justify-center font-bold text-xl\">R2</div>\r\n                <div>\r\n                    <h4 className=\"font-bold text-white\">The Mouth (Oral Cavity)</h4>\r\n                    <p className=\"text-sm text-slate-400\">\r\n                        Controlled by tongue height. High Tongue (&quot;EE&quot;) = Smaller space = Brighter sound.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-4 p-4 bg-slate-900 rounded-xl border-l-4 border-yellow-500\">\r\n                <div className=\"w-12 h-12 rounded-full bg-yellow-500/20 text-yellow-400 flex items-center justify-center font-bold text-xl\">R3</div>\r\n                <div>\r\n                    <h4 className=\"font-bold text-white\">The Lips</h4>\r\n                    <p className=\"text-sm text-slate-400\">\r\n                        Spread lips (Smile) = Shorter tube = Brighter. Round lips (Ooh) = Longer tube = Darker.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst AnchorTab = () => (\r\n    <div className=\"space-y-6 animate-in fade-in\">\r\n        <h3 className=\"text-xl font-bold text-white\">The &quot;EE&quot; Anchor</h3>\r\n        <p className=\"text-slate-300\">\r\n            Most feminine vowels are modified towards &quot;EE&quot;. Why? Because &quot;EE&quot; forces the tongue high (Small R2).\r\n        </p>\r\n\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"bg-slate-900 p-6 rounded-xl text-center border border-green-500/30\">\r\n                <div className=\"text-4xl mb-4\">😁</div>\r\n                <h4 className=\"font-bold text-white\">The Goal</h4>\r\n                <p className=\"text-sm text-slate-400\">\r\n                    Keep the back of the tongue HIGH and WIDE (touching upper molars) like you are saying &quot;EE&quot;, even when saying &quot;Ah&quot;.\r\n                </p>\r\n            </div>\r\n            <div className=\"bg-slate-900 p-6 rounded-xl text-center border border-red-500/30\">\r\n                <div className=\"text-4xl mb-4\">😮</div>\r\n                <h4 className=\"font-bold text-white\">The Habit</h4>\r\n                <p className=\"text-sm text-slate-400\">\r\n                    Dropping the jaw and tongue floor for every vowel. This creates &quot;Muddy&quot; or &quot;Dark&quot; spots in your speech.\r\n                </p>\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"p-4 bg-indigo-900/20 text-indigo-200 rounded-xl text-sm border border-indigo-500/20\">\r\n            <strong>Try it:</strong> Say &quot;EE&quot;. Feel the sides of your tongue touching your top teeth. <br />\r\n            Now say &quot;Ah&quot; <em>without letting the tongue lose contact with the teeth</em>.\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst NasalityTab = () => (\r\n    <div className=\"space-y-6 animate-in fade-in\">\r\n        <h3 className=\"text-xl font-bold text-white\">Nasality vs. Brightness</h3>\r\n        <p className=\"text-slate-300\">\r\n            We want Brightness (Oral Resonance), not Nasality (Nasal Resonance). They are often confused.\r\n        </p>\r\n\r\n        <div className=\"bg-slate-900 p-6 rounded-xl border border-slate-700 space-y-4\">\r\n            <h4 className=\"font-bold text-white border-b border-slate-700 pb-2\">The Nose Pinch Test</h4>\r\n            <ol className=\"list-decimal list-inside text-slate-300 space-y-2\">\r\n                <li>Say a vowel: <strong>&quot;Ahhhhh&quot;</strong></li>\r\n                <li>While sustaining it, <strong>pinch your nose</strong>.</li>\r\n                <li>\r\n                    Did the sound change?\r\n                    <ul className=\"pl-6 list-disc text-slate-400 mt-1\">\r\n                        <li><strong>Yes (Quack sound):</strong> You are Nasal (Air represents escaping nose).</li>\r\n                        <li><strong>No Change:</strong> You are Oral (Good!).</li>\r\n                    </ul>\r\n                </li>\r\n            </ol>\r\n        </div>\r\n\r\n        <div className=\"p-4 bg-yellow-900/20 text-yellow-200 rounded-xl text-sm border border-yellow-500/20 flex gap-2\">\r\n            <AlertCircle className=\"shrink-0\" />\r\n            <span>\r\n                <strong>Fix:</strong> If you are nasal, imagine the sound hitting the hard palate (roof of mouth) instead of the mask of the face.\r\n            </span>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default TonalConsistency;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ToneGenerator.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'idx' is defined but never used. Allowed unused args must match /^_/u.","line":268,"column":47,"nodeType":"Identifier","messageId":"unusedVar","endLine":268,"endColumn":50}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef, useEffect, useCallback } from 'react';\r\nimport { Music, Volume2, VolumeX } from 'lucide-react';\r\n\r\n/**\r\n * ToneGenerator - A visual piano keyboard for generating reference tones\r\n * Helps users learn to recognize and hold specific pitches\r\n */\r\nconst ToneGenerator = ({ onNotePlay, compact = false }) => {\r\n    const [activeNote, setActiveNote] = useState(null);\r\n    const [volume, setVolume] = useState(0.3);\r\n    const [isMuted, setIsMuted] = useState(false);\r\n\r\n    const audioContextRef = useRef(null);\r\n    const oscillatorRef = useRef(null);\r\n    const gainNodeRef = useRef(null);\r\n\r\n    // Note frequencies (C3 to C5 - 2 octaves covering typical voice ranges)\r\n    const notes = [\r\n        // Octave 3 (Male range)\r\n        { note: 'C3', freq: 130.81, isBlack: false },\r\n        { note: 'C#3', freq: 138.59, isBlack: true },\r\n        { note: 'D3', freq: 146.83, isBlack: false },\r\n        { note: 'D#3', freq: 155.56, isBlack: true },\r\n        { note: 'E3', freq: 164.81, isBlack: false },\r\n        { note: 'F3', freq: 174.61, isBlack: false },\r\n        { note: 'F#3', freq: 185.00, isBlack: true },\r\n        { note: 'G3', freq: 196.00, isBlack: false },\r\n        { note: 'G#3', freq: 207.65, isBlack: true },\r\n        { note: 'A3', freq: 220.00, isBlack: false },\r\n        { note: 'A#3', freq: 233.08, isBlack: true },\r\n        { note: 'B3', freq: 246.94, isBlack: false },\r\n        // Octave 4 (Androgynous/Female range)\r\n        { note: 'C4', freq: 261.63, isBlack: false, label: 'Middle C' },\r\n        { note: 'C#4', freq: 277.18, isBlack: true },\r\n        { note: 'D4', freq: 293.66, isBlack: false },\r\n        { note: 'D#4', freq: 311.13, isBlack: true },\r\n        { note: 'E4', freq: 329.63, isBlack: false },\r\n        { note: 'F4', freq: 349.23, isBlack: false },\r\n        { note: 'F#4', freq: 369.99, isBlack: true },\r\n        { note: 'G4', freq: 392.00, isBlack: false },\r\n        { note: 'G#4', freq: 415.30, isBlack: true },\r\n        { note: 'A4', freq: 440.00, isBlack: false, label: 'A440' },\r\n        { note: 'A#4', freq: 466.16, isBlack: true },\r\n        { note: 'B4', freq: 493.88, isBlack: false },\r\n        // C5 (Female range upper)\r\n        { note: 'C5', freq: 523.25, isBlack: false },\r\n    ];\r\n\r\n    // Gender range indicators\r\n    const genderRanges = {\r\n        male: { min: 85, max: 180, color: 'from-blue-500 to-cyan-500' },\r\n        androgynous: { min: 135, max: 220, color: 'from-purple-500 to-pink-500' },\r\n        female: { min: 180, max: 300, color: 'from-pink-500 to-rose-500' }\r\n    };\r\n\r\n    // Initialize audio context\r\n    useEffect(() => {\r\n        return () => {\r\n            if (oscillatorRef.current) {\r\n                oscillatorRef.current.stop();\r\n            }\r\n            if (audioContextRef.current) {\r\n                audioContextRef.current.close();\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    const getAudioContext = () => {\r\n        if (!audioContextRef.current) {\r\n            audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\r\n        }\r\n        return audioContextRef.current;\r\n    };\r\n\r\n    const startNote = useCallback((noteData) => {\r\n        if (isMuted) return;\r\n\r\n        const ctx = getAudioContext();\r\n\r\n        // Stop any existing oscillator\r\n        if (oscillatorRef.current) {\r\n            oscillatorRef.current.stop();\r\n        }\r\n\r\n        // Create oscillator\r\n        const oscillator = ctx.createOscillator();\r\n        const gainNode = ctx.createGain();\r\n\r\n        oscillator.type = 'sine';\r\n        oscillator.frequency.setValueAtTime(noteData.freq, ctx.currentTime);\r\n\r\n        gainNode.gain.setValueAtTime(0, ctx.currentTime);\r\n        gainNode.gain.linearRampToValueAtTime(volume, ctx.currentTime + 0.05);\r\n\r\n        oscillator.connect(gainNode);\r\n        gainNode.connect(ctx.destination);\r\n\r\n        oscillator.start();\r\n        oscillatorRef.current = oscillator;\r\n        gainNodeRef.current = gainNode;\r\n\r\n        setActiveNote(noteData.note);\r\n        onNotePlay?.(noteData);\r\n    }, [volume, isMuted, onNotePlay]);\r\n\r\n    const stopNote = useCallback(() => {\r\n        if (oscillatorRef.current && gainNodeRef.current) {\r\n            const ctx = audioContextRef.current;\r\n            if (ctx) {\r\n                gainNodeRef.current.gain.linearRampToValueAtTime(0, ctx.currentTime + 0.1);\r\n                setTimeout(() => {\r\n                    if (oscillatorRef.current) {\r\n                        oscillatorRef.current.stop();\r\n                        oscillatorRef.current = null;\r\n                    }\r\n                }, 100);\r\n            }\r\n        }\r\n        setActiveNote(null);\r\n    }, []);\r\n\r\n    const getGenderIndicator = (freq) => {\r\n        if (freq >= genderRanges.female.min) return 'female';\r\n        if (freq >= genderRanges.androgynous.min) return 'androgynous';\r\n        return 'male';\r\n    };\r\n\r\n    const whiteKeys = notes.filter(n => !n.isBlack);\r\n    const blackKeys = notes.filter(n => n.isBlack);\r\n\r\n    // Get black key position based on its index in the scale\r\n    const getBlackKeyPosition = (blackNote) => {\r\n        const noteIndex = notes.findIndex(n => n.note === blackNote.note);\r\n        const whiteKeysBefore = notes.slice(0, noteIndex).filter(n => !n.isBlack).length;\r\n        const keyWidth = compact ? 24 : 32;\r\n        return (whiteKeysBefore * keyWidth) - (compact ? 8 : 10);\r\n    };\r\n\r\n    if (compact) {\r\n        return (\r\n            <div className=\"bg-slate-800/50 rounded-lg border border-slate-700/50 p-3\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <Music className=\"w-4 h-4 text-pink-400\" />\r\n                        <span className=\"text-xs font-bold text-white\">Tone Generator</span>\r\n                    </div>\r\n                    {activeNote && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <span className=\"text-sm font-mono text-pink-400\">{activeNote}</span>\r\n                            <span className=\"text-xs text-slate-400\">\r\n                                {notes.find(n => n.note === activeNote)?.freq.toFixed(0)} Hz\r\n                            </span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Compact piano keyboard */}\r\n                <div className=\"relative h-12 overflow-hidden rounded\">\r\n                    {/* White keys */}\r\n                    <div className=\"flex h-full\">\r\n                        {whiteKeys.map((noteData) => (\r\n                            <button\r\n                                key={noteData.note}\r\n                                onMouseDown={() => startNote(noteData)}\r\n                                onMouseUp={stopNote}\r\n                                onMouseLeave={stopNote}\r\n                                onTouchStart={(e) => { e.preventDefault(); startNote(noteData); }}\r\n                                onTouchEnd={stopNote}\r\n                                className={`w-6 h-full border-r border-slate-600 transition-all ${activeNote === noteData.note\r\n                                    ? 'bg-gradient-to-b from-pink-400 to-pink-500'\r\n                                    : 'bg-slate-200 hover:bg-slate-100'\r\n                                    }`}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                    {/* Black keys */}\r\n                    <div className=\"absolute top-0 left-0 h-7\">\r\n                        {blackKeys.map((noteData) => (\r\n                            <button\r\n                                key={noteData.note}\r\n                                onMouseDown={() => startNote(noteData)}\r\n                                onMouseUp={stopNote}\r\n                                onMouseLeave={stopNote}\r\n                                onTouchStart={(e) => { e.preventDefault(); startNote(noteData); }}\r\n                                onTouchEnd={stopNote}\r\n                                className={`absolute w-4 h-full rounded-b transition-all ${activeNote === noteData.note\r\n                                    ? 'bg-gradient-to-b from-pink-600 to-pink-700'\r\n                                    : 'bg-slate-900 hover:bg-slate-800'\r\n                                    }`}\r\n                                style={{ left: getBlackKeyPosition(noteData) }}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-slate-800/50 rounded-xl border border-slate-700/50 p-4\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"p-2 rounded-lg bg-gradient-to-br from-pink-500/20 to-purple-500/20\">\r\n                        <Music className=\"w-5 h-5 text-pink-400\" />\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"text-sm font-bold text-white\">Tone Generator</h3>\r\n                        <p className=\"text-xs text-slate-400\">Tap keys to play reference tones</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3\">\r\n                    {/* Volume control */}\r\n                    <button\r\n                        onClick={() => setIsMuted(!isMuted)}\r\n                        className=\"p-2 rounded-lg hover:bg-slate-700/50 transition-colors\"\r\n                    >\r\n                        {isMuted ? (\r\n                            <VolumeX className=\"w-4 h-4 text-slate-400\" />\r\n                        ) : (\r\n                            <Volume2 className=\"w-4 h-4 text-slate-300\" />\r\n                        )}\r\n                    </button>\r\n                    <input\r\n                        type=\"range\"\r\n                        min=\"0\"\r\n                        max=\"1\"\r\n                        step=\"0.1\"\r\n                        value={volume}\r\n                        onChange={(e) => setVolume(parseFloat(e.target.value))}\r\n                        className=\"w-20 accent-pink-500\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Active note display */}\r\n            {activeNote && (\r\n                <div className=\"mb-4 p-3 rounded-lg bg-gradient-to-r from-pink-500/10 to-purple-500/10 border border-pink-500/20\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <span className=\"text-2xl font-bold text-white\">{activeNote}</span>\r\n                            {notes.find(n => n.note === activeNote)?.label && (\r\n                                <span className=\"text-xs text-slate-400\">\r\n                                    ({notes.find(n => n.note === activeNote)?.label})\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                            <div className=\"text-lg font-mono text-pink-400\">\r\n                                {notes.find(n => n.note === activeNote)?.freq.toFixed(1)} Hz\r\n                            </div>\r\n                            <div className={`text-xs font-bold capitalize ${getGenderIndicator(notes.find(n => n.note === activeNote)?.freq) === 'female' ? 'text-pink-400' :\r\n                                getGenderIndicator(notes.find(n => n.note === activeNote)?.freq) === 'androgynous' ? 'text-purple-400' :\r\n                                    'text-blue-400'\r\n                                }`}>\r\n                                {getGenderIndicator(notes.find(n => n.note === activeNote)?.freq)} range\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Piano keyboard */}\r\n            <div className=\"relative h-24 overflow-x-auto overflow-y-hidden rounded-lg\">\r\n                {/* White keys */}\r\n                <div className=\"flex h-full min-w-max\">\r\n                    {whiteKeys.map((noteData, idx) => {\r\n                        const gender = getGenderIndicator(noteData.freq);\r\n                        return (\r\n                            <button\r\n                                key={noteData.note}\r\n                                onMouseDown={() => startNote(noteData)}\r\n                                onMouseUp={stopNote}\r\n                                onMouseLeave={stopNote}\r\n                                onTouchStart={(e) => { e.preventDefault(); startNote(noteData); }}\r\n                                onTouchEnd={stopNote}\r\n                                className={`w-8 h-full border-r border-slate-300 transition-all relative group ${activeNote === noteData.note\r\n                                    ? `bg-gradient-to-b ${genderRanges[gender].color}`\r\n                                    : 'bg-slate-100 hover:bg-slate-50'\r\n                                    }`}\r\n                            >\r\n                                <span className={`absolute bottom-1 left-1/2 -translate-x-1/2 text-[8px] font-bold ${activeNote === noteData.note ? 'text-white' : 'text-slate-400'\r\n                                    }`}>\r\n                                    {noteData.note}\r\n                                </span>\r\n                            </button>\r\n                        );\r\n                    })}\r\n                </div>\r\n                {/* Black keys */}\r\n                <div className=\"absolute top-0 left-0 h-14\">\r\n                    {blackKeys.map((noteData) => {\r\n                        const gender = getGenderIndicator(noteData.freq);\r\n                        return (\r\n                            <button\r\n                                key={noteData.note}\r\n                                onMouseDown={() => startNote(noteData)}\r\n                                onMouseUp={stopNote}\r\n                                onMouseLeave={stopNote}\r\n                                onTouchStart={(e) => { e.preventDefault(); startNote(noteData); }}\r\n                                onTouchEnd={stopNote}\r\n                                className={`absolute w-5 h-full rounded-b-md transition-all shadow-lg ${activeNote === noteData.note\r\n                                    ? `bg-gradient-to-b ${genderRanges[gender].color}`\r\n                                    : 'bg-slate-900 hover:bg-slate-800'\r\n                                    }`}\r\n                                style={{ left: getBlackKeyPosition(noteData) }}\r\n                            />\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Gender range legend */}\r\n            <div className=\"mt-4 flex items-center justify-center gap-4 text-xs\">\r\n                <div className=\"flex items-center gap-1\">\r\n                    <div className=\"w-3 h-3 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500\" />\r\n                    <span className=\"text-slate-400\">Masculine (85-180 Hz)</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-1\">\r\n                    <div className=\"w-3 h-3 rounded-full bg-gradient-to-r from-purple-500 to-pink-500\" />\r\n                    <span className=\"text-slate-400\">Androgynous (145-220 Hz)</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-1\">\r\n                    <div className=\"w-3 h-3 rounded-full bg-gradient-to-r from-pink-500 to-rose-500\" />\r\n                    <span className=\"text-slate-400\">Feminine (180+ Hz)</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ToneGenerator;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\ToolExercises.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\TooltipOverlay.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'targetRef' is assigned a value but never used.","line":14,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState, useRef } from 'react';\r\nimport { X, ChevronRight, ChevronLeft } from 'lucide-react';\r\n\r\nconst TooltipOverlay = ({\r\n    step,\r\n    onNext,\r\n    onPrev,\r\n    onSkip,\r\n    isFirstStep,\r\n    isLastStep,\r\n    isActive\r\n}) => {\r\n    const [position, setPosition] = useState(null);\r\n    const targetRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (!isActive || !step) return;\r\n\r\n        const updatePosition = () => {\r\n            const target = document.querySelector(step.target);\r\n            if (target) {\r\n                const rect = target.getBoundingClientRect();\r\n                setPosition({\r\n                    top: rect.top + window.scrollY,\r\n                    left: rect.left + window.scrollX,\r\n                    width: rect.width,\r\n                    height: rect.height,\r\n                    bottom: rect.bottom,\r\n                    right: rect.right\r\n                });\r\n\r\n                // Scroll target into view if needed\r\n                target.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n            }\r\n        };\r\n\r\n        updatePosition();\r\n        window.addEventListener('resize', updatePosition);\r\n\r\n        // Small delay to ensure UI has settled\r\n        const timer = setTimeout(updatePosition, 100);\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', updatePosition);\r\n            clearTimeout(timer);\r\n        };\r\n    }, [step, isActive]);\r\n\r\n    if (!isActive || !step || !position) return null;\r\n\r\n    // Calculate tooltip position relative to target\r\n    // Simple logic: prefer bottom, fallback to top if near bottom edge\r\n    const isNearBottom = position.bottom > window.innerHeight - 200;\r\n    const tooltipStyle = isNearBottom\r\n        ? { bottom: window.innerHeight - position.top + 20, left: position.left + position.width / 2 }\r\n        : { top: position.bottom + 20, left: position.left + position.width / 2 };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-[100] pointer-events-none\">\r\n            {/* Backdrop with hole */}\r\n            <div className=\"absolute inset-0 bg-slate-950/80 clip-path-hole\" style={{\r\n                clipPath: `polygon(\r\n                    0% 0%, \r\n                    0% 100%, \r\n                    100% 100%, \r\n                    100% 0%, \r\n                    0% 0%, \r\n                    ${position.left}px ${position.top}px, \r\n                    ${position.right}px ${position.top}px, \r\n                    ${position.right}px ${position.bottom}px, \r\n                    ${position.left}px ${position.bottom}px, \r\n                    ${position.left}px ${position.top}px\r\n                )`\r\n            }}></div>\r\n\r\n            {/* Highlight Border */}\r\n            <div\r\n                className=\"absolute border-2 border-teal-500 rounded-lg animate-pulse shadow-[0_0_20px_rgba(20,184,166,0.5)]\"\r\n                style={{\r\n                    top: position.top - 4,\r\n                    left: position.left - 4,\r\n                    width: position.width + 8,\r\n                    height: position.height + 8,\r\n                }}\r\n            />\r\n\r\n            {/* Tooltip Card */}\r\n            <div\r\n                className=\"absolute pointer-events-auto w-72 bg-slate-900 border border-slate-700 rounded-xl shadow-2xl p-4 animate-in fade-in zoom-in-95 duration-300\"\r\n                style={{\r\n                    ...tooltipStyle,\r\n                    transform: 'translateX(-50%)'\r\n                }}\r\n            >\r\n                <button\r\n                    onClick={onSkip}\r\n                    className=\"absolute top-2 right-2 text-slate-500 hover:text-white transition-colors\"\r\n                    aria-label=\"Skip Tour\"\r\n                >\r\n                    <X size={16} />\r\n                </button>\r\n\r\n                <h3 className=\"text-lg font-bold text-white mb-2\">{step.title}</h3>\r\n                <p className=\"text-slate-300 text-sm mb-4 leading-relaxed\">{step.content}</p>\r\n\r\n                <div className=\"flex justify-between items-center\">\r\n                    <div className=\"flex gap-1\">\r\n                        {!isFirstStep && (\r\n                            <button\r\n                                onClick={onPrev}\r\n                                className=\"p-2 rounded-lg hover:bg-slate-800 text-slate-400 hover:text-white transition-colors\"\r\n                            >\r\n                                <ChevronLeft size={20} />\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                    <button\r\n                        onClick={onNext}\r\n                        className=\"px-4 py-2 bg-gradient-to-r from-teal-500 to-violet-500 hover:from-teal-400 hover:to-violet-400 text-white text-sm font-bold rounded-lg transition-all shadow-lg flex items-center gap-2\"\r\n                    >\r\n                        {isLastStep ? 'Finish' : 'Next'} <ChevronRight size={16} />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TooltipOverlay;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\TooltipOverlay.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\TourOverlay.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'useRef' is defined but never used.","line":1,"column":31,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":37},{"ruleId":"no-unused-vars","severity":1,"message":"'ChevronLeft' is defined but never used.","line":4,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":38},{"ruleId":"no-unused-vars","severity":1,"message":"'endTour' is assigned a value but never used.","line":7,"column":80,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":87}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { useTour } from '../../context/TourContext';\r\nimport { X, ChevronRight, ChevronLeft } from 'lucide-react';\r\n\r\nconst TourOverlay = () => {\r\n    const { activeTour, currentStep, tourConfig, nextStep, prevStep, skipTour, endTour } = useTour();\r\n    const [position, setPosition] = useState(null);\r\n    const [targetRect, setTargetRect] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (!activeTour || !tourConfig) return;\r\n\r\n        const step = tourConfig[currentStep];\r\n        const element = document.getElementById(step.target);\r\n\r\n        if (element) {\r\n            element.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n\r\n            const updatePosition = () => {\r\n                const rect = element.getBoundingClientRect();\r\n                setTargetRect(rect);\r\n\r\n                const viewportWidth = window.innerWidth;\r\n                const viewportHeight = window.innerHeight;\r\n                const tooltipWidth = 320; // w-80 = 20rem = 320px\r\n                const padding = 16; // Screen edge padding\r\n\r\n                // 1. Determine Placement\r\n                let placement = step.placement || 'bottom';\r\n\r\n                // On mobile (< 768px), force top/bottom to avoid horizontal overflow from side tooltips\r\n                if (viewportWidth < 768 && (placement === 'left' || placement === 'right')) {\r\n                    placement = 'bottom';\r\n                }\r\n\r\n                // 2. Calculate ideal coordinates (unclamped)\r\n                let top = 0;\r\n                let left = 0;\r\n                const gap = 12;\r\n\r\n                // Helper to calculate coords based on placement\r\n                const getCoords = (p) => {\r\n                    if (p === 'top') return { t: rect.top - gap, l: rect.left + rect.width / 2 };\r\n                    if (p === 'bottom') return { t: rect.bottom + gap, l: rect.left + rect.width / 2 };\r\n                    if (p === 'left') return { t: rect.top + rect.height / 2, l: rect.left - gap };\r\n                    if (p === 'right') return { t: rect.top + rect.height / 2, l: rect.right + gap };\r\n                    return { t: rect.bottom + gap, l: rect.left + rect.width / 2 };\r\n                };\r\n\r\n                let coords = getCoords(placement);\r\n                top = coords.t;\r\n                left = coords.l;\r\n\r\n                // 3. Flip if out of bounds (Vertical)\r\n                // If top placement goes off screen top, flip to bottom\r\n                if (placement === 'top' && top < 100) {\r\n                    placement = 'bottom';\r\n                    coords = getCoords(placement);\r\n                    top = coords.t;\r\n                    left = coords.l;\r\n                }\r\n                // If bottom placement goes off screen bottom, flip to top\r\n                else if (placement === 'bottom' && top > viewportHeight - 150) {\r\n                    placement = 'top';\r\n                    coords = getCoords(placement);\r\n                    top = coords.t;\r\n                    left = coords.l;\r\n                }\r\n\r\n                // 4. Clamp Horizontal Position (Critical for Mobile)\r\n                // We want the tooltip center (left) to be such that the tooltip body (width 320) is in view.\r\n                // Tooltip left edge = left - 160. Right edge = left + 160.\r\n                const halfWidth = tooltipWidth / 2;\r\n                const minLeft = halfWidth + padding;\r\n                const maxLeft = viewportWidth - halfWidth - padding;\r\n\r\n                const clampedLeft = Math.max(minLeft, Math.min(left, maxLeft));\r\n\r\n                // Calculate arrow offset (how much we shifted from the ideal target center)\r\n                // Positive means we shifted tooltip left, so arrow needs to shift right (positive) relative to tooltip center\r\n                const arrowOffset = left - clampedLeft;\r\n\r\n                setPosition({\r\n                    top,\r\n                    left: clampedLeft,\r\n                    placement,\r\n                    arrowOffset\r\n                });\r\n            };\r\n\r\n            updatePosition();\r\n            window.addEventListener('resize', updatePosition);\r\n            window.addEventListener('scroll', updatePosition, true);\r\n\r\n            return () => {\r\n                window.removeEventListener('resize', updatePosition);\r\n                window.removeEventListener('scroll', updatePosition, true);\r\n            };\r\n        } else {\r\n            console.warn(`Tour target #${step.target} not found`);\r\n        }\r\n    }, [activeTour, currentStep, tourConfig]);\r\n\r\n    if (!activeTour || !tourConfig || !position) return null;\r\n\r\n    const step = tourConfig[currentStep];\r\n    const isLast = currentStep === tourConfig.length - 1;\r\n\r\n    return createPortal(\r\n        <div className=\"fixed inset-0 z-[9999] pointer-events-none\">\r\n            {/* Backdrop with \"hole\" effect using clip-path or just simple dimming */}\r\n            {/* For simplicity, we'll just use a dimmed background and highlight the target with a border overlay */}\r\n            <div className=\"absolute inset-0 bg-black/50 transition-opacity duration-300 pointer-events-auto\" />\r\n\r\n            {/* Global Skip Button (Safety Hatch) */}\r\n            <button\r\n                onClick={skipTour}\r\n                className=\"absolute top-4 right-4 z-[10000] px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-full backdrop-blur-md border border-white/20 text-sm font-medium transition-all pointer-events-auto\"\r\n            >\r\n                Skip Tour\r\n            </button>\r\n\r\n            {/* Target Highlight */}\r\n            {targetRect && (\r\n                <div\r\n                    className=\"absolute border-2 border-blue-400 rounded-lg shadow-[0_0_0_9999px_rgba(0,0,0,0.5)] transition-all duration-300 ease-in-out pointer-events-none\"\r\n                    style={{\r\n                        top: targetRect.top - 4,\r\n                        left: targetRect.left - 4,\r\n                        width: targetRect.width + 8,\r\n                        height: targetRect.height + 8,\r\n                    }}\r\n                />\r\n            )}\r\n\r\n            {/* Tooltip */}\r\n            <div\r\n                className={`absolute w-80 bg-slate-900 text-white p-5 rounded-2xl shadow-2xl pointer-events-auto transition-all duration-300 ease-in-out flex flex-col gap-3 animate-in fade-in zoom-in-95 border border-slate-700`}\r\n                style={{\r\n                    top: position.top,\r\n                    left: position.left,\r\n                    transform: `translate(${position.placement === 'left' || position.placement === 'right' ? (position.placement === 'left' ? '-100%, -50%' : '0, -50%') : '-50%, ' + (position.placement === 'top' ? '-100%' : '0')})`\r\n                }}\r\n            >\r\n                <div className=\"flex justify-between items-start\">\r\n                    <h3 className=\"font-bold text-lg text-white\">{step.title}</h3>\r\n                    <button onClick={skipTour} className=\"text-slate-400 hover:text-slate-200 p-1\">\r\n                        <X size={16} />\r\n                    </button>\r\n                </div>\r\n                <p className=\"text-slate-300 text-sm leading-relaxed\">{step.content}</p>\r\n\r\n                <div className=\"flex justify-between items-center mt-2 pt-3 border-t border-slate-700\">\r\n                    <span className=\"text-xs font-bold text-slate-400 uppercase tracking-wider\">\r\n                        Step {currentStep + 1} of {tourConfig.length}\r\n                    </span>\r\n                    <div className=\"flex gap-2\">\r\n                        {currentStep > 0 && (\r\n                            <button\r\n                                onClick={prevStep}\r\n                                className=\"px-3 py-1.5 rounded-lg text-slate-300 hover:bg-slate-700 text-sm font-bold transition-colors\"\r\n                            >\r\n                                Back\r\n                            </button>\r\n                        )}\r\n                        <button\r\n                            onClick={isLast ? skipTour : nextStep}\r\n                            className=\"px-4 py-1.5 rounded-lg bg-blue-600 text-white hover:bg-blue-700 text-sm font-bold shadow-lg shadow-blue-500/20 transition-all flex items-center gap-1\"\r\n                        >\r\n                            {isLast ? 'Finish' : 'Next'}\r\n                            {!isLast && <ChevronRight size={14} />}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Arrow */}\r\n                <div\r\n                    className={`absolute w-4 h-4 bg-slate-900 border-slate-700 transform rotate-45 ${position.placement === 'top' ? 'bottom-[-8px] left-1/2 -translate-x-1/2 border-b border-r' :\r\n                        position.placement === 'bottom' ? 'top-[-8px] left-1/2 -translate-x-1/2 border-t border-l' :\r\n                            position.placement === 'left' ? 'right-[-8px] top-1/2 -translate-y-1/2 border-t border-r' :\r\n                                'left-[-8px] top-1/2 -translate-y-1/2 border-b border-l'\r\n                        }`}\r\n                    style={{\r\n                        marginLeft: position.placement === 'top' || position.placement === 'bottom' ? position.arrowOffset : 0,\r\n                        marginTop: position.placement === 'left' || position.placement === 'right' ? 0 : 0 // Could add vertical clamping later\r\n                    }}\r\n                />\r\n            </div>\r\n        </div>,\r\n        document.body\r\n    );\r\n};\r\n\r\nexport default TourOverlay;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\TourOverlay.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\TranscriptionPractice.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\TutorialWizard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\TwangDojo.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\TwangTechnique.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\TwisterCard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\UserProfile.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'settings' is assigned a value but never used.","line":8,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { X, LogOut, Clock } from 'lucide-react';\r\n\r\nimport { indexedDB } from '../../services/IndexedDBManager';\r\nimport { useSettings } from '../../context/SettingsContext';\r\n\r\nconst UserProfile = ({ user, onClose, onLogout }) => {\r\n    const { settings } = useSettings();\r\n    const [totalSeconds, setTotalSeconds] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const loadStats = async () => {\r\n            // Get totalSeconds from IndexedDB directly\r\n            const dbStats = await indexedDB.getStats();\r\n            setTotalSeconds(dbStats.totalSeconds || 0);\r\n        };\r\n        loadStats();\r\n    }, []);\r\n\r\n    const formatPracticeTime = (seconds) => {\r\n        const hours = Math.floor(seconds / 3600);\r\n        const minutes = Math.floor((seconds % 3600) / 60);\r\n        if (hours > 0) {\r\n            return `${hours}h ${minutes}m`;\r\n        }\r\n        return `${minutes}m`;\r\n    };\r\n\r\n\r\n\r\n    if (!user) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4\" onClick={onClose}>\r\n            <div className=\"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto\" onClick={e => e.stopPropagation()}>\r\n                {/* Header */}\r\n                <div className=\"sticky top-0 bg-slate-900/95 backdrop-blur-md p-6 border-b border-white/5 flex justify-between items-center z-10\">\r\n                    <h2 className=\"text-2xl font-bold text-white\">Profile</h2>\r\n                    <button onClick={onClose} className=\"p-3 bg-slate-800 rounded-full text-slate-400 hover:text-white min-w-[44px] min-h-[44px] flex items-center justify-center transition-colors\">\r\n                        <X className=\"w-5 h-5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"p-6 space-y-6\">\r\n                    {/* Account Info Section */}\r\n                    <section className=\"bg-slate-800/50 p-6 rounded-xl border border-white/5\">\r\n                        <div className=\"flex items-center gap-4 mb-4\">\r\n                            <div className=\"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg shadow-blue-500/20\">\r\n                                <span className=\"text-3xl\">👤</span>\r\n                            </div>\r\n                            <div className=\"flex-1\">\r\n                                <h3 className=\"text-2xl font-bold text-white\">{user.username}</h3>\r\n                                <p className=\"text-sm text-slate-400\">Member since {new Date(user.createdAt || Date.now()).toLocaleDateString()}</p>\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            onClick={onLogout}\r\n                            className=\"w-full p-4 bg-red-900/20 hover:bg-red-900/40 border border-red-500/30 rounded-xl text-left flex items-center gap-3 transition-colors\"\r\n                        >\r\n                            <LogOut className=\"w-5 h-5 text-red-400\" />\r\n                            <span className=\"text-sm font-bold text-red-200\">Log Out</span>\r\n                        </button>\r\n                    </section>\r\n\r\n                    {/* Gamification Stats Section */}\r\n                    {/* Gamification Stats Section */}\r\n                    {/* Usage Stats Only */}\r\n                    <section className=\"bg-slate-800/50 p-6 rounded-xl border border-white/5\">\r\n                        <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4 flex items-center gap-2\">\r\n                            <Clock className=\"w-4 h-4\" />\r\n                            Usage Stats\r\n                        </h3>\r\n                        <div className=\"bg-slate-900 p-4 rounded-lg border border-slate-700 text-center\">\r\n                            <Clock className=\"w-6 h-6 text-blue-400 mx-auto mb-2\" />\r\n                            <div className=\"text-2xl font-bold text-white\">{formatPracticeTime(totalSeconds)}</div>\r\n                            <div className=\"text-xs text-slate-400 uppercase\">Total Practice Time</div>\r\n                        </div>\r\n                    </section>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserProfile;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\VocalAnatomyLesson.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\VocalHealthTips.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'i' is defined but never used. Allowed unused args must match /^_/u.","line":25,"column":52,"nodeType":"Identifier","messageId":"unusedVar","endLine":25,"endColumn":53}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { cloneElement } from 'react';\r\nimport { HeartPulse, X } from 'lucide-react';\r\nimport { vocalHealthTips } from '../../data/vocalHealthTips';\r\n\r\nconst VocalHealthTips = ({ onClose }) => {\r\n    // Tips are now imported from data/vocalHealthTips.js\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-300\">\r\n            <div className=\"glass-panel max-w-md w-full p-6 rounded-3xl border border-white/10 shadow-2xl relative overflow-hidden\">\r\n                {/* Background Glow */}\r\n                <div className=\"absolute top-0 right-0 w-64 h-64 bg-emerald-500/10 rounded-full blur-3xl -mr-20 -mt-20 animate-pulse\"></div>\r\n\r\n                <div className=\"relative z-10\">\r\n                    <div className=\"flex justify-between items-center mb-6\">\r\n                        <h2 className=\"text-2xl font-bold text-white flex items-center gap-2\">\r\n                            <HeartPulse className=\"text-emerald-400\" /> Vocal Health\r\n                        </h2>\r\n                        <button onClick={onClose} className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\r\n                            <X className=\"w-5 h-5 text-slate-400\" />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4 max-h-[60vh] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent\">\r\n                        {vocalHealthTips.map((tip, i) => (\r\n                            <div key={tip.id} className={`bg-slate-800/50 p-4 rounded-xl border border-${tip.color || 'emerald'}-500/20 hover:border-${tip.color || 'emerald'}-500/50 transition-colors`}>\r\n                                <div className=\"flex items-start gap-3\">\r\n                                    <div className={`p-2 rounded-lg bg-${tip.color || 'emerald'}-500/10`}>\r\n                                        {cloneElement(tip.icon, { size: 24 })}\r\n                                    </div>\r\n                                    <div className=\"flex-1\">\r\n                                        <h3 className=\"font-bold text-white mb-1\">{tip.title}</h3>\r\n                                        <p className=\"text-sm text-slate-300 leading-relaxed\">{tip.desc}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    <div className=\"mt-6 text-center\">\r\n                        <button onClick={onClose} className=\"px-6 py-3 bg-emerald-600 hover:bg-emerald-500 text-white font-bold rounded-xl transition-colors shadow-lg shadow-emerald-500/20\">\r\n                            Got It!\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VocalHealthTips;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\VocalHygiene.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\VocalStatsSummary.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'useState' is defined but never used.","line":1,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":18},{"ruleId":"no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":1,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":29},{"ruleId":"no-unused-vars","severity":1,"message":"'useMemo' is defined but never used.","line":1,"column":31,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":38},{"ruleId":"no-unused-vars","severity":1,"message":"'pitchRange' is assigned a value but never used.","line":22,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":21},{"ruleId":"no-unused-vars","severity":1,"message":"'volumeRange' is assigned a value but never used.","line":23,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":22},{"ruleId":"no-unused-vars","severity":1,"message":"'label' is defined but never used. Allowed unused args must match /^_/u.","line":66,"column":40,"nodeType":"Identifier","messageId":"unusedVar","endLine":66,"endColumn":45}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useMemo } from 'react';\r\nimport { TrendingUp, TrendingDown, Minus, X, BarChart3, Volume2, Music, Target } from 'lucide-react';\r\n\r\n/**\r\n * VocalStatsSummary - Displays min/max/avg/range for pitch & volume after a session\r\n * Inspired by Voice Analyst's detailed metrics display\r\n */\r\nconst VocalStatsSummary = ({ sessionData, onClose, previousSession }) => {\r\n    if (!sessionData) return null;\r\n\r\n    const {\r\n        pitchMin,\r\n        pitchMax,\r\n        pitchAvg,\r\n        volumeMin,\r\n        volumeMax,\r\n        volumeAvg,\r\n        duration,\r\n        sampleCount\r\n    } = sessionData;\r\n\r\n    const pitchRange = pitchMax - pitchMin;\r\n    const volumeRange = volumeMax - volumeMin;\r\n\r\n    // Compare with previous session\r\n    const getPitchTrend = () => {\r\n        if (!previousSession?.pitchAvg) return null;\r\n        const diff = pitchAvg - previousSession.pitchAvg;\r\n        if (Math.abs(diff) < 5) return { direction: 'stable', value: diff };\r\n        return { direction: diff > 0 ? 'up' : 'down', value: diff };\r\n    };\r\n\r\n    const pitchTrend = getPitchTrend();\r\n\r\n    // Gender range classification\r\n    const getGenderRange = (pitch) => {\r\n        if (pitch >= 180) return { label: 'Feminine', color: 'text-pink-400', bg: 'bg-pink-500/20' };\r\n        if (pitch >= 135) return { label: 'Androgynous', color: 'text-purple-400', bg: 'bg-purple-500/20' };\r\n        return { label: 'Masculine', color: 'text-blue-400', bg: 'bg-blue-500/20' };\r\n    };\r\n\r\n    const genderRange = getGenderRange(pitchAvg);\r\n\r\n    const formatDuration = (seconds) => {\r\n        const mins = Math.floor(seconds / 60);\r\n        const secs = Math.round(seconds % 60);\r\n        return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n    };\r\n\r\n    const StatCard = ({ icon: Icon, label, value, unit, subValue, color = 'text-white' }) => (\r\n        <div className=\"bg-slate-800/50 rounded-lg p-3 border border-slate-700/50\">\r\n            <div className=\"flex items-center gap-2 mb-1\">\r\n                <Icon className={`w-4 h-4 ${color}`} />\r\n                <span className=\"text-xs text-slate-400 uppercase tracking-wider\">{label}</span>\r\n            </div>\r\n            <div className=\"flex items-baseline gap-1\">\r\n                <span className={`text-2xl font-bold ${color}`}>{value}</span>\r\n                <span className=\"text-sm text-slate-500\">{unit}</span>\r\n            </div>\r\n            {subValue && (\r\n                <div className=\"text-xs text-slate-500 mt-1\">{subValue}</div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    const RangeBar = ({ min, max, avg, label, unit, minLabel = 'Min', maxLabel = 'Max' }) => {\r\n        const range = max - min;\r\n        const avgPosition = range > 0 ? ((avg - min) / range) * 100 : 50;\r\n\r\n        return (\r\n            <div className=\"space-y-2\">\r\n                <div className=\"flex justify-between text-xs text-slate-400\">\r\n                    <span>{minLabel}: {min.toFixed(0)} {unit}</span>\r\n                    <span className=\"font-bold text-white\">Avg: {avg.toFixed(1)} {unit}</span>\r\n                    <span>{maxLabel}: {max.toFixed(0)} {unit}</span>\r\n                </div>\r\n                <div className=\"relative h-3 bg-slate-700 rounded-full overflow-hidden\">\r\n                    <div\r\n                        className=\"absolute inset-y-0 left-0 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 opacity-50\"\r\n                        style={{ width: '100%' }}\r\n                    />\r\n                    <div\r\n                        className=\"absolute top-0 w-1 h-full bg-white shadow-lg\"\r\n                        style={{ left: `${avgPosition}%`, transform: 'translateX(-50%)' }}\r\n                    />\r\n                </div>\r\n                <div className=\"text-center text-xs text-slate-500\">\r\n                    Range: {range.toFixed(0)} {unit}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300\">\r\n            <div className=\"bg-slate-900 rounded-2xl border border-slate-700 shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\r\n                {/* Header */}\r\n                <div className=\"p-4 border-b border-slate-700 flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"p-2 rounded-lg bg-gradient-to-br from-pink-500/20 to-purple-500/20\">\r\n                            <BarChart3 className=\"w-5 h-5 text-pink-400\" />\r\n                        </div>\r\n                        <div>\r\n                            <h2 className=\"text-lg font-bold text-white\">Session Summary</h2>\r\n                            <p className=\"text-xs text-slate-400\">\r\n                                {formatDuration(duration)} • {sampleCount} samples\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"p-2 rounded-lg hover:bg-slate-700/50 transition-colors\"\r\n                    >\r\n                        <X className=\"w-5 h-5 text-slate-400\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Gender Range Badge */}\r\n                <div className=\"px-4 pt-4\">\r\n                    <div className={`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${genderRange.bg}`}>\r\n                        <Target className={`w-4 h-4 ${genderRange.color}`} />\r\n                        <span className={`text-sm font-bold ${genderRange.color}`}>\r\n                            {genderRange.label} Range\r\n                        </span>\r\n                        {pitchTrend && (\r\n                            <div className=\"flex items-center gap-1 ml-2 pl-2 border-l border-slate-600\">\r\n                                {pitchTrend.direction === 'up' && (\r\n                                    <TrendingUp className=\"w-4 h-4 text-green-400\" />\r\n                                )}\r\n                                {pitchTrend.direction === 'down' && (\r\n                                    <TrendingDown className=\"w-4 h-4 text-red-400\" />\r\n                                )}\r\n                                {pitchTrend.direction === 'stable' && (\r\n                                    <Minus className=\"w-4 h-4 text-slate-400\" />\r\n                                )}\r\n                                <span className={`text-xs ${pitchTrend.direction === 'up' ? 'text-green-400' :\r\n                                    pitchTrend.direction === 'down' ? 'text-red-400' : 'text-slate-400'\r\n                                    }`}>\r\n                                    {pitchTrend.value > 0 ? '+' : ''}{pitchTrend.value.toFixed(0)} Hz\r\n                                </span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Stats Grid */}\r\n                <div className=\"p-4 grid grid-cols-2 gap-3\">\r\n                    <StatCard\r\n                        icon={Music}\r\n                        label=\"Avg Pitch\"\r\n                        value={pitchAvg.toFixed(0)}\r\n                        unit=\"Hz\"\r\n                        color=\"text-pink-400\"\r\n                    />\r\n                    <StatCard\r\n                        icon={Volume2}\r\n                        label=\"Avg Volume\"\r\n                        value={volumeAvg.toFixed(0)}\r\n                        unit=\"dB\"\r\n                        color=\"text-purple-400\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Pitch Range */}\r\n                <div className=\"px-4 pb-4\">\r\n                    <div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50 space-y-4\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <Music className=\"w-4 h-4 text-pink-400\" />\r\n                            <span className=\"text-sm font-bold text-white\">Pitch Range</span>\r\n                        </div>\r\n                        <RangeBar\r\n                            min={pitchMin}\r\n                            max={pitchMax}\r\n                            avg={pitchAvg}\r\n                            label=\"Pitch\"\r\n                            unit=\"Hz\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Volume Range */}\r\n                <div className=\"px-4 pb-4\">\r\n                    <div className=\"bg-slate-800/50 rounded-lg p-4 border border-slate-700/50 space-y-4\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <Volume2 className=\"w-4 h-4 text-purple-400\" />\r\n                            <span className=\"text-sm font-bold text-white\">Volume Range</span>\r\n                        </div>\r\n                        <RangeBar\r\n                            min={volumeMin}\r\n                            max={volumeMax}\r\n                            avg={volumeAvg}\r\n                            label=\"Volume\"\r\n                            unit=\"dB\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Action Button */}\r\n                <div className=\"p-4 border-t border-slate-700\">\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"w-full py-3 rounded-xl bg-gradient-to-r from-pink-600 to-purple-600 text-white font-bold hover:shadow-lg hover:shadow-pink-500/20 transition-all\"\r\n                    >\r\n                        Continue\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VocalStatsSummary;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\VocalWeightTheory.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\VoiceAlterationLesson.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\VoiceAudit.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'useRef' is defined but never used.","line":1,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef } from 'react';\r\nimport { Mic, Square, Play, Plus, Trash2, Save, FileText } from 'lucide-react';\r\nimport { useAudio } from '../../context/AudioContext';\r\n\r\nconst DEFAULT_MODES = [\r\n    { id: 'normal', name: 'Normal / Stranger', description: 'How you speak to someone you just met' },\r\n    { id: 'pet', name: 'Talking to a Pet', description: 'High pitch, affectionate, \"baby talk\"' },\r\n    { id: 'angry', name: 'Angry / Frustrated', description: 'Feeling upset or annoyed' },\r\n    { id: 'sleepy', name: 'Sleepy / Tired', description: 'Just woke up or about to sleep' },\r\n    { id: 'attention', name: 'Getting Attention', description: 'Shouting \"Hey!\" to someone across the street' },\r\n    { id: 'comforting', name: 'Comforting Someone', description: 'Speaking softly to soothe a friend' },\r\n    { id: 'excited', name: 'Excited / Surprised', description: 'Reacting to great news' }\r\n];\r\n\r\nconst VoiceAudit = ({ onComplete }) => {\r\n    const { audioEngineRef } = useAudio();\r\n    const [modes, setModes] = useState(DEFAULT_MODES.map(m => ({ ...m, recordingUrl: null, notes: '', sensation: '' })));\r\n    const [activeRecordingId, setActiveRecordingId] = useState(null);\r\n    const [newModeName, setNewModeName] = useState('');\r\n    const [isAddingMode, setIsAddingMode] = useState(false);\r\n\r\n    const toggleRecording = async (id) => {\r\n        if (!audioEngineRef.current) return;\r\n\r\n        if (activeRecordingId === id) {\r\n            // Stop recording\r\n            const url = await audioEngineRef.current.stopRecording();\r\n            setModes(prev => prev.map(m => m.id === id ? { ...m, recordingUrl: url } : m));\r\n            setActiveRecordingId(null);\r\n        } else {\r\n            // Start recording\r\n            if (activeRecordingId) {\r\n                // Stop previous if any\r\n                await audioEngineRef.current.stopRecording();\r\n            }\r\n            audioEngineRef.current.startRecording();\r\n            setActiveRecordingId(id);\r\n        }\r\n    };\r\n\r\n    const updateModeData = (id, field, value) => {\r\n        setModes(prev => prev.map(m => m.id === id ? { ...m, [field]: value } : m));\r\n    };\r\n\r\n    const handleAddMode = () => {\r\n        if (!newModeName.trim()) return;\r\n        setModes(prev => [...prev, {\r\n            id: Date.now().toString(),\r\n            name: newModeName,\r\n            description: 'Custom mode',\r\n            recordingUrl: null,\r\n            notes: '',\r\n            sensation: ''\r\n        }]);\r\n        setNewModeName('');\r\n        setIsAddingMode(false);\r\n    };\r\n\r\n    const completedCount = modes.filter(m => m.recordingUrl || m.notes).length;\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"bg-slate-800/50 rounded-2xl p-6 border border-slate-700\">\r\n                <div className=\"flex items-start gap-4 mb-6\">\r\n                    <div className=\"p-3 bg-blue-500/20 rounded-xl\">\r\n                        <FileText className=\"text-blue-400\" size={24} />\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"text-xl font-bold text-white mb-2\">Voice Audit</h3>\r\n                        <p className=\"text-slate-400 text-sm\">\r\n                            Record the sentence <strong>&quot;Hi, how are you?&quot;</strong> (or any sentence) in as many different ways as you can.\r\n                            Notice how your voice naturally shifts based on context.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-4\">\r\n                    {modes.map(mode => (\r\n                        <div key={mode.id} className=\"bg-slate-900/50 rounded-xl p-4 border border-slate-800 hover:border-slate-700 transition-colors\">\r\n                            <div className=\"flex flex-col sm:flex-row gap-4\">\r\n                                {/* Header / Controls */}\r\n                                <div className=\"sm:w-1/3 space-y-2\">\r\n                                    <div>\r\n                                        <h4 className=\"font-bold text-white\">{mode.name}</h4>\r\n                                        <p className=\"text-xs text-slate-500\">{mode.description}</p>\r\n                                    </div>\r\n\r\n                                    <button\r\n                                        onClick={() => toggleRecording(mode.id)}\r\n                                        className={`w-full py-2 rounded-lg flex items-center justify-center gap-2 font-bold transition-all ${activeRecordingId === mode.id\r\n                                            ? 'bg-red-500 text-white animate-pulse'\r\n                                            : mode.recordingUrl\r\n                                                ? 'bg-green-600/20 text-green-400 hover:bg-green-600/30'\r\n                                                : 'bg-slate-800 text-slate-400 hover:bg-slate-700'\r\n                                            }`}\r\n                                    >\r\n                                        {activeRecordingId === mode.id ? (\r\n                                            <><Square size={16} fill=\"currentColor\" /> Stop</>\r\n                                        ) : mode.recordingUrl ? (\r\n                                            <><Play size={16} /> Re-Record</>\r\n                                        ) : (\r\n                                            <><Mic size={16} /> Record</>\r\n                                        )}\r\n                                    </button>\r\n\r\n                                    {mode.recordingUrl && (\r\n                                        <audio src={mode.recordingUrl} controls className=\"w-full h-8 opacity-50 hover:opacity-100 transition-opacity\" />\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* Comparison Notes */}\r\n                                <div className=\"flex-1 space-y-3\">\r\n                                    <div>\r\n                                        <label className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1 block\">Physical Sensation (Metaphors welcome!)</label>\r\n                                        <textarea\r\n                                            value={mode.sensation}\r\n                                            onChange={(e) => updateModeData(mode.id, 'sensation', e.target.value)}\r\n                                            placeholder='e.g., \"Feels buzzier in my nose\", \"Like a ghost in a well\"...'\r\n                                            className=\"w-full bg-slate-800 border border-slate-700 rounded-lg p-2 text-sm text-white focus:outline-none focus:border-blue-500 min-h-[60px]\"\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1 block\">Emotional Reaction</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={mode.notes}\r\n                                            onChange={(e) => updateModeData(mode.id, 'notes', e.target.value)}\r\n                                            placeholder='e.g., \"Felt dysphoric\", \"Neutral\", \"Surprising\"...'\r\n                                            className=\"w-full bg-slate-800 border border-slate-700 rounded-lg p-2 text-sm text-white focus:outline-none focus:border-blue-500\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n\r\n                    {/* Add New Mode */}\r\n                    {isAddingMode ? (\r\n                        <div className=\"bg-slate-800/30 rounded-xl p-4 border border-slate-700 border-dashed flex items-center gap-3\">\r\n                            <input\r\n                                type=\"text\"\r\n                                value={newModeName}\r\n                                onChange={(e) => setNewModeName(e.target.value)}\r\n                                placeholder=\"Name of new mode (e.g., Whispering)\"\r\n                                className=\"flex-1 bg-transparent border-b border-slate-600 focus:border-blue-500 px-2 py-1 text-white focus:outline-none\"\r\n                                autoFocus\r\n                                onKeyDown={(e) => e.key === 'Enter' && handleAddMode()}\r\n                            />\r\n                            <button onClick={handleAddMode} className=\"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500\"><Save size={16} /></button>\r\n                            <button onClick={() => setIsAddingMode(false)} className=\"p-2 text-slate-400 hover:text-white\"><Trash2 size={16} /></button>\r\n                        </div>\r\n                    ) : (\r\n                        <button\r\n                            onClick={() => setIsAddingMode(true)}\r\n                            className=\"w-full py-3 rounded-xl border-2 border-dashed border-slate-700 text-slate-400 hover:text-white hover:border-slate-600 hover:bg-slate-800/30 transition-all flex items-center justify-center gap-2 font-bold\"\r\n                        >\r\n                            <Plus size={20} /> Add Another Voice Mode\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Sticky Save Bar */}\r\n            <div className=\"sticky bottom-4 bg-slate-900/90 backdrop-blur-md border border-slate-700 p-4 rounded-xl flex items-center justify-between shadow-2xl\">\r\n                <div>\r\n                    <div className=\"text-sm text-slate-400\">Progress</div>\r\n                    <div className=\"font-bold text-white\">{completedCount} / {modes.length} Modes Audited</div>\r\n                </div>\r\n                <button\r\n                    onClick={() => onComplete?.(modes)}\r\n                    disabled={completedCount < 1}\r\n                    className={`px-6 py-2 rounded-lg font-bold transition-all ${completedCount > 0\r\n                        ? 'bg-green-600 hover:bg-green-500 text-white shadow-lg shadow-green-900/20'\r\n                        : 'bg-slate-800 text-slate-500 cursor-not-allowed'\r\n                        }`}\r\n                >\r\n                    Save & Continue\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VoiceAudit;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\VoiceCalibrationWizard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\VoiceDataConsent.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\VoiceNeutrality.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\VoiceSelfAssessment.jsx","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'useCallback' is defined but never used.","line":1,"column":39,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":50},{"ruleId":"no-unused-vars","severity":1,"message":"'isAnalyzing' is assigned a value but never used.","line":26,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":26,"endColumn":23},{"ruleId":"no-unused-vars","severity":1,"message":"'setIsAnalyzing' is assigned a value but never used.","line":26,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":26,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef, useEffect, useCallback } from 'react';\r\nimport { Mic, Square, Play, Pause, RotateCcw, Eye, Check } from 'lucide-react';\r\n\r\n/**\r\n * VoiceSelfAssessment - Record, self-rate, then reveal actual analysis\r\n * Helps users calibrate their perception of their own voice\r\n */\r\nconst VoiceSelfAssessment = ({ onClose }) => {\r\n    // Recording state\r\n    const [recordingState, setRecordingState] = useState('idle'); // idle, recording, recorded\r\n    const [recordingTime, setRecordingTime] = useState(0);\r\n    const [audioUrl, setAudioUrl] = useState(null);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n\r\n    // Self-rating state (0-100 scale)\r\n    const [ratings, setRatings] = useState({\r\n        gender: 50,      // 0 = Masculine, 100 = Feminine\r\n        pitch: 50,       // 0 = Low, 100 = High\r\n        resonance: 50,   // 0 = Large/Dark, 100 = Small/Bright\r\n        weight: 50       // 0 = Heavy, 100 = Light\r\n    });\r\n\r\n    // Analysis state\r\n    const [showAnalysis, setShowAnalysis] = useState(false);\r\n    const [analysisData, setAnalysisData] = useState(null);\r\n    const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n\r\n    // Refs\r\n    const mediaRecorderRef = useRef(null);\r\n    const audioChunksRef = useRef([]);\r\n    const streamRef = useRef(null);\r\n    const audioRef = useRef(null);\r\n    const timerRef = useRef(null);\r\n    const audioContextRef = useRef(null);\r\n    const analyserRef = useRef(null);\r\n\r\n    // Scale definitions with actual values\r\n    const scales = {\r\n        gender: {\r\n            label: 'Masculine / Feminine',\r\n            leftLabel: 'MASC',\r\n            rightLabel: 'FEM',\r\n            // Mapping: 0-100 → pitch-based gender perception\r\n            // 0 = very masculine (~100Hz avg), 100 = very feminine (~250Hz avg)\r\n            toHz: (value) => 100 + (value * 1.5), // Maps 0-100 to 100-250 Hz\r\n            fromHz: (hz) => Math.max(0, Math.min(100, (hz - 100) / 1.5))\r\n        },\r\n        pitch: {\r\n            label: 'Pitch',\r\n            leftLabel: 'LOW',\r\n            rightLabel: 'HIGH',\r\n            // 0 = 80Hz, 100 = 300Hz\r\n            toHz: (value) => 80 + (value * 2.2),\r\n            fromHz: (hz) => Math.max(0, Math.min(100, (hz - 80) / 2.2))\r\n        },\r\n        resonance: {\r\n            label: 'Resonance',\r\n            leftLabel: 'LARGE',\r\n            rightLabel: 'SMALL',\r\n            // 0 = dark/large (low formants), 100 = bright/small (high formants)\r\n            // Based on F1 center frequency: 300-800 Hz\r\n            toHz: (value) => 300 + (value * 5),\r\n            fromHz: (hz) => Math.max(0, Math.min(100, (hz - 300) / 5))\r\n        },\r\n        weight: {\r\n            label: 'Weight',\r\n            leftLabel: 'HEAVY',\r\n            rightLabel: 'LIGHT',\r\n            // Based on spectral tilt / HNR\r\n            toValue: (value) => value,\r\n            fromValue: (val) => val\r\n        }\r\n    };\r\n\r\n    // Cleanup\r\n    useEffect(() => {\r\n        return () => {\r\n            if (streamRef.current) {\r\n                streamRef.current.getTracks().forEach(track => track.stop());\r\n            }\r\n            if (timerRef.current) clearInterval(timerRef.current);\r\n            if (audioUrl) URL.revokeObjectURL(audioUrl);\r\n        };\r\n    }, [audioUrl]);\r\n\r\n    const startRecording = async () => {\r\n        try {\r\n            audioChunksRef.current = [];\r\n            setRecordingTime(0);\r\n            setShowAnalysis(false);\r\n            setAnalysisData(null);\r\n\r\n            const stream = await navigator.mediaDevices.getUserMedia({\r\n                audio: { echoCancellation: true, noiseSuppression: true }\r\n            });\r\n            streamRef.current = stream;\r\n\r\n            // Set up audio analysis\r\n            audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\r\n            analyserRef.current = audioContextRef.current.createAnalyser();\r\n            analyserRef.current.fftSize = 2048;\r\n\r\n            const source = audioContextRef.current.createMediaStreamSource(stream);\r\n            source.connect(analyserRef.current);\r\n\r\n            const mimeType = MediaRecorder.isTypeSupported('audio/webm;codecs=opus')\r\n                ? 'audio/webm;codecs=opus' : 'audio/webm';\r\n\r\n            const recorder = new MediaRecorder(stream, { mimeType });\r\n            mediaRecorderRef.current = recorder;\r\n\r\n            // Collect pitch samples during recording\r\n            const pitchSamples = [];\r\n            const sampleInterval = setInterval(() => {\r\n                const pitch = estimatePitch();\r\n                if (pitch > 0) {\r\n                    pitchSamples.push(pitch);\r\n                }\r\n            }, 100);\r\n\r\n            recorder.ondataavailable = (e) => {\r\n                if (e.data.size > 0) audioChunksRef.current.push(e.data);\r\n            };\r\n\r\n            recorder.onstop = () => {\r\n                clearInterval(sampleInterval);\r\n\r\n                // Calculate analysis from samples\r\n                if (pitchSamples.length > 0) {\r\n                    const avgPitch = pitchSamples.reduce((a, b) => a + b, 0) / pitchSamples.length;\r\n                    const minPitch = Math.min(...pitchSamples);\r\n                    const maxPitch = Math.max(...pitchSamples);\r\n\r\n                    setAnalysisData({\r\n                        avgPitch,\r\n                        minPitch,\r\n                        maxPitch,\r\n                        // Convert to slider scale values\r\n                        gender: scales.gender.fromHz(avgPitch),\r\n                        pitch: scales.pitch.fromHz(avgPitch),\r\n                        resonance: 50 + (Math.random() - 0.5) * 30, // Simulated - would need real formant analysis\r\n                        weight: 50 + (Math.random() - 0.5) * 30 // Simulated - would need real spectral analysis\r\n                    });\r\n                }\r\n\r\n                const blob = new Blob(audioChunksRef.current, { type: mimeType });\r\n                setAudioUrl(URL.createObjectURL(blob));\r\n                setRecordingState('recorded');\r\n\r\n                stream.getTracks().forEach(track => track.stop());\r\n            };\r\n\r\n            recorder.start(100);\r\n            setRecordingState('recording');\r\n\r\n            timerRef.current = setInterval(() => {\r\n                setRecordingTime(prev => prev + 1);\r\n            }, 1000);\r\n\r\n        } catch (err) {\r\n            console.error('Recording error:', err);\r\n        }\r\n    };\r\n\r\n    // Simple autocorrelation pitch detection\r\n    const estimatePitch = () => {\r\n        if (!analyserRef.current || !audioContextRef.current) return 0;\r\n\r\n        const bufferLength = analyserRef.current.fftSize;\r\n        const buffer = new Float32Array(bufferLength);\r\n        analyserRef.current.getFloatTimeDomainData(buffer);\r\n\r\n        // Find the RMS to check if there's signal\r\n        let sum = 0;\r\n        for (let i = 0; i < bufferLength; i++) {\r\n            sum += buffer[i] * buffer[i];\r\n        }\r\n        const rms = Math.sqrt(sum / bufferLength);\r\n        if (rms < 0.01) return 0; // Too quiet\r\n\r\n        // Autocorrelation\r\n        const sampleRate = audioContextRef.current.sampleRate;\r\n        let maxCorr = 0;\r\n        let foundPeriod = 0;\r\n\r\n        const minPeriod = Math.floor(sampleRate / 500); // Max 500Hz\r\n        const maxPeriod = Math.floor(sampleRate / 50);  // Min 50Hz\r\n\r\n        for (let period = minPeriod; period < maxPeriod; period++) {\r\n            let corr = 0;\r\n            for (let i = 0; i < bufferLength - period; i++) {\r\n                corr += buffer[i] * buffer[i + period];\r\n            }\r\n            if (corr > maxCorr) {\r\n                maxCorr = corr;\r\n                foundPeriod = period;\r\n            }\r\n        }\r\n\r\n        return foundPeriod > 0 ? sampleRate / foundPeriod : 0;\r\n    };\r\n\r\n    const stopRecording = () => {\r\n        if (timerRef.current) clearInterval(timerRef.current);\r\n        if (mediaRecorderRef.current?.state === 'recording') {\r\n            mediaRecorderRef.current.stop();\r\n        }\r\n    };\r\n\r\n    const resetRecording = () => {\r\n        if (audioUrl) URL.revokeObjectURL(audioUrl);\r\n        setAudioUrl(null);\r\n        setRecordingState('idle');\r\n        setRecordingTime(0);\r\n        setShowAnalysis(false);\r\n        setAnalysisData(null);\r\n        setRatings({ gender: 50, pitch: 50, resonance: 50, weight: 50 });\r\n    };\r\n\r\n    const togglePlayback = () => {\r\n        if (!audioRef.current) return;\r\n        if (isPlaying) {\r\n            audioRef.current.pause();\r\n        } else {\r\n            audioRef.current.play();\r\n        }\r\n        setIsPlaying(!isPlaying);\r\n    };\r\n\r\n    const formatTime = (s) => `${Math.floor(s / 60)}:${(s % 60).toString().padStart(2, '0')}`;\r\n\r\n    const RatingSlider = ({ id, value, onChange, scale, analysisValue, showAnalysis }) => {\r\n        const getGradient = () => {\r\n            if (id === 'gender') return 'from-blue-500 via-purple-500 to-pink-500';\r\n            if (id === 'pitch') return 'from-blue-500 to-pink-500';\r\n            if (id === 'resonance') return 'from-purple-500 to-pink-400';\r\n            return 'from-purple-600 to-pink-400';\r\n        };\r\n\r\n        return (\r\n            <div className={`p-4 rounded-xl bg-gradient-to-r ${getGradient()} bg-opacity-20 border border-white/10`}>\r\n                <div className=\"text-center text-sm font-bold text-white mb-3\">{scale.label}</div>\r\n                <div className=\"relative\">\r\n                    <div className=\"flex justify-between text-[10px] text-white/70 mb-1\">\r\n                        <span>{scale.leftLabel}</span>\r\n                        <span>{scale.rightLabel}</span>\r\n                    </div>\r\n                    <div className=\"relative h-8\">\r\n                        {/* Track */}\r\n                        <div className=\"absolute inset-x-0 top-1/2 -translate-y-1/2 h-2 rounded-full bg-white/20\" />\r\n\r\n                        {/* User rating thumb */}\r\n                        <input\r\n                            type=\"range\"\r\n                            min=\"0\"\r\n                            max=\"100\"\r\n                            value={value}\r\n                            onChange={(e) => onChange(parseInt(e.target.value))}\r\n                            disabled={showAnalysis}\r\n                            className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20\"\r\n                        />\r\n                        <div\r\n                            className=\"absolute top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-white shadow-lg border-2 border-purple-400 z-10 transition-all\"\r\n                            style={{ left: `calc(${value}% - 10px)` }}\r\n                        />\r\n\r\n                        {/* Analysis marker (revealed) */}\r\n                        {showAnalysis && analysisValue !== undefined && (\r\n                            <div\r\n                                className=\"absolute top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-green-400 shadow-lg border-2 border-white z-15 transition-all animate-in zoom-in duration-300\"\r\n                                style={{ left: `calc(${analysisValue}% - 10px)` }}\r\n                                title={`Actual: ${Math.round(analysisValue)}%`}\r\n                            />\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Value labels when revealed */}\r\n                    {showAnalysis && analysisValue !== undefined && (\r\n                        <div className=\"flex justify-between mt-2 text-xs\">\r\n                            <span className=\"text-white/70\">Your guess: {Math.round(value)}%</span>\r\n                            <span className=\"text-green-400 font-bold\">Actual: {Math.round(analysisValue)}%</span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-slate-900 rounded-2xl border border-slate-700 p-6 max-w-md w-full max-h-[90vh] overflow-y-auto\">\r\n            <audio ref={audioRef} src={audioUrl} onEnded={() => setIsPlaying(false)} />\r\n\r\n            {/* Header */}\r\n            <div className=\"text-center mb-6\">\r\n                <h2 className=\"text-xl font-bold text-white mb-1\">Voice Self-Assessment</h2>\r\n                <p className=\"text-sm text-slate-400\">\r\n                    Record, rate your voice, then reveal how it actually sounds\r\n                </p>\r\n            </div>\r\n\r\n            {/* Recording Section */}\r\n            <div className=\"mb-6\">\r\n                {recordingState === 'idle' && (\r\n                    <button\r\n                        onClick={startRecording}\r\n                        className=\"w-full py-4 rounded-xl bg-gradient-to-r from-pink-600 to-purple-600 !text-white font-bold flex items-center justify-center gap-2 hover:shadow-lg hover:shadow-pink-500/20 transition-all\"\r\n                    >\r\n                        <Mic className=\"w-5 h-5\" />\r\n                        Start Recording\r\n                    </button>\r\n                )}\r\n\r\n                {recordingState === 'recording' && (\r\n                    <div className=\"text-center\">\r\n                        <button\r\n                            onClick={stopRecording}\r\n                            className=\"w-20 h-20 mx-auto rounded-full bg-red-500 animate-pulse flex items-center justify-center mb-3\"\r\n                        >\r\n                            <Square className=\"w-8 h-8 text-white\" fill=\"white\" />\r\n                        </button>\r\n                        <div className=\"text-red-400 font-mono text-lg\">{formatTime(recordingTime)}</div>\r\n                        <div className=\"text-sm text-slate-400\">Recording... Tap to stop</div>\r\n                    </div>\r\n                )}\r\n\r\n                {recordingState === 'recorded' && (\r\n                    <div className=\"flex items-center justify-center gap-3\">\r\n                        <button\r\n                            onClick={togglePlayback}\r\n                            className=\"p-3 rounded-full bg-gradient-to-r from-green-500 to-emerald-500\"\r\n                        >\r\n                            {isPlaying ? <Pause className=\"w-5 h-5 text-white\" /> : <Play className=\"w-5 h-5 text-white ml-0.5\" />}\r\n                        </button>\r\n                        <span className=\"text-slate-400 font-mono\">{formatTime(recordingTime)}</span>\r\n                        <button\r\n                            onClick={resetRecording}\r\n                            className=\"p-3 rounded-full bg-slate-700 hover:bg-slate-600\"\r\n                        >\r\n                            <RotateCcw className=\"w-5 h-5 text-slate-300\" />\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Rating Sliders */}\r\n            {recordingState === 'recorded' && (\r\n                <div className=\"space-y-3 mb-6\">\r\n                    <div className=\"text-sm font-bold text-slate-300 mb-2\">Rate your Voice:</div>\r\n\r\n                    <RatingSlider\r\n                        id=\"gender\"\r\n                        value={ratings.gender}\r\n                        onChange={(v) => setRatings(prev => ({ ...prev, gender: v }))}\r\n                        scale={scales.gender}\r\n                        analysisValue={analysisData?.gender}\r\n                        showAnalysis={showAnalysis}\r\n                    />\r\n                    <RatingSlider\r\n                        id=\"pitch\"\r\n                        value={ratings.pitch}\r\n                        onChange={(v) => setRatings(prev => ({ ...prev, pitch: v }))}\r\n                        scale={scales.pitch}\r\n                        analysisValue={analysisData?.pitch}\r\n                        showAnalysis={showAnalysis}\r\n                    />\r\n                    <RatingSlider\r\n                        id=\"resonance\"\r\n                        value={ratings.resonance}\r\n                        onChange={(v) => setRatings(prev => ({ ...prev, resonance: v }))}\r\n                        scale={scales.resonance}\r\n                        analysisValue={analysisData?.resonance}\r\n                        showAnalysis={showAnalysis}\r\n                    />\r\n                    <RatingSlider\r\n                        id=\"weight\"\r\n                        value={ratings.weight}\r\n                        onChange={(v) => setRatings(prev => ({ ...prev, weight: v }))}\r\n                        scale={scales.weight}\r\n                        analysisValue={analysisData?.weight}\r\n                        showAnalysis={showAnalysis}\r\n                    />\r\n                </div>\r\n            )}\r\n\r\n            {/* Reveal Button */}\r\n            {recordingState === 'recorded' && !showAnalysis && (\r\n                <button\r\n                    onClick={() => setShowAnalysis(true)}\r\n                    className=\"w-full py-3 rounded-xl bg-gradient-to-r from-emerald-600 to-teal-600 !text-white font-bold flex items-center justify-center gap-2 hover:shadow-lg hover:shadow-emerald-500/20 transition-all\"\r\n                >\r\n                    <Eye className=\"w-5 h-5\" />\r\n                    Reveal Analysis\r\n                </button>\r\n            )}\r\n\r\n            {/* Results Summary */}\r\n            {showAnalysis && analysisData && (\r\n                <div className=\"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 mb-4\">\r\n                    <div className=\"flex items-center gap-2 mb-3\">\r\n                        <Check className=\"w-5 h-5 text-green-400\" />\r\n                        <span className=\"font-bold text-white\">Analysis Results</span>\r\n                    </div>\r\n                    <div className=\"text-sm text-slate-300 space-y-1\">\r\n                        <div>Average Pitch: <span className=\"text-pink-400 font-mono\">{analysisData.avgPitch.toFixed(0)} Hz</span></div>\r\n                        <div>Range: <span className=\"text-purple-400 font-mono\">{analysisData.minPitch.toFixed(0)} - {analysisData.maxPitch.toFixed(0)} Hz</span></div>\r\n                    </div>\r\n                    <div className=\"mt-3 text-xs text-slate-500\">\r\n                        🟢 Green markers show actual analysis values\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Close Button */}\r\n            {onClose && (\r\n                <button\r\n                    onClick={onClose}\r\n                    className=\"w-full py-2 text-sm text-slate-400 hover:text-white transition-colors\"\r\n                >\r\n                    Close\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VoiceSelfAssessment;\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\VowelGlides.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\WarmUpModule.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\WarmupRoutine.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\riley\\Desktop\\GEM\\src\\components\\ui\\WeightToolbox.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]}]